import{a as J}from"./chunk-OKLJU3B3.js";import{a as X}from"./chunk-W3OFA55M.js";import{e as K}from"./chunk-QT4WKFE7.js";import{F as W,G as q}from"./chunk-NQOWQODE.js";import{Ab as x,Eb as c,Fb as o,Gb as i,Hb as s,Ib as b,Jb as C,Kb as F,Mc as A,Nc as B,Ob as M,Oc as $,Pb as h,Rb as d,Sb as I,Tb as D,Tc as Q,Va as G,Vc as u,Ya as l,Yb as j,Zb as _,ac as a,bc as v,cc as L,f as H,fa as f,gb as p,ic as N,la as E,lb as w,ma as S,pc as R,qc as V,rc as z,zb as g}from"./chunk-HM7IHYI7.js";function ee(n,r){if(n&1&&s(0,"img",4),n&2){let e=d();c("src",e.getCompanyLogo(),G)}}function te(n,r){if(n&1&&(o(0,"div",23),a(1),i()),n&2){let e=d();j("background-color",e.getPrimaryColor()),l(),L(" ",e.getCompanyInitials()," ")}}function ne(n,r){n&1&&(o(0,"div",15)(1,"div",24)(2,"a",25),s(3,"i",26),a(4," Minha Empresa "),i(),o(5,"a",27),s(6,"i",28),a(7," Configura\xE7\xE3o SMTP "),i()()())}function ie(n,r){if(n&1&&(s(0,"i",29),o(1,"span",30),a(2),i()),n&2){let e,t=d();l(2),v((e=t.currentCompany())==null?null:e.name)}}function oe(n,r){if(n&1&&s(0,"img",19),n&2){let e,t=d();c("src",(e=t.currentUser())==null?null:e.photoURL,G)}}function re(n,r){n&1&&(o(0,"div",20),s(1,"i",31),i())}function ae(n,r){if(n&1){let e=M();o(0,"div",21)(1,"div",24)(2,"div",32)(3,"p",33),a(4),i(),o(5,"p",34),a(6),i()(),o(7,"button",35),h("click",function(){E(e);let m=d();return S(m.logout())}),s(8,"i",36),a(9," Sair "),i()()()}if(n&2){let e,t,m,y=d();l(4),v(((e=y.currentUser())==null?null:e.displayName)||"Usu\xE1rio"),l(),c("title",N((t=y.currentUser())==null?null:t.email)),l(),v((m=y.currentUser())==null?null:m.email)}}function le(n,r){n&1&&(o(0,"div",37)(1,"div",38)(2,"a",39),s(3,"i",40),a(4," Quadros "),i(),o(5,"a",41),s(6,"i",42),a(7," Usu\xE1rios "),i(),o(8,"a",43),s(9,"i",26),a(10," Minha Empresa "),i(),o(11,"a",44),s(12,"i",28),a(13," SMTP "),i()()())}var O=class n{router=f(K);authService=f(q);subdomainService=f(W);brandingService=f(J);configMenuOpen=!1;userMenuOpen=!1;mobileMenuOpen=!1;currentUser=()=>this.authService.getCurrentUser();currentCompany(){return this.subdomainService.getCurrentCompany()}hasCompanyLogo(){return this.brandingService.hasLogo()}getCompanyLogo(){return this.brandingService.getLogoUrl()}getPrimaryColor(){return this.brandingService.getPrimaryColor()}getCompanyInitials(){let r=this.currentCompany();if(!r?.name)return"T";let e=r.name.split(" ").filter(t=>t.length>0);return e.length===1?e[0].substring(0,2).toUpperCase():e.slice(0,2).map(t=>t[0]).join("").toUpperCase()}isCurrentRoute(r){return this.router.url===r||this.router.url.startsWith(r+"/")}isConfigRoute(){return this.router.url.includes("/empresa/")}toggleConfigMenu(){this.configMenuOpen=!this.configMenuOpen,this.userMenuOpen=!1}toggleUserMenu(){this.userMenuOpen=!this.userMenuOpen,this.configMenuOpen=!1}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}logout(){return H(this,null,function*(){try{(yield this.authService.logout()).success&&(this.subdomainService.clearCurrentCompany(),window.location.href="/login")}catch{}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-global-header"]],decls:28,vars:20,consts:[[1,"bg-white","border-b","border-gray-200","shadow-sm","sticky","top-0","z-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],[1,"flex","items-center","space-x-3"],["alt","Logo da Empresa",1,"h-10","w-auto","rounded",3,"src"],[1,"h-10","w-10","rounded-lg","flex","items-center","justify-center","text-white","font-bold","text-lg",3,"background-color"],[1,"hidden","md:flex","items-center","space-x-6"],["href","/dashboard",1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],[1,"fas","fa-th-large","mr-2"],["href","/usuarios",1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],[1,"fas","fa-users","mr-2"],[1,"relative",3,"click","clickOutside"],[1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],[1,"fas","fa-cog","mr-2"],[1,"fas","fa-chevron-down","ml-1","text-xs"],[1,"absolute","right-0","mt-2","w-56","bg-white","rounded-md","shadow-lg","ring-1","ring-black","ring-opacity-5"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2","text-sm","text-gray-600"],[1,"flex","items-center","p-2","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],["alt","Avatar",1,"w-8","h-8","rounded-full",3,"src"],[1,"w-8","h-8","bg-gray-300","rounded-full","flex","items-center","justify-center"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-md","shadow-lg","ring-1","ring-black","ring-opacity-5"],["class","md:hidden border-t border-gray-200",4,"ngIf"],[1,"h-10","w-10","rounded-lg","flex","items-center","justify-center","text-white","font-bold","text-lg"],[1,"py-1"],["href","/empresa/branding",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"fas","fa-building","mr-3"],["href","/empresa/smtp",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"fas","fa-envelope","mr-3"],[1,"fas","fa-building","text-xs"],[1,"font-medium"],[1,"fas","fa-user","text-gray-600","text-sm"],[1,"px-4","py-2","border-b","border-gray-100","max-w-[16rem]"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500","truncate",3,"title"],[1,"w-full","text-left","px-4","py-2","text-sm","text-red-700","hover:bg-red-50",3,"click"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"md:hidden","border-t","border-gray-200"],[1,"px-2","pt-2","pb-3","space-y-1"],["href","/dashboard",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"],[1,"fas","fa-th-large","mr-3"],["href","/usuarios",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"],[1,"fas","fa-users","mr-3"],["href","/empresa/branding",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"],["href","/empresa/smtp",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"]],template:function(e,t){if(e&1&&(o(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,ee,1,1,"img",4)(5,te,2,3,"div",5),i(),o(6,"nav",6)(7,"a",7),s(8,"i",8),a(9," Quadros "),i(),o(10,"a",9),s(11,"i",10),a(12," Usu\xE1rios "),i(),o(13,"div",11),h("click",function(){return t.toggleConfigMenu()})("clickOutside",function(){return t.configMenuOpen=!1}),o(14,"button",12),s(15,"i",13),a(16," Configura\xE7\xF5es "),s(17,"i",14),i(),g(18,ne,8,0,"div",15),i()(),o(19,"div",16)(20,"div",17),g(21,ie,3,1),i(),o(22,"div",11),h("click",function(){return t.toggleUserMenu()})("clickOutside",function(){return t.userMenuOpen=!1}),o(23,"button",18),g(24,oe,1,1,"img",19)(25,re,2,0,"div",20),i(),g(26,ae,10,4,"div",21),i()()()(),w(27,le,14,0,"div",22),i()),e&2){let m;l(4),x(t.hasCompanyLogo()?4:5),l(3),_("text-blue-600",t.isCurrentRoute("/dashboard"))("bg-blue-50",t.isCurrentRoute("/dashboard")),l(3),_("text-blue-600",t.isCurrentRoute("/usuarios"))("bg-blue-50",t.isCurrentRoute("/usuarios")),l(4),_("text-blue-600",t.configMenuOpen||t.isConfigRoute())("bg-blue-50",t.configMenuOpen||t.isConfigRoute()),l(3),_("rotate-180",t.configMenuOpen),l(),x(t.configMenuOpen?18:-1),l(3),x(t.currentCompany()?21:-1),l(3),x((m=t.currentUser())!=null&&m.photoURL?24:25),l(2),x(t.userMenuOpen?26:-1),l(),c("ngIf",t.mobileMenuOpen)}},dependencies:[u,$],styles:[".rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 768px){.mobile-menu-button[_ngcontent-%COMP%]{display:block}}"]})};var T=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-global-footer"]],decls:15,vars:0,consts:[[1,"bg-gray-50","border-t","border-gray-200","mt-auto"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"flex","items-center","justify-center"],[1,"flex","items-center","space-x-2","text-sm","text-gray-500"],[1,"flex","items-center","space-x-1"],[1,"w-5","h-5","bg-gradient-to-br","from-blue-500","to-blue-600","rounded","flex","items-center","justify-center"],[1,"fas","fa-tasks","text-white","text-xs"],[1,"font-semibold","text-gray-700"]],template:function(e,t){e&1&&(b(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),a(5,"Powered by"),C(),b(6,"div",4)(7,"div",5),F(8,"i",6),C(),b(9,"span",7),a(10,"Task Board"),C()(),b(11,"span"),a(12,"\u2022"),C(),b(13,"span"),a(14,"Sistema de Gest\xE3o Kanban"),C()()()()())},dependencies:[u],styles:["[_nghost-%COMP%]{display:block}"]})};var se=(n,r,e,t)=>({"bg-green-600":n,"bg-red-600":r,"bg-blue-600":e,"bg-yellow-600":t});function me(n,r){if(n&1){let e=M();o(0,"div",2)(1,"div",3)(2,"div",4),a(3),i(),o(4,"button",5),h("click",function(){let m=E(e).$implicit,y=d();return S(y.toast.dismiss(m.id))}),a(5,"\u2715"),i()()()}if(n&2){let e=r.$implicit;c("ngClass",R(2,se,e.type==="success",e.type==="error",e.type==="info",e.type==="warning")),l(3),v(e.text)}}var k=class n{toast=f(X);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-toast-container"]],decls:3,vars:3,consts:[[1,"fixed","top-4","right-4","z-50","space-y-2","w-80"],["class","shadow rounded px-4 py-3 text-white",3,"ngClass",4,"ngFor","ngForOf"],[1,"shadow","rounded","px-4","py-3","text-white",3,"ngClass"],[1,"flex","items-start","justify-between"],[1,"pr-3","text-sm"],[1,"text-white/80","hover:text-white","ml-2",3,"click"]],template:function(e,t){e&1&&(o(0,"div",0),w(1,me,6,7,"div",1),V(2,"async"),i()),e&2&&(l(),c("ngForOf",z(2,1,t.toast.messages$)))},dependencies:[u,A,B,Q],encapsulation:2})};var de=["*"],Y=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-main-layout"]],ngContentSelectors:de,decls:6,vars:0,consts:[[1,"min-h-screen","flex","flex-col"],[1,"flex-1"]],template:function(e,t){e&1&&(I(),o(0,"div",0),s(1,"app-global-header"),o(2,"main",1),D(3),i(),s(4,"app-global-footer")(5,"app-toast-container"),i())},dependencies:[u,O,T,k],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}"]})};export{Y as a};
