import{a as W}from"./chunk-YSZVZQ6K.js";import{e as $}from"./chunk-25I62LPV.js";import{F as K,G as Q}from"./chunk-2TRCQJO6.js";import{Ab as C,Eb as u,Fb as o,Gb as i,Hb as l,Ib as x,Jb as g,Kb as F,Lc as L,Mc as z,Nc as A,Ob as w,Qb as b,Sb as c,Sc as B,Tb as D,Ub as N,Uc as p,Va as U,Ya as s,_b as _,bc as r,cc as v,ga as f,gb as d,h as H,jc as I,lb as S,ma as E,na as M,pc as R,qc as j,rc as V,zb as y}from"./chunk-6OXV7EHC.js";function X(n,a){n&1&&(o(0,"div",17)(1,"div",25)(2,"a",26),l(3,"i",27),r(4," Minha Empresa "),i(),o(5,"a",28),l(6,"i",29),r(7," Configura\xE7\xE3o SMTP "),i()()())}function Y(n,a){if(n&1&&(l(0,"i",30),o(1,"span",31),r(2),i()),n&2){let e,t=c();s(2),v((e=t.currentCompany())==null?null:e.name)}}function Z(n,a){if(n&1&&l(0,"img",21),n&2){let e,t=c();u("src",(e=t.currentUser())==null?null:e.photoURL,U)}}function ee(n,a){n&1&&(o(0,"div",22),l(1,"i",32),i())}function te(n,a){if(n&1){let e=w();o(0,"div",23)(1,"div",25)(2,"div",33)(3,"p",34),r(4),i(),o(5,"p",35),r(6),i()(),o(7,"button",36),b("click",function(){E(e);let m=c();return M(m.logout())}),l(8,"i",37),r(9," Sair "),i()()()}if(n&2){let e,t,m,h=c();s(4),v(((e=h.currentUser())==null?null:e.displayName)||"Usu\xE1rio"),s(),u("title",I((t=h.currentUser())==null?null:t.email)),s(),v((m=h.currentUser())==null?null:m.email)}}function ne(n,a){n&1&&(o(0,"div",38)(1,"div",39)(2,"a",40),l(3,"i",41),r(4," Quadros "),i(),o(5,"a",42),l(6,"i",43),r(7," Usu\xE1rios "),i(),o(8,"a",44),l(9,"i",27),r(10," Minha Empresa "),i(),o(11,"a",45),l(12,"i",29),r(13," SMTP "),i()()())}var O=class n{router=f($);authService=f(Q);subdomainService=f(K);configMenuOpen=!1;userMenuOpen=!1;mobileMenuOpen=!1;currentUser=()=>this.authService.getCurrentUser();currentCompany(){return this.subdomainService.getCurrentCompany()}isCurrentRoute(a){return this.router.url===a||this.router.url.startsWith(a+"/")}isConfigRoute(){return this.router.url.includes("/empresa/")}toggleConfigMenu(){this.configMenuOpen=!this.configMenuOpen,this.userMenuOpen=!1}toggleUserMenu(){this.userMenuOpen=!this.userMenuOpen,this.configMenuOpen=!1}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}logout(){return H(this,null,function*(){try{(yield this.authService.logout()).success&&(this.subdomainService.clearCurrentCompany(),window.location.href="/login")}catch{}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-global-header"]],decls:33,vars:19,consts:[[1,"bg-white","border-b","border-gray-200","shadow-sm","sticky","top-0","z-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-gradient-to-br","from-blue-500","to-blue-600","rounded-lg","flex","items-center","justify-center"],[1,"fas","fa-tasks","text-white","text-lg"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"hidden","md:flex","items-center","space-x-6"],["href","/dashboard",1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],[1,"fas","fa-th-large","mr-2"],["href","/usuarios",1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],[1,"fas","fa-users","mr-2"],[1,"relative",3,"click","clickOutside"],[1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],[1,"fas","fa-cog","mr-2"],[1,"fas","fa-chevron-down","ml-1","text-xs"],[1,"absolute","right-0","mt-2","w-56","bg-white","rounded-md","shadow-lg","ring-1","ring-black","ring-opacity-5"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2","text-sm","text-gray-600"],[1,"flex","items-center","p-2","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md","transition-colors"],["alt","Avatar",1,"w-8","h-8","rounded-full",3,"src"],[1,"w-8","h-8","bg-gray-300","rounded-full","flex","items-center","justify-center"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-md","shadow-lg","ring-1","ring-black","ring-opacity-5"],["class","md:hidden border-t border-gray-200",4,"ngIf"],[1,"py-1"],["href","/empresa/branding",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"fas","fa-building","mr-3"],["href","/empresa/smtp",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"fas","fa-envelope","mr-3"],[1,"fas","fa-building","text-xs"],[1,"font-medium"],[1,"fas","fa-user","text-gray-600","text-sm"],[1,"px-4","py-2","border-b","border-gray-100","max-w-[16rem]"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500","truncate",3,"title"],[1,"w-full","text-left","px-4","py-2","text-sm","text-red-700","hover:bg-red-50",3,"click"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"md:hidden","border-t","border-gray-200"],[1,"px-2","pt-2","pb-3","space-y-1"],["href","/dashboard",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"],[1,"fas","fa-th-large","mr-3"],["href","/usuarios",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"],[1,"fas","fa-users","mr-3"],["href","/empresa/branding",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"],["href","/empresa/smtp",1,"flex","items-center","px-3","py-2","text-base","font-medium","text-gray-700","hover:text-blue-600","hover:bg-blue-50","rounded-md"]],template:function(e,t){if(e&1&&(o(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l(5,"i",5),i(),o(6,"div")(7,"h1",6),r(8,"Task Board"),i(),o(9,"p",7),r(10,"Sistema de Gest\xE3o Kanban"),i()()(),o(11,"nav",8)(12,"a",9),l(13,"i",10),r(14," Quadros "),i(),o(15,"a",11),l(16,"i",12),r(17," Usu\xE1rios "),i(),o(18,"div",13),b("click",function(){return t.toggleConfigMenu()})("clickOutside",function(){return t.configMenuOpen=!1}),o(19,"button",14),l(20,"i",15),r(21," Configura\xE7\xF5es "),l(22,"i",16),i(),y(23,X,8,0,"div",17),i()(),o(24,"div",18)(25,"div",19),y(26,Y,3,1),i(),o(27,"div",13),b("click",function(){return t.toggleUserMenu()})("clickOutside",function(){return t.userMenuOpen=!1}),o(28,"button",20),y(29,Z,1,1,"img",21)(30,ee,2,0,"div",22),i(),y(31,te,10,4,"div",23),i()()()(),S(32,ne,14,0,"div",24),i()),e&2){let m;s(12),_("text-blue-600",t.isCurrentRoute("/dashboard"))("bg-blue-50",t.isCurrentRoute("/dashboard")),s(3),_("text-blue-600",t.isCurrentRoute("/usuarios"))("bg-blue-50",t.isCurrentRoute("/usuarios")),s(4),_("text-blue-600",t.configMenuOpen||t.isConfigRoute())("bg-blue-50",t.configMenuOpen||t.isConfigRoute()),s(3),_("rotate-180",t.configMenuOpen),s(),C(t.configMenuOpen?23:-1),s(3),C(t.currentCompany()?26:-1),s(3),C((m=t.currentUser())!=null&&m.photoURL?29:30),s(2),C(t.userMenuOpen?31:-1),s(),u("ngIf",t.mobileMenuOpen)}},dependencies:[p,A],styles:[".rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 768px){.mobile-menu-button[_ngcontent-%COMP%]{display:block}}"]})};var T=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-global-footer"]],decls:15,vars:0,consts:[[1,"bg-gray-50","border-t","border-gray-200","mt-auto"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"flex","items-center","justify-center"],[1,"flex","items-center","space-x-2","text-sm","text-gray-500"],[1,"flex","items-center","space-x-1"],[1,"w-5","h-5","bg-gradient-to-br","from-blue-500","to-blue-600","rounded","flex","items-center","justify-center"],[1,"fas","fa-tasks","text-white","text-xs"],[1,"font-semibold","text-gray-700"]],template:function(e,t){e&1&&(x(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),r(5,"Powered by"),g(),x(6,"div",4)(7,"div",5),F(8,"i",6),g(),x(9,"span",7),r(10,"Task Board"),g()(),x(11,"span"),r(12,"\u2022"),g(),x(13,"span"),r(14,"Sistema de Gest\xE3o Kanban"),g()()()()())},dependencies:[p],styles:["[_nghost-%COMP%]{display:block}"]})};var ie=(n,a,e,t)=>({"bg-green-600":n,"bg-red-600":a,"bg-blue-600":e,"bg-yellow-600":t});function oe(n,a){if(n&1){let e=w();o(0,"div",2)(1,"div",3)(2,"div",4),r(3),i(),o(4,"button",5),b("click",function(){let m=E(e).$implicit,h=c();return M(h.toast.dismiss(m.id))}),r(5,"\u2715"),i()()()}if(n&2){let e=a.$implicit;u("ngClass",R(2,ie,e.type==="success",e.type==="error",e.type==="info",e.type==="warning")),s(3),v(e.text)}}var k=class n{toast=f(W);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-toast-container"]],decls:3,vars:3,consts:[[1,"fixed","top-4","right-4","z-50","space-y-2","w-80"],["class","shadow rounded px-4 py-3 text-white",3,"ngClass",4,"ngFor","ngForOf"],[1,"shadow","rounded","px-4","py-3","text-white",3,"ngClass"],[1,"flex","items-start","justify-between"],[1,"pr-3","text-sm"],[1,"text-white/80","hover:text-white","ml-2",3,"click"]],template:function(e,t){e&1&&(o(0,"div",0),S(1,oe,6,7,"div",1),j(2,"async"),i()),e&2&&(s(),u("ngForOf",V(2,1,t.toast.messages$)))},dependencies:[p,L,z,B],encapsulation:2})};var re=["*"],q=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-main-layout"]],ngContentSelectors:re,decls:6,vars:0,consts:[[1,"min-h-screen","flex","flex-col"],[1,"flex-1"]],template:function(e,t){e&1&&(D(),o(0,"div",0),l(1,"app-global-header"),o(2,"main",1),N(3),i(),l(4,"app-global-footer")(5,"app-toast-container"),i())},dependencies:[p,O,T,k],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}"]})};export{q as a};
