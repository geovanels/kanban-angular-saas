import{a as te}from"./chunk-FOCFGWFX.js";import{a as ee}from"./chunk-ZSN52DFK.js";import{A as K,C as X,J as V,c as W,e as G,h as q,i as H,l as J,s as Y}from"./chunk-J3PSPDME.js";import{G as Z,H as L}from"./chunk-ZZVDKIU7.js";import{Eb as m,Fb as r,Gb as n,Hb as u,Ob as y,Pc as R,Qb as h,Qc as P,Sb as d,Wc as z,Xc as D,Ya as l,Zb as b,_b as S,ac as $,bc as s,cc as _,dc as x,f as F,fa as I,gb as M,gc as O,hc as C,ic as A,kc as j,la as f,lb as p,ma as v,nc as T,ob as E,rc as B,sc as Q,vc as U}from"./chunk-JPAM732G.js";function ae(a,t){if(a&1&&(r(0,"span",14),s(1),n()),a&2){let e=d();l(),x(" ",e.getDynamicFilterCount()+(e.filterOnlyMine?1:0)," ")}}function le(a,t){if(a&1){let e=y();r(0,"button",15),h("click",function(){f(e);let i=d();return v(i.clearFilters())}),u(1,"i",16),n()}}function se(a,t){if(a&1){let e=y();r(0,"input",36),h("input",function(i){f(e);let c=d().$implicit,g=d(3);return v(g.setDynamicFilter(c.name,i.target.value))}),n()}if(a&2){let e=d().$implicit,o=d(3);m("type",e.type==="number"?"number":"text")("value",o.dynamicFilters[e.name]||"")("placeholder","Filtrar por "+e.label.toLowerCase())}}function de(a,t){if(a&1){let e=y();r(0,"input",37),h("input",function(i){f(e);let c=d().$implicit,g=d(3);return v(g.setDynamicFilter(c.name,i.target.value))}),n()}if(a&2){let e=d().$implicit,o=d(3);m("value",o.dynamicFilters[e.name]||"")}}function ce(a,t){if(a&1&&(r(0,"option",41),s(1),n()),a&2){let e=t.$implicit;m("value",e),l(),x(" ",e," ")}}function me(a,t){if(a&1){let e=y();r(0,"select",38),h("change",function(i){f(e);let c=d().$implicit,g=d(3);return v(g.setDynamicFilter(c.name,i.target.value))}),r(1,"option",39),s(2,"Todos"),n(),p(3,ce,2,2,"option",40),n()}if(a&2){let e=d().$implicit,o=d(3);m("value",o.dynamicFilters[e.name]||""),l(3),m("ngForOf",o.getFieldOptions(e))}}function pe(a,t){if(a&1){let e=y();r(0,"select",38),h("change",function(i){f(e);let c=d().$implicit,g=d(3);return v(g.setDynamicFilter(c.name,i.target.value))}),r(1,"option",39),s(2,"Todas as temperaturas"),n(),r(3,"option",42),s(4,"\u{1F525} Quente"),n(),r(5,"option",43),s(6,"\u{1F321}\uFE0F Morno"),n(),r(7,"option",44),s(8,"\u2744\uFE0F Frio"),n()()}if(a&2){let e=d().$implicit,o=d(3);m("value",o.dynamicFilters[e.name]||"")}}function ue(a,t){if(a&1){let e=y();r(0,"div",1)(1,"input",45),h("change",function(i){f(e);let c=d().$implicit,g=d(3);return v(g.setDynamicFilter(c.name,i.target.checked))}),n(),r(2,"span",12),s(3,"Apenas marcados"),n()()}if(a&2){let e=d().$implicit,o=d(3);l(),m("checked",o.dynamicFilters[e.name]===!0)}}function _e(a,t){if(a&1&&(r(0,"div",30)(1,"label",31),s(2),n(),p(3,se,1,3,"input",32)(4,de,1,1,"input",33)(5,me,4,2,"select",34)(6,pe,9,1,"select",34)(7,ue,4,1,"div",35),n()),a&2){let e=t.$implicit;l(2),x(" ",e.label," "),l(),m("ngIf",e.type==="text"||e.type==="email"||e.type==="tel"||e.type==="number"||e.type==="cnpj"||e.type==="cpf"),l(),m("ngIf",e.type==="date"),l(),m("ngIf",e.type==="select"||e.type==="radio"),l(),m("ngIf",e.type==="temperatura"),l(),m("ngIf",e.type==="checkbox")}}function ge(a,t){if(a&1&&(r(0,"div",27)(1,"h4",28),s(2,"Filtros Din\xE2micos"),n(),p(3,_e,8,6,"div",29),n()),a&2){let e=d(2);l(3),m("ngForOf",e.availableFilterFields)}}function fe(a,t){a&1&&(r(0,"div",46),u(1,"i",47),r(2,"p",48),s(3," Nenhum campo configurado para filtros."),u(4,"br"),s(5,' Configure campos com "Mostrar em filtros" ativado no formul\xE1rio. '),n()())}function ve(a,t){if(a&1){let e=y();r(0,"div",17)(1,"div",18)(2,"div",19)(3,"h3",20),s(4,"Filtros Avan\xE7ados"),n(),r(5,"button",21),h("click",function(){f(e);let i=d();return v(i.toggleAdvancedFilters())}),u(6,"i",16),n()(),p(7,ge,4,1,"div",22)(8,fe,6,0,"div",23),r(9,"div",24)(10,"button",25),h("click",function(){f(e);let i=d();return v(i.clearFilters())}),s(11," Limpar "),n(),r(12,"button",26),h("click",function(){f(e);let i=d();return v(i.toggleAdvancedFilters())}),s(13," Aplicar "),n()()()()}if(a&2){let e=d();l(7),m("ngIf",e.availableFilterFields.length>0),l(),m("ngIf",e.availableFilterFields.length===0)}}var N=class a{firestoreService=I(L);boardId="";ownerId="";columns=[];currentUser=null;filterQuery="";filterOnlyMine=!1;dynamicFilters={};showAdvancedFilters=!1;availableFilterFields=[];initialFormFields=[];phaseFormConfigs={};filterQueryChange=new E;filterOnlyMineChange=new E;dynamicFiltersChange=new E;showAdvancedFiltersChange=new E;filtersApplied=new E;ngOnInit(){return F(this,null,function*(){this.boardId&&this.ownerId&&(yield this.loadInitialFormFields(),yield this.loadAllPhaseFormConfigs(),this.loadAvailableFilterFields())})}loadInitialFormFields(){return F(this,null,function*(){if(this.boardId)try{let t=yield this.firestoreService.getInitialFormConfig(this.boardId);t&&t.fields?(this.initialFormFields=t.fields||[],console.log("\u{1F4CB} [AdvancedFilters] Campos do formul\xE1rio carregados:",this.initialFormFields)):this.initialFormFields=[]}catch{console.log("\u2139\uFE0F [AdvancedFilters] Nenhuma configura\xE7\xE3o de formul\xE1rio encontrada"),this.initialFormFields=[]}})}loadAllPhaseFormConfigs(){return F(this,null,function*(){for(let t of this.columns)try{let e=yield this.firestoreService.getPhaseFormConfig(this.ownerId,this.boardId,t.id);e?.fields&&(this.phaseFormConfigs[t.id]=e)}catch{}this.loadAvailableFilterFields()})}migrateFieldsToIncludeShowInFilters(){if(console.log("\u{1F527} [AdvancedFilters] Migrando campos para incluir showInFilters..."),this.initialFormFields){let t=!1;this.initialFormFields.forEach(e=>{"showInFilters"in e?console.log(`\u2705 [AdvancedFilters] Campo ${e.name} j\xE1 tem showInFilters: ${e.showInFilters}`):(e.showInFilters=!1,t=!0,console.log(`\u{1F527} [AdvancedFilters] Adicionado showInFilters: false ao campo ${e.name} (campo antigo)`))}),console.log(t?"\u{1F527} [AdvancedFilters] Alguns campos do formul\xE1rio inicial foram migrados em mem\xF3ria":"\u2705 [AdvancedFilters] Todos os campos do formul\xE1rio inicial j\xE1 t\xEAm showInFilters")}Object.entries(this.phaseFormConfigs||{}).forEach(([t,e])=>{if(e?.fields){let o=!1;e.fields.forEach(i=>{"showInFilters"in i?console.log(`\u2705 [AdvancedFilters] Campo ${i.name} da fase ${t} j\xE1 tem showInFilters: ${i.showInFilters}`):(i.showInFilters=!1,o=!0,console.log(`\u{1F527} [AdvancedFilters] Adicionado showInFilters: false ao campo ${i.name} da fase ${t} (campo antigo)`))}),console.log(o?`\u{1F527} [AdvancedFilters] Alguns campos da fase ${t} foram migrados em mem\xF3ria`:`\u2705 [AdvancedFilters] Todos os campos da fase ${t} j\xE1 t\xEAm showInFilters`)}})}loadAvailableFilterFields(){console.log("\u{1F50D} [AdvancedFilters] loadAvailableFilterFields INICIADO"),console.log("\u{1F50D} [AdvancedFilters] initialFormFields:",this.initialFormFields),console.log("\u{1F50D} [AdvancedFilters] phaseFormConfigs:",this.phaseFormConfigs),this.migrateFieldsToIncludeShowInFilters();let t=[];this.initialFormFields?(console.log("\u{1F50D} [AdvancedFilters] Processando campos do formul\xE1rio inicial..."),this.initialFormFields.forEach((e,o)=>{if(console.log(`\u{1F50D} [AdvancedFilters] Campo inicial ${o+1}:`,e),console.log(`\u{1F50D} [AdvancedFilters] Campo inicial ${o+1} - Detalhes:`,{name:e.name,type:e.type,showInFilters:e.showInFilters,hasShowInFilters:"showInFilters"in e,keys:Object.keys(e)}),e.name&&e.type&&e.showInFilters){let i={name:e.name,label:e.label||e.name,type:e.type,source:"initial"};t.push(i),console.log("\u2705 [AdvancedFilters] Campo adicionado aos filtros:",i)}else console.log("\u274C [AdvancedFilters] Campo N\xC3O adicionado aos filtros (falta name, type ou showInFilters = false)")})):console.log("\u26A0\uFE0F [AdvancedFilters] Nenhum initialFormFields encontrado"),console.log("\u{1F50D} [AdvancedFilters] Processando campos das fases..."),Object.entries(this.phaseFormConfigs||{}).forEach(([e,o])=>{console.log(`\u{1F50D} [AdvancedFilters] Fase ${e}:`,o),o?.fields&&o.fields.forEach((i,c)=>{if(console.log(`\u{1F50D} [AdvancedFilters] Campo da fase ${e} - ${c+1}:`,i),console.log(`\u{1F50D} [AdvancedFilters] Campo da fase ${e} - ${c+1} - Detalhes:`,{name:i.name,type:i.type,showInFilters:i.showInFilters,hasShowInFilters:"showInFilters"in i,keys:Object.keys(i)}),i.name&&i.type&&i.showInFilters&&!t.find(g=>g.name===i.name)){let g={name:i.name,label:i.label||i.name,type:i.type,source:"phase",phaseId:e};t.push(g),console.log("\u2705 [AdvancedFilters] Campo da fase adicionado aos filtros:",g)}else console.log("\u274C [AdvancedFilters] Campo da fase N\xC3O adicionado (falta name, type, showInFilters = false, ou j\xE1 existe)")})}),console.log("\u{1F50D} [AdvancedFilters] Todos os campos coletados:",t),this.availableFilterFields=t.filter(e=>{let i=["text","email","select","radio","checkbox","date","number","tel","cnpj","cpf","temperatura"].includes(e.type.toLowerCase());return console.log(`\u{1F50D} [AdvancedFilters] Campo ${e.name} (${e.type}) - Suportado: ${i}`),i}),console.log("\u{1F50D} [AdvancedFilters] Campos filtrados finais (availableFilterFields):",this.availableFilterFields),console.log("\u{1F50D} [AdvancedFilters] availableFilterFields.length:",this.availableFilterFields.length),console.log("\u{1F50D} [AdvancedFilters] showAdvancedFilters:",this.showAdvancedFilters)}getFieldOptions(t){if(t.type==="select"||t.type==="radio"){let e=this.findOriginalField(t.name,t.source);if(e&&e.options&&Array.isArray(e.options))return e.options}return t.type==="temperatura"?["Quente","Morno","Frio"]:[]}findOriginalField(t,e){if(e==="initial")return this.initialFormFields?.find(o=>o.name===t);if(e==="phase")for(let o of Object.values(this.phaseFormConfigs)){let i=o?.fields?.find(c=>c.name===t);if(i)return i}return null}onFilterQueryChange(t){this.filterQuery=t,this.filterQueryChange.emit(t),this.filtersApplied.emit()}toggleOnlyMine(){this.filterOnlyMine=!this.filterOnlyMine,this.filterOnlyMineChange.emit(this.filterOnlyMine),this.filtersApplied.emit()}toggleAdvancedFilters(){this.showAdvancedFilters=!this.showAdvancedFilters,this.showAdvancedFiltersChange.emit(this.showAdvancedFilters)}setDynamicFilter(t,e){e===""||e===null||e===void 0?delete this.dynamicFilters[t]:this.dynamicFilters[t]=e,this.dynamicFiltersChange.emit(this.dynamicFilters),this.filtersApplied.emit()}clearFilters(){this.filterQuery="",this.filterOnlyMine=!1,this.dynamicFilters={},this.filterQueryChange.emit(this.filterQuery),this.filterOnlyMineChange.emit(this.filterOnlyMine),this.dynamicFiltersChange.emit(this.dynamicFilters),this.filtersApplied.emit()}hasActiveFilters(){return this.filterQuery.length>0||this.filterOnlyMine||Object.keys(this.dynamicFilters).length>0}getDynamicFilterCount(){return Object.keys(this.dynamicFilters).length}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-advanced-filters"]],inputs:{boardId:"boardId",ownerId:"ownerId",columns:"columns",currentUser:"currentUser",filterQuery:"filterQuery",filterOnlyMine:"filterOnlyMine",dynamicFilters:"dynamicFilters",showAdvancedFilters:"showAdvancedFilters"},outputs:{filterQueryChange:"filterQueryChange",filterOnlyMineChange:"filterOnlyMineChange",dynamicFiltersChange:"dynamicFiltersChange",showAdvancedFiltersChange:"showAdvancedFiltersChange",filtersApplied:"filtersApplied"},decls:17,vars:9,consts:[[1,"mb-4","space-y-3"],[1,"flex","items-center","space-x-2"],[1,"relative","flex-1"],["type","text","placeholder","Pesquisar...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"fas","fa-search","absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],[1,"px-4","py-2","bg-gray-100","hover:bg-gray-200","border","border-gray-300","rounded-lg","transition-colors","flex","items-center","space-x-2",3,"click"],[1,"fas","fa-filter","text-sm"],["class","bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",4,"ngIf"],["class","px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 border border-red-300 rounded-lg transition-colors",3,"click",4,"ngIf"],[1,"flex","items-center"],[1,"flex","items-center","space-x-2","cursor-pointer"],["type","checkbox",1,"rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"text-sm","text-gray-700"],["class","fixed top-20 left-4 w-full max-w-lg bg-white rounded-xl shadow-xl border border-gray-200 z-[9999]",4,"ngIf"],[1,"bg-blue-500","text-white","text-xs","rounded-full","w-5","h-5","flex","items-center","justify-center"],[1,"px-3","py-2","bg-red-100","hover:bg-red-200","text-red-700","border","border-red-300","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-times"],[1,"fixed","top-20","left-4","w-full","max-w-lg","bg-white","rounded-xl","shadow-xl","border","border-gray-200","z-[9999]"],[1,"p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["class","space-y-4",4,"ngIf"],["class","text-center py-6",4,"ngIf"],[1,"flex","justify-end","space-x-3","mt-6","pt-4","border-t","border-gray-200"],[1,"px-4","py-2","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],[1,"px-4","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","transition-colors",3,"click"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","mb-3"],["class","space-y-2",4,"ngFor","ngForOf"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-gray-700"],["class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",3,"type","value","placeholder","input",4,"ngIf"],["type","date","class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",3,"value","input",4,"ngIf"],["class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",3,"value","change",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","type","value","placeholder"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","Quente"],["value","Morno"],["value","Frio"],["type","checkbox",1,"rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"change","checked"],[1,"text-center","py-6"],[1,"fas","fa-filter","text-gray-300","text-3xl","mb-3"],[1,"text-gray-500","text-sm"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),A("ngModelChange",function(c){return C(o.filterQuery,c)||(o.filterQuery=c),c}),h("ngModelChange",function(c){return o.onFilterQueryChange(c)}),n(),u(4,"i",4),n(),r(5,"button",5),h("click",function(){return o.toggleAdvancedFilters()}),u(6,"i",6),r(7,"span"),s(8,"Filtros"),n(),p(9,ae,2,1,"span",7),n(),p(10,le,2,0,"button",8),n(),r(11,"div",9)(12,"label",10)(13,"input",11),A("ngModelChange",function(c){return C(o.filterOnlyMine,c)||(o.filterOnlyMine=c),c}),h("ngModelChange",function(){return o.toggleOnlyMine()}),n(),r(14,"span",12),s(15,"Mostrar apenas meus registros"),n()()()(),p(16,ve,14,2,"div",13)),e&2&&(l(3),O("ngModel",o.filterQuery),l(2),S("bg-blue-100",o.showAdvancedFilters)("border-blue-300",o.showAdvancedFilters),l(4),m("ngIf",o.hasActiveFilters()),l(),m("ngIf",o.hasActiveFilters()),l(3),O("ngModel",o.filterOnlyMine),l(3),m("ngIf",o.showAdvancedFilters))},dependencies:[D,R,P,V,K,X,H,q,J,Y],styles:[".advanced-filters-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:9998}.advanced-filters-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:12px;box-shadow:0 25px 50px -12px #00000040;z-index:9999;max-height:90vh;overflow-y:auto}.filter-badge[_ngcontent-%COMP%]{display:flex;height:1.25rem;width:1.25rem;align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.search-input[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem 1rem .5rem 2.5rem}.search-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.search-input[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.filter-button[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));padding:.5rem 1rem}.filter-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.filter-button[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.filter-button[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.filter-button.active[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.clear-button[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(252 165 165 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));padding:.5rem .75rem;--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.clear-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.clear-button[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.form-input[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-input[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.form-select[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.form-select[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-select[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.form-checkbox[_ngcontent-%COMP%]{border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.form-checkbox[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}"]})};var xe=()=>({key:"overview",label:"Vis\xE3o Geral",icon:"fas fa-chart-pie"}),he=()=>({key:"sla",label:"Indicadores SLA",icon:"fas fa-clock"}),ye=()=>({key:"phases",label:"M\xE9tricas por Fase",icon:"fas fa-columns"}),be=()=>({key:"registros",label:"Lista de Registros",icon:"fas fa-list"}),Ce=()=>({key:"charts",label:"Gr\xE1ficos",icon:"fas fa-chart-bar"}),we=(a,t,e,o,i)=>[a,t,e,o,i];function Fe(a,t){if(a&1){let e=y();r(0,"button",11),h("click",function(){let i=f(e).$implicit,c=d(2);return v(c.setView(i.key))}),u(1,"i"),s(2),n()}if(a&2){let e=t.$implicit,o=d(2);S("border-blue-500",o.currentView===e.key)("text-blue-600",o.currentView===e.key)("border-transparent",o.currentView!==e.key)("text-gray-500",o.currentView!==e.key),l(),$(e.icon+" mr-2"),l(),x(" ",e.label," ")}}function Se(a,t){if(a&1&&(r(0,"div",12)(1,"div",13),u(2,"i",14),r(3,"p",15),s(4),n()()()),a&2){let e=d(2);l(4),_(e.isLoading?"Carregando dados...":"Gerando relat\xF3rio...")}}function Ie(a,t){if(a&1&&(r(0,"div",35)(1,"div",18),u(2,"div",36),r(3,"span",37),s(4),n()(),r(5,"span",38),s(6),n()()),a&2){let e=t.$implicit;l(2),b("background-color",e.color),l(2),_(e.name),l(2),_(e.value)}}function Ee(a,t){a&1&&(r(0,"div",42),u(1,"i",43),n())}function Oe(a,t){if(a&1&&(r(0,"div",39)(1,"div",40)(2,"span",37),s(3),n(),r(4,"span",38),s(5),n()(),p(6,Ee,2,0,"div",41),n()),a&2){let e=t.$implicit,o=t.index,i=d(4);l(3),_(e.phase),l(2),_(e.registros),l(),m("ngIf",o<i.chartData.conversionFunnel.length-1)}}function Ae(a,t){if(a&1&&(r(0,"div")(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),u(5,"i",20),n(),r(6,"div",21)(7,"p",22),s(8,"Total de Registros"),n(),r(9,"p",23),s(10),n()()()(),r(11,"div",17)(12,"div",18)(13,"div",19),u(14,"i",24),n(),r(15,"div",21)(16,"p",22),s(17,"Novos no Per\xEDodo"),n(),r(18,"p",23),s(19),n()()()(),r(20,"div",17)(21,"div",18)(22,"div",19),u(23,"i",25),n(),r(24,"div",21)(25,"p",22),s(26,"Conclu\xEDdos"),n(),r(27,"p",23),s(28),n()()()(),r(29,"div",17)(30,"div",18)(31,"div",19),u(32,"i",26),n(),r(33,"div",21)(34,"p",22),s(35,"Tempo M\xE9dio"),n(),r(36,"p",23),s(37),n()()()(),r(38,"div",17)(39,"div",18)(40,"div",19),u(41,"i",27),n(),r(42,"div",21)(43,"p",22),s(44,"Ativos"),n(),r(45,"p",23),s(46),n()()()(),r(47,"div",17)(48,"div",18)(49,"div",19),u(50,"i",28),n(),r(51,"div",21)(52,"p",22),s(53,"Em Atraso"),n(),r(54,"p",23),s(55),n()()()()(),r(56,"div",29)(57,"div",17)(58,"h3",30),s(59,"Distribui\xE7\xE3o por Fase"),n(),r(60,"div",31),p(61,Ie,7,4,"div",32),n()(),r(62,"div",17)(63,"h3",30),s(64,"Funil de Convers\xE3o"),n(),r(65,"div",33),p(66,Oe,7,3,"div",34),n()()()()),a&2){let e=d(3);l(10),_(e.summaryStats.totalRecords),l(9),_(e.summaryStats.newRecordsThisPeriod),l(9),_(e.summaryStats.concludedRecords),l(9),_(e.formatDuration(e.summaryStats.avgConversionTime)),l(9),_(e.summaryStats.activeRecords),l(9),_(e.summaryStats.overdueRecords),l(6),m("ngForOf",e.chartData.phaseDistribution),l(5),m("ngForOf",e.chartData.conversionFunnel)}}function Te(a,t){if(a&1&&(r(0,"tr")(1,"td",56)(2,"div",18),u(3,"div",57),r(4,"span",58),s(5),n()()(),r(6,"td",59),s(7),n(),r(8,"td",59),s(9),n(),r(10,"td",60)(11,"span",61),s(12),n()(),r(13,"td",60)(14,"span",62),s(15),n()(),r(16,"td",60)(17,"div",63)(18,"div",64),u(19,"div",65),n(),r(20,"span",58),s(21),n()()()()),a&2){let e=t.$implicit;l(3),b("background-color",e.phaseColor),l(2),_(e.phaseName),l(2),x(" ",e.slaDays," "),l(2),x(" ",e.totalRecords," "),l(3),x(" ",e.onTime," "),l(3),x(" ",e.overdue," "),l(4),b("width",e.compliance,"%"),S("bg-green-500",e.compliance>=80)("bg-yellow-500",e.compliance>=60&&e.compliance<80)("bg-red-500",e.compliance<60),l(2),x("",e.compliance,"%")}}function ke(a,t){a&1&&(r(0,"div",66),u(1,"i",67),r(2,"p",68),s(3,"Nenhuma fase possui SLA configurado"),n()())}function Me(a,t){if(a&1&&(r(0,"div")(1,"div",44)(2,"div",45)(3,"h3",46),s(4,"Indicadores de SLA por Fase"),n(),r(5,"p",47),s(6,"An\xE1lise de cumprimento de prazos definidos para cada fase"),n()(),r(7,"div",48)(8,"table",49)(9,"thead",50)(10,"tr")(11,"th",51),s(12,"Fase"),n(),r(13,"th",52),s(14,"SLA (dias)"),n(),r(15,"th",52),s(16,"Total"),n(),r(17,"th",52),s(18,"No Prazo"),n(),r(19,"th",52),s(20,"Em Atraso"),n(),r(21,"th",52),s(22,"% Cumprimento"),n()()(),r(23,"tbody",53),p(24,Te,22,16,"tr",54),n()()(),p(25,ke,4,0,"div",55),n()()),a&2){let e=d(3);l(24),m("ngForOf",e.slaIndicators),l(),m("ngIf",e.slaIndicators.length===0)}}function Re(a,t){if(a&1&&(r(0,"div",17)(1,"div",71)(2,"h3",46),s(3),n(),u(4,"div",72),n(),r(5,"div",73)(6,"div",74)(7,"span",75),s(8,"Registros"),n(),r(9,"span",76),s(10),n()(),r(11,"div",74)(12,"span",75),s(13,"Tempo M\xE9dio"),n(),r(14,"span",76),s(15),n()(),r(16,"div",74)(17,"span",75),s(18,"Taxa de Convers\xE3o"),n(),r(19,"span",76),s(20),n()()()()),a&2){let e=t.$implicit,o=d(4);l(3),_(e.phaseName),l(),b("background-color",e.phaseColor),l(6),_(e.recordsCount),l(5),_(o.formatDuration(e.avgTimeInPhase)),l(5),x("",e.conversionRate,"%")}}function Pe(a,t){if(a&1&&(r(0,"div")(1,"div",69),p(2,Re,21,6,"div",70),n()()),a&2){let e=d(3);l(2),m("ngForOf",e.phaseMetrics)}}function De(a,t){if(a&1){let e=y();r(0,"label",97)(1,"input",98),h("change",function(){let i=f(e).$implicit,c=d(5);return v(c.toggleColumn(i.key))}),n(),r(2,"span",99),s(3),n()()}if(a&2){let e=t.$implicit,o=d(5);l(),m("checked",o.isColumnSelected(e.key)),l(2),_(e.label)}}function Ve(a,t){if(a&1){let e=y();r(0,"label",97)(1,"input",98),h("change",function(){let i=f(e).$implicit,c=d(6);return v(c.toggleColumn(i.key))}),n(),r(2,"span",99),s(3),n(),r(4,"span",101),s(5),n()()}if(a&2){let e=t.$implicit,o=d(6);l(),m("checked",o.isColumnSelected(e.key)),l(2),_(e.label),l(2),_(e.fieldType)}}function Le(a,t){if(a&1&&(r(0,"div",100)(1,"h5",92),s(2,"Campos do Formul\xE1rio"),n(),r(3,"div",33),p(4,Ve,6,3,"label",93),n()()),a&2){let e=d(5);l(4),m("ngForOf",e.getFormColumns())}}function Ne(a,t){if(a&1){let e=y();r(0,"div",86)(1,"div",87)(2,"h4",88),s(3,"Selecionar Colunas"),n(),r(4,"p",89),s(5,"Escolha as colunas que deseja exibir na tabela"),n()(),r(6,"div",90)(7,"div",91)(8,"h5",92),s(9,"Colunas do Sistema"),n(),r(10,"div",33),p(11,De,4,2,"label",93),n()(),p(12,Le,5,1,"div",94),n(),r(13,"div",95)(14,"button",96),h("click",function(){f(e);let i=d(4);return v(i.toggleColumnSelector())}),s(15," Aplicar "),n()()()}if(a&2){let e=d(4);l(11),m("ngForOf",e.getSystemColumns()),l(),m("ngIf",e.hasFormColumns())}}function $e(a,t){if(a&1&&(r(0,"th",102),s(1),n()),a&2){let e=t.$implicit;l(),x(" ",e.label," ")}}function je(a,t){if(a&1&&(r(0,"div",18),u(1,"div",106),r(2,"span",107),s(3),n()()),a&2){let e=d().$implicit,o=d().$implicit,i=d(4);l(),b("background-color",i.getColumnColor(o.columnId)),l(2),_(i.getColumnValue(o,e))}}function Be(a,t){if(a&1&&(r(0,"div")(1,"span",108),s(2),n()()),a&2){let e=d().$implicit,o=d().$implicit,i=d(4);l(),S("bg-green-100",i.isLeadConcluded(o))("text-green-800",i.isLeadConcluded(o))("bg-red-100",i.isLeadOverdue(o)&&!i.isLeadConcluded(o))("text-red-800",i.isLeadOverdue(o)&&!i.isLeadConcluded(o))("bg-blue-100",!i.isLeadConcluded(o)&&!i.isLeadOverdue(o))("text-blue-800",!i.isLeadConcluded(o)&&!i.isLeadOverdue(o)),l(),x(" ",i.getColumnValue(o,e)," ")}}function Qe(a,t){if(a&1&&(r(0,"div",107),s(1),n()),a&2){let e=d().$implicit,o=d().$implicit,i=d(4);l(),x(" ",i.getColumnValue(o,e)," ")}}function Ue(a,t){if(a&1&&(r(0,"td",56),p(1,je,4,3,"div",104)(2,Be,3,13,"div",0)(3,Qe,2,1,"div",105),n()),a&2){let e=t.$implicit;l(),m("ngIf",e.key==="currentPhase"),l(),m("ngIf",e.key==="status"),l(),m("ngIf",e.key!=="currentPhase"&&e.key!=="status")}}function ze(a,t){if(a&1&&(r(0,"tr"),p(1,Ue,4,3,"td",103),n()),a&2){let e=t.index,o=d(4);S("bg-gray-50",e%2===1),l(),m("ngForOf",o.getSelectedColumns())}}function We(a,t){a&1&&(r(0,"div",66),u(1,"i",109),r(2,"p",68),s(3,"Nenhum registro encontrado com os filtros aplicados"),n()())}function Ge(a,t){if(a&1){let e=y();r(0,"div")(1,"div",44)(2,"div",77)(3,"div",78)(4,"div")(5,"h3",46),s(6,"Lista Detalhada de Registros"),n(),r(7,"p",47),s(8),n()(),r(9,"button",79),h("click",function(){f(e);let i=d(3);return v(i.debugLeadStructure())}),s(10," \u{1F41B} DEBUG "),n()(),r(11,"div",39)(12,"button",80),h("click",function(){f(e);let i=d(3);return v(i.toggleColumnSelector())}),u(13,"i",81),s(14),u(15,"i",82),n(),p(16,Ne,16,2,"div",83),n()(),r(17,"div",48)(18,"table",49)(19,"thead",50)(20,"tr"),p(21,$e,2,1,"th",84),n()(),r(22,"tbody",53),p(23,ze,2,3,"tr",85),n()()(),p(24,We,4,0,"div",55),n()()}if(a&2){let e=d(3);l(8),x("",e.filteredRecords.length," registros encontrados"),l(6),x(" Colunas (",e.selectedColumns.length,") "),l(2),m("ngIf",e.showColumnSelector),l(5),m("ngForOf",e.getSelectedColumns()),l(2),m("ngForOf",e.filteredRecords),l(),m("ngIf",e.filteredRecords.length===0)}}function qe(a,t){if(a&1&&(r(0,"div",112)(1,"span",113),s(2),n(),r(3,"span",114),s(4),n()()),a&2){let e=t.$implicit,o=d(4);b("height",o.getChartBarHeight(e.registros),"%"),l(2),_(e.registros),l(2),_(e.period)}}function He(a,t){if(a&1&&(r(0,"div",35)(1,"div",115),u(2,"div",57),r(3,"span",116),s(4),n()(),r(5,"div",117)(6,"div",118)(7,"div",38),s(8),n(),r(9,"div",119),s(10,"registros"),n()(),r(11,"div",118)(12,"div",38),s(13),n(),r(14,"div",119),s(15,"convers\xE3o"),n()()()()),a&2){let e=t.$implicit;l(2),b("background-color",e.phaseColor),l(2),_(e.phaseName),l(4),_(e.recordsCount),l(5),x("",e.conversionRate,"%")}}function Je(a,t){if(a&1&&(r(0,"div")(1,"div",29)(2,"div",17)(3,"h3",30),s(4,"Registros ao Longo do Tempo"),n(),r(5,"div",110),p(6,qe,5,4,"div",111),n()(),r(7,"div",17)(8,"h3",30),s(9,"Performance por Fase"),n(),r(10,"div",73),p(11,He,16,5,"div",32),n()()()()),a&2){let e=d(3);l(6),m("ngForOf",e.chartData.registrosOverTime),l(5),m("ngForOf",e.phaseMetrics)}}function Ye(a,t){if(a&1&&(r(0,"div"),p(1,Ae,67,8,"div",0)(2,Me,26,2,"div",0)(3,Pe,3,1,"div",0)(4,Ge,25,6,"div",0)(5,Je,12,2,"div",0),n()),a&2){let e=d(2);l(),m("ngIf",e.currentView==="overview"),l(),m("ngIf",e.currentView==="sla"),l(),m("ngIf",e.currentView==="phases"),l(),m("ngIf",e.currentView==="registros"),l(),m("ngIf",e.currentView==="charts")}}function Ke(a,t){if(a&1){let e=y();r(0,"app-main-layout"),u(1,"app-company-breadcrumb",3),r(2,"div",4)(3,"app-advanced-filters",5),A("filterQueryChange",function(i){f(e);let c=d();return C(c.filterQuery,i)||(c.filterQuery=i),v(i)})("filterOnlyMineChange",function(i){f(e);let c=d();return C(c.filterOnlyMine,i)||(c.filterOnlyMine=i),v(i)})("dynamicFiltersChange",function(i){f(e);let c=d();return C(c.dynamicFilters,i)||(c.dynamicFilters=i),v(i)})("showAdvancedFiltersChange",function(i){f(e);let c=d();return C(c.showAdvancedFilters,i)||(c.showAdvancedFilters=i),v(i)}),h("filtersApplied",function(){f(e);let i=d();return v(i.applyFilters())}),n(),r(4,"div",6)(5,"div",7)(6,"nav",8),p(7,Fe,3,11,"button",9),n()()(),p(8,Se,5,1,"div",10)(9,Ye,6,5,"div",0),n()()}if(a&2){let e=d();l(),m("title","Relat\xF3rios - "+((e.board==null?null:e.board.name)||"Quadro")),l(2),m("boardId",e.boardId)("ownerId",e.ownerId)("columns",e.columns)("currentUser",e.currentUser),O("filterQuery",e.filterQuery)("filterOnlyMine",e.filterOnlyMine)("dynamicFilters",e.dynamicFilters)("showAdvancedFilters",e.showAdvancedFilters),l(4),m("ngForOf",B(17,we,T(12,xe),T(13,he),T(14,ye),T(15,be),T(16,Ce))),l(),m("ngIf",e.isLoading||e.isGeneratingReport),l(),m("ngIf",!e.isLoading&&!e.isGeneratingReport)}}function Xe(a,t){if(a&1){let e=y();r(0,"button",127),h("click",function(){let i=f(e).$implicit,c=d(2);return v(c.setView(i.key))}),u(1,"i"),s(2),n()}if(a&2){let e=t.$implicit,o=d(2);S("border-blue-500",o.currentView===e.key)("text-blue-600",o.currentView===e.key)("border-transparent",o.currentView!==e.key)("text-gray-500",o.currentView!==e.key)("hover:text-gray-700",o.currentView!==e.key),l(),$(j("fas ",e.icon," mr-2")),l(),x(" ",e.name," ")}}function Ze(a,t){if(a&1&&(r(0,"div")(1,"div",128)(2,"div",129)(3,"div",35)(4,"div")(5,"p",130),s(6,"Total de Registros"),n(),r(7,"p",131),s(8),n()(),r(9,"div",132),u(10,"i",133),n()()(),r(11,"div",134)(12,"div",35)(13,"div")(14,"p",135),s(15,"Registros Conclu\xEDdos"),n(),r(16,"p",131),s(17),n()(),r(18,"div",136),u(19,"i",137),n()()(),r(20,"div",138)(21,"div",35)(22,"div")(23,"p",139),s(24,"Registros Atrasados"),n(),r(25,"p",131),s(26),n()(),r(27,"div",140),u(28,"i",141),n()()()()()),a&2){let e=d(2);l(8),_(e.summaryStats.totalRecords),l(9),_(e.summaryStats.concludedRecords),l(9),_(e.summaryStats.overdueRecords)}}function et(a,t){if(a&1&&(r(0,"tr")(1,"td",56)(2,"div",18),u(3,"div",57),r(4,"span",58),s(5),n()()(),r(6,"td",59),s(7),n(),r(8,"td",60)(9,"span",143),s(10),n()(),r(11,"td",144),s(12),n(),r(13,"td",145),s(14),n()()),a&2){let e=t.$implicit;l(3),b("background-color",e.phaseColor),l(2),_(e.phaseName),l(2),x(" ",e.slaDays," "),l(2),S("bg-green-100",e.compliance>=80)("text-green-800",e.compliance>=80)("bg-yellow-100",e.compliance>=60&&e.compliance<80)("text-yellow-800",e.compliance>=60&&e.compliance<80)("bg-red-100",e.compliance<60)("text-red-800",e.compliance<60),l(),x(" ",e.compliance,"% "),l(2),x(" ",e.onTime," "),l(2),x(" ",e.overdue," ")}}function tt(a,t){if(a&1&&(r(0,"div")(1,"div",142)(2,"h3",30),s(3,"Indicadores de SLA por Fase"),n(),r(4,"div",48)(5,"table",49)(6,"thead",50)(7,"tr")(8,"th",51),s(9,"Fase"),n(),r(10,"th",52),s(11,"SLA (dias)"),n(),r(12,"th",52),s(13,"% Cumprimento"),n(),r(14,"th",52),s(15,"No Prazo"),n(),r(16,"th",52),s(17,"Atrasados"),n()()(),r(18,"tbody",53),p(19,et,15,19,"tr",54),n()()()()()),a&2){let e=d(2);l(19),m("ngForOf",e.slaIndicators)}}function it(a,t){if(a&1&&(r(0,"div",148)(1,"div",71)(2,"div",18),u(3,"div",36),r(4,"h3",46),s(5),n()(),r(6,"span",23),s(7),n()(),r(8,"div",149)(9,"div",150)(10,"p",75),s(11,"Tempo M\xE9dio na Fase"),n(),r(12,"p",151),s(13),n()(),r(14,"div",150)(15,"p",75),s(16,"Taxa de Convers\xE3o"),n(),r(17,"p",151),s(18),n()()()()),a&2){let e=t.$implicit,o=d(3);l(3),b("background-color",e.phaseColor),l(2),_(e.phaseName),l(2),x("",e.recordsCount," registros"),l(6),_(o.formatDuration(e.avgTimeInPhase)),l(5),x("",e.conversionRate,"%")}}function nt(a,t){if(a&1&&(r(0,"div")(1,"div",146),p(2,it,19,6,"div",147),n()()),a&2){let e=d(2);l(2),m("ngForOf",e.phaseMetrics)}}function rt(a,t){if(a&1){let e=y();r(0,"label",97)(1,"input",98),h("change",function(){let i=f(e).$implicit,c=d(4);return v(c.toggleColumn(i.key))}),n(),r(2,"span",99),s(3),n()()}if(a&2){let e=t.$implicit,o=d(4);l(),m("checked",o.isColumnSelected(e.key)),l(2),_(e.label)}}function ot(a,t){if(a&1){let e=y();r(0,"label",97)(1,"input",98),h("change",function(){let i=f(e).$implicit,c=d(5);return v(c.toggleColumn(i.key))}),n(),r(2,"span",99),s(3),n(),r(4,"span",101),s(5),n()()}if(a&2){let e=t.$implicit,o=d(5);l(),m("checked",o.isColumnSelected(e.key)),l(2),_(e.label),l(2),_(e.fieldType)}}function at(a,t){if(a&1&&(r(0,"div",100)(1,"h5",92),s(2,"Campos do Formul\xE1rio"),n(),r(3,"div",33),p(4,ot,6,3,"label",93),n()()),a&2){let e=d(4);l(4),m("ngForOf",e.getFormColumns())}}function lt(a,t){if(a&1){let e=y();r(0,"div",86)(1,"div",87)(2,"h4",88),s(3,"Selecionar Colunas"),n(),r(4,"p",89),s(5,"Escolha as colunas que deseja exibir na tabela"),n()(),r(6,"div",90)(7,"div",91)(8,"h5",92),s(9,"Colunas do Sistema"),n(),r(10,"div",33),p(11,rt,4,2,"label",93),n()(),p(12,at,5,1,"div",94),n(),r(13,"div",95)(14,"button",96),h("click",function(){f(e);let i=d(3);return v(i.toggleColumnSelector())}),s(15," Aplicar "),n()()()}if(a&2){let e=d(3);l(11),m("ngForOf",e.getSystemColumns()),l(),m("ngIf",e.hasFormColumns())}}function st(a,t){if(a&1&&(r(0,"th",102),s(1),n()),a&2){let e=t.$implicit;l(),x(" ",e.label," ")}}function dt(a,t){if(a&1&&(r(0,"div",18),u(1,"div",106),r(2,"span",107),s(3),n()()),a&2){let e=d().$implicit,o=d().$implicit,i=d(3);l(),b("background-color",i.getColumnColor(o.columnId)),l(2),_(i.getColumnValue(o,e))}}function ct(a,t){if(a&1&&(r(0,"div")(1,"span",108),s(2),n()()),a&2){let e=d().$implicit,o=d().$implicit,i=d(3);l(),S("bg-green-100",i.isLeadConcluded(o))("text-green-800",i.isLeadConcluded(o))("bg-red-100",i.isLeadOverdue(o)&&!i.isLeadConcluded(o))("text-red-800",i.isLeadOverdue(o)&&!i.isLeadConcluded(o))("bg-blue-100",!i.isLeadConcluded(o)&&!i.isLeadOverdue(o))("text-blue-800",!i.isLeadConcluded(o)&&!i.isLeadOverdue(o)),l(),x(" ",i.getColumnValue(o,e)," ")}}function mt(a,t){if(a&1&&(r(0,"div",107),s(1),n()),a&2){let e=d().$implicit,o=d().$implicit,i=d(3);l(),x(" ",i.getColumnValue(o,e)," ")}}function pt(a,t){if(a&1&&(r(0,"td",56),p(1,dt,4,3,"div",104)(2,ct,3,13,"div",0)(3,mt,2,1,"div",105),n()),a&2){let e=t.$implicit;l(),m("ngIf",e.key==="currentPhase"),l(),m("ngIf",e.key==="status"),l(),m("ngIf",e.key!=="currentPhase"&&e.key!=="status")}}function ut(a,t){if(a&1&&(r(0,"tr"),p(1,pt,4,3,"td",103),n()),a&2){let e=d(3);l(),m("ngForOf",e.getSelectedColumns())}}function _t(a,t){if(a&1){let e=y();r(0,"div")(1,"div",142)(2,"div",152)(3,"div",78)(4,"h3",46),s(5),n(),r(6,"button",79),h("click",function(){f(e);let i=d(2);return v(i.debugLeadStructure())}),s(7," \u{1F41B} DEBUG "),n()(),r(8,"div",39)(9,"button",80),h("click",function(){f(e);let i=d(2);return v(i.toggleColumnSelector())}),u(10,"i",81),s(11),u(12,"i",82),n(),p(13,lt,16,2,"div",83),n()(),r(14,"div",48)(15,"table",49)(16,"thead",50)(17,"tr"),p(18,st,2,1,"th",84),n()(),r(19,"tbody",53),p(20,ut,2,1,"tr",54),Q(21,"slice"),n()()()()()}if(a&2){let e=d(2);l(5),x("Lista de Registros (",e.filteredRecords.length,")"),l(6),x(" Colunas (",e.selectedColumns.length,") "),l(2),m("ngIf",e.showColumnSelector),l(5),m("ngForOf",e.getSelectedColumns()),l(2),m("ngForOf",U(21,5,e.filteredRecords,0,50))}}function gt(a,t){if(a&1&&(r(0,"div",13)(1,"div",157),s(2),n(),r(3,"p",158),s(4),n()()),a&2){let e=t.$implicit;l(),b("background-color",e.color),l(),x(" ",e.value," "),l(2),_(e.name)}}function ft(a,t){if(a&1&&(r(0,"div",112)(1,"span",113),s(2),n(),r(3,"span",114),s(4),n()()),a&2){let e=t.$implicit,o=d(3);b("height",o.getChartBarHeight(e.registros),"%"),l(2),_(e.registros),l(2),_(e.period)}}function vt(a,t){if(a&1&&(r(0,"div")(1,"div",153)(2,"div",154)(3,"h3",30),s(4,"Distribui\xE7\xE3o por Fase"),n(),r(5,"div",155),p(6,gt,5,4,"div",156),n()(),r(7,"div",154)(8,"h3",30),s(9,"Registros ao Longo do Tempo"),n(),r(10,"div",110),p(11,ft,5,4,"div",111),n()()()()),a&2){let e=d(2);l(6),m("ngForOf",e.chartData.phaseDistribution),l(5),m("ngForOf",e.chartData.registrosOverTime)}}function xt(a,t){if(a&1){let e=y();r(0,"div",120)(1,"div",121)(2,"div",122)(3,"h2",23),u(4,"i",123),s(5),n()(),r(6,"app-advanced-filters",5),A("filterQueryChange",function(i){f(e);let c=d();return C(c.filterQuery,i)||(c.filterQuery=i),v(i)})("filterOnlyMineChange",function(i){f(e);let c=d();return C(c.filterOnlyMine,i)||(c.filterOnlyMine=i),v(i)})("dynamicFiltersChange",function(i){f(e);let c=d();return C(c.dynamicFilters,i)||(c.dynamicFilters=i),v(i)})("showAdvancedFiltersChange",function(i){f(e);let c=d();return C(c.showAdvancedFilters,i)||(c.showAdvancedFilters=i),v(i)}),h("filtersApplied",function(){f(e);let i=d();return v(i.applyFilters())}),n(),r(7,"div",6)(8,"div",7)(9,"nav",124),p(10,Xe,3,14,"button",125),n()(),r(11,"div",126),p(12,Ze,29,3,"div",0)(13,tt,20,1,"div",0)(14,nt,3,1,"div",0)(15,_t,22,9,"div",0)(16,vt,12,2,"div",0),n()()()()}if(a&2){let e=d();l(5),x(" Relat\xF3rios - ",e.board==null?null:e.board.name," "),l(),m("boardId",e.boardId)("ownerId",e.ownerId)("columns",e.columns)("currentUser",e.currentUser),O("filterQuery",e.filterQuery)("filterOnlyMine",e.filterOnlyMine)("dynamicFilters",e.dynamicFilters)("showAdvancedFilters",e.showAdvancedFilters),l(4),m("ngForOf",e.viewTabs),l(2),m("ngIf",e.currentView==="overview"),l(),m("ngIf",e.currentView==="sla"),l(),m("ngIf",e.currentView==="phases"),l(),m("ngIf",e.currentView==="registros"),l(),m("ngIf",e.currentView==="charts")}}function ht(a,t){if(a&1&&(r(0,"p",75),s(1),n()),a&2){let e=d().$implicit;l(),_(e.description)}}function yt(a,t){if(a&1){let e=y();r(0,"div",168),h("click",function(){let i=f(e).$implicit,c=d(2);return v(c.selectBoard(i.id))}),r(1,"div",35)(2,"div")(3,"h3",169),s(4),n(),p(5,ht,2,1,"p",170),n(),u(6,"i",171),n()()}if(a&2){let e=t.$implicit;l(4),_(e.name),l(),m("ngIf",e.description)}}function bt(a,t){if(a&1){let e=y();r(0,"div",172)(1,"p",68),s(2,"Nenhum quadro encontrado"),n(),r(3,"button",173),h("click",function(){f(e);let i=d(2);return v(i.goBack())}),s(4," Voltar ao Dashboard "),n()()}}function Ct(a,t){if(a&1&&(r(0,"div",159)(1,"div",160)(2,"div",161)(3,"div",162)(4,"div",163),u(5,"i",164),n(),r(6,"h2",165),s(7,"Relat\xF3rios"),n(),r(8,"p",15),s(9,"Selecione um quadro para visualizar seus relat\xF3rios"),n()(),r(10,"div",31),p(11,yt,7,2,"div",166)(12,bt,5,0,"div",167),n()()()()),a&2){let e=d();l(11),m("ngForOf",e.availableBoards),l(),m("ngIf",e.availableBoards.length===0)}}var ie=class a{authService=I(Z);firestoreService=I(L);router=I(G);route=I(W);boardId="";ownerId="";currentUser=null;board=null;availableBoards=[];records=[];columns=[];users=[];filterQuery="";filterOnlyMine=!1;dynamicFilters={};showAdvancedFilters=!1;isLoading=!1;isGeneratingReport=!1;filteredRecords=[];slaIndicators=[];phaseMetrics=[];summaryStats={totalRecords:0,newRecordsThisPeriod:0,concludedRecords:0,avgConversionTime:0,activeRecords:0,overdueRecords:0};chartData={phaseDistribution:[],registrosOverTime:[],conversionFunnel:[]};currentView="overview";exportFormats=["PDF","Excel","CSV"];availableColumns=[];selectedColumns=[];showColumnSelector=!1;viewTabs=[{key:"overview",name:"Vis\xE3o Geral",icon:"fa-chart-pie"},{key:"sla",name:"SLA",icon:"fa-clock"},{key:"phases",name:"Fases",icon:"fa-columns"},{key:"registros",name:"Registros",icon:"fa-users"},{key:"charts",name:"Gr\xE1ficos",icon:"fa-chart-bar"}];ngOnInit(){return F(this,null,function*(){this.currentUser=this.authService.getCurrentUser(),this.ownerId||(this.ownerId=this.currentUser?.uid||""),this.boardId||this.route.queryParams.subscribe(t=>{t.boardId&&(this.boardId=t.boardId)}),yield this.loadAvailableBoards(),this.boardId&&this.ownerId&&(yield this.loadData(),this.initializeColumns(),this.generateReport())})}ngOnDestroy(){}loadAvailableBoards(){return F(this,null,function*(){if(this.ownerId)try{this.availableBoards=yield this.firestoreService.getBoards(this.ownerId)}catch(t){console.error("Erro ao carregar boards dispon\xEDveis:",t)}})}selectBoard(t){return F(this,null,function*(){this.boardId=t,yield this.loadData(),this.initializeColumns(),this.generateReport()})}loadData(){return F(this,null,function*(){this.isLoading=!0;try{let t=yield this.firestoreService.getBoards(this.ownerId);this.board=t.find(i=>i.id===this.boardId)||null;let[e,o]=yield Promise.all([this.firestoreService.getLeads(this.ownerId,this.boardId),this.firestoreService.getColumns(this.ownerId,this.boardId)]);this.records=e,this.columns=o,this.users=[],console.log("Dados carregados:",{boardId:this.boardId,recordsCount:e.length,columnsCount:o.length,formFieldsCount:this.board?.initialFormFields?.length||0,registros:e.slice(0,3)}),e.length>0&&e[0].fields&&console.log("\u{1F4CB} Campos dispon\xEDveis no primeiro registro:",Object.keys(e[0].fields))}catch(t){console.error("Erro ao carregar dados do relat\xF3rio:",t)}finally{this.isLoading=!1}})}generateReport(){if(!this.isGeneratingReport){this.isGeneratingReport=!0;try{this.applyFilters(),this.calculateSummaryStats(),this.calculateSLAIndicators(),this.calculatePhaseMetrics(),this.generateChartData()}finally{this.isGeneratingReport=!1}}}getLeadDate(t){return t.createdAt?.toDate?t.createdAt.toDate():t.createdAt?.seconds?new Date(t.createdAt.seconds*1e3):t.createdAt?new Date(t.createdAt):new Date}isLeadOverdue(t){let e=this.columns.find(c=>c.id===t.columnId);if(!e?.slaDays)return!1;let o=t.movedToCurrentColumnAt?.toDate?t.movedToCurrentColumnAt.toDate():t.movedToCurrentColumnAt?.seconds?new Date(t.movedToCurrentColumnAt.seconds*1e3):new Date(t.movedToCurrentColumnAt||t.createdAt);return(Date.now()-o.getTime())/(1e3*60*60*24)>e.slaDays}isLeadConcluded(t){let e=this.columns.find(o=>o.id===t.columnId);return!!(e?.endStageType&&e.endStageType!=="none")}calculateSummaryStats(){let t=this.dynamicFilters.startDate?new Date(this.dynamicFilters.startDate):null,e=this.dynamicFilters.endDate?new Date(this.dynamicFilters.endDate):null;this.summaryStats={totalRecords:this.filteredRecords.length,newRecordsThisPeriod:t&&e?this.filteredRecords.filter(o=>{let i=this.getLeadDate(o);return i>=t&&i<=e}).length:this.filteredRecords.length,concludedRecords:this.filteredRecords.filter(o=>this.isLeadConcluded(o)).length,avgConversionTime:this.calculateAverageConversionTime(),activeRecords:this.filteredRecords.filter(o=>!this.isLeadConcluded(o)).length,overdueRecords:this.filteredRecords.filter(o=>this.isLeadOverdue(o)&&!this.isLeadConcluded(o)).length}}calculateAverageConversionTime(){let t=this.filteredRecords.filter(o=>this.isLeadConcluded(o));if(t.length===0)return 0;let e=t.reduce((o,i)=>{let c=this.getLeadDate(i),g=i.movedToCurrentColumnAt?.toDate?i.movedToCurrentColumnAt.toDate():new Date;return o+(g.getTime()-c.getTime())},0);return Math.round(e/t.length/(1e3*60*60*24))}calculateSLAIndicators(){this.slaIndicators=this.columns.filter(t=>t.slaDays&&t.slaDays>0).map(t=>{let e=this.filteredRecords.filter(c=>c.columnId===t.id),o=e.filter(c=>this.isLeadOverdue(c)),i=e.length-o.length;return{phaseId:t.id,phaseName:t.name,phaseColor:t.color,slaDays:t.slaDays,totalRecords:e.length,onTime:i,overdue:o.length,compliance:e.length>0?Math.round(i/e.length*100):100}})}calculatePhaseMetrics(){this.phaseMetrics=this.columns.map(t=>{let e=this.filteredRecords.filter(c=>c.columnId===t.id),o=this.calculateAverageTimeInPhase(e),i=this.calculatePhaseConversionRate(t);return{phaseId:t.id,phaseName:t.name,phaseColor:t.color,recordsCount:e.length,avgTimeInPhase:o,conversionRate:i}})}calculateAverageTimeInPhase(t){if(t.length===0)return 0;let e=t.reduce((o,i)=>{let c=i.phaseHistory||{},g=Object.values(c).find(w=>w.phaseId===i.columnId);if(g?.duration)return o+g.duration;if(g?.enteredAt){let w=g.enteredAt.toDate?g.enteredAt.toDate():new Date(g.enteredAt);return o+(Date.now()-w.getTime())}return o},0);return Math.round(e/t.length/(1e3*60*60*24))}calculatePhaseConversionRate(t){let e=this.columns.findIndex(w=>w.id===t.id);if(e===this.columns.length-1)return 0;let o=this.filteredRecords.filter(w=>w.columnId===t.id).length,i=this.columns.slice(e+1),c=this.filteredRecords.filter(w=>i.some(k=>k.id===w.columnId)).length,g=o+c;return g>0?Math.round(c/g*100):0}generateChartData(){this.chartData.phaseDistribution=this.phaseMetrics.map(t=>({name:t.phaseName,value:t.recordsCount,color:t.phaseColor})),this.chartData.registrosOverTime=this.generateLeadsOverTimeData(),this.chartData.conversionFunnel=this.phaseMetrics.map((t,e)=>({phase:t.phaseName,registros:t.recordsCount,order:e}))}generateLeadsOverTimeData(){let t=this.dynamicFilters.startDate?new Date(this.dynamicFilters.startDate):new Date(new Date().setMonth(new Date().getMonth()-6)),e=this.dynamicFilters.endDate?new Date(this.dynamicFilters.endDate):new Date,o=[],i=new Date(t);for(;i<=e;){let c=new Date(i);c.setDate(c.getDate()+6);let g=this.filteredRecords.filter(w=>{let k=this.getLeadDate(w);return k>=i&&k<=c}).length;o.push({period:`${i.getDate()}/${i.getMonth()+1}`,registros:g}),i.setDate(i.getDate()+7)}return o}setView(t){this.currentView=t}isStandaloneView(){return!!this.route.snapshot.queryParams.boardId&&!this.boardIdFromInput}get boardIdFromInput(){return this.boardId!==""&&!this.route.snapshot.queryParams.boardId}exportReport(t){return F(this,null,function*(){try{console.log(`Exportando relat\xF3rio em formato ${t}`),alert(`Exporta\xE7\xE3o em ${t} ser\xE1 implementada em breve!`)}catch(e){console.error("Erro ao exportar relat\xF3rio:",e),alert("Erro ao exportar relat\xF3rio. Tente novamente.")}})}formatDate(t){return t?(t.toDate?t.toDate():new Date(t)).toLocaleDateString("pt-BR"):"-"}formatDuration(t){return t===0?"-":t===1?"1 dia":`${t} dias`}getResponsibleName(t){let e=this.users.find(o=>o.uid===t);return e?.displayName||e?.email||"N\xE3o atribu\xEDdo"}getColumnName(t){return this.columns.find(o=>o.id===t)?.name||"Fase desconhecida"}getColumnColor(t){return this.columns.find(o=>o.id===t)?.color||"#6B7280"}goBack(){this.route.snapshot.queryParams.boardId?this.router.navigate(["/kanban",this.boardId],{queryParams:{ownerId:this.ownerId}}):this.router.navigate(["/dashboard"])}getChartBarHeight(t){if(this.chartData.registrosOverTime.length===0)return 0;let e=Math.max(...this.chartData.registrosOverTime.map(o=>o.registros));return e>0?t/e*100:0}initializeColumns(){this.initializeAvailableColumns(),this.loadSelectedColumns()}initializeAvailableColumns(){this.availableColumns=[];let t=[{key:"currentPhase",label:"Fase Atual",type:"system",field:"columnId"},{key:"createdAt",label:"Criado em",type:"system",field:"createdAt"},{key:"status",label:"Status",type:"system",field:"status"},{key:"responsibleUser",label:"Respons\xE1vel",type:"system",field:"responsibleUserEmail"}];this.availableColumns.push(...t);let e=this.board?.initialFormFields||[];console.log("\u{1F50D} Campos do formul\xE1rio para colunas:",e),[{name:"contactName",label:"Nome do Contato",type:"text"},{name:"contactEmail",label:"Email do Contato",type:"email"},{name:"contactPhone",label:"Telefone do Contato",type:"tel"},{name:"companyName",label:"Nome da Empresa",type:"text"},{name:"cnpj",label:"CNPJ",type:"text"}].forEach(i=>{this.availableColumns.push({key:i.name,label:i.label,type:"form",field:`fields.${i.name}`,fieldType:i.type})}),e.forEach(i=>{if(i.name&&i.label){let c=this.availableColumns.find(g=>g.key===i.name);c?(c.label=i.label||c.label,c.fieldType=i.type||c.fieldType):this.availableColumns.push({key:i.name,label:i.label||i.name,type:"form",field:`fields.${i.name}`,fieldType:i.type||"text"})}}),console.log("\u{1F4CA} Colunas dispon\xEDveis inicializadas:",this.availableColumns)}loadSelectedColumns(){if(this.boardId)try{let t=localStorage.getItem(`report-columns-${this.boardId}`);t?this.selectedColumns=JSON.parse(t):this.selectedColumns=["contactName","contactEmail","companyName","currentPhase","createdAt","status"]}catch(t){console.warn("Could not load selected columns from localStorage:",t),this.selectedColumns=["contactName","contactEmail","companyName","currentPhase","createdAt","status"]}}saveSelectedColumns(){if(this.boardId)try{localStorage.setItem(`report-columns-${this.boardId}`,JSON.stringify(this.selectedColumns))}catch(t){console.warn("Could not save selected columns to localStorage:",t)}}toggleColumnSelector(){this.showColumnSelector=!this.showColumnSelector}isColumnSelected(t){return this.selectedColumns.includes(t)}toggleColumn(t){this.isColumnSelected(t)?this.selectedColumns=this.selectedColumns.filter(e=>e!==t):this.selectedColumns.push(t),this.saveSelectedColumns()}getSelectedColumns(){return this.availableColumns.filter(t=>this.selectedColumns.includes(t.key))}getColumnValue(t,e){switch(e.key){case"currentPhase":return this.getColumnName(t.columnId);case"createdAt":return this.formatDate(t.createdAt);case"status":return this.isLeadConcluded(t)?"Conclu\xEDdo":this.isLeadOverdue(t)?"Em Atraso":"Ativo";case"responsibleUser":return t.responsibleUserName||t.responsibleUserEmail||"N\xE3o atribu\xEDdo";case"contactName":return this.readFieldValue(t,"contactName");case"contactEmail":return this.readFieldValue(t,"contactEmail");case"contactPhone":return this.readFieldValue(t,"contactPhone");case"companyName":return this.readFieldValue(t,"companyName");case"cnpj":return this.readFieldValue(t,"cnpj");default:let o=t.fields?.[e.key];if(o!=null&&o!=="")return String(o);let i=this.getNestedProperty(t,e.field);return i?String(i):"-"}}readFieldValue(t,e){if(!t.fields)return"-";let i={companyName:["companyName","empresa","nomeEmpresa","nameCompany","company","company_name","empresa_nome","nameComapny"],contactName:["contactName","name","nome","nomeLead","nameLead","leadName"],contactEmail:["contactEmail","email","emailLead","contatoEmail","leadEmail"],contactPhone:["contactPhone","phone","telefone","celular","phoneLead","telefoneContato"],cnpj:["cnpj","cnpjCompany","cnpjEmpresa","companyCnpj"]}[e]||[e];for(let c of i){let g=t.fields[c];if(g!=null&&String(g).trim()!=="")return String(g)}return"-"}getNestedProperty(t,e){return e.split(".").reduce((o,i)=>o&&o[i]!==void 0?o[i]:null,t)}getSystemColumns(){return this.availableColumns.filter(t=>t.type==="system")}getFormColumns(){return this.availableColumns.filter(t=>t.type==="form")}hasFormColumns(){return this.availableColumns.filter(t=>t.type==="form").length>0}debugLeadStructure(){if(this.records.length===0){alert("Nenhum registro dispon\xEDvel para debug");return}let t=this.records[0];console.log("\u{1F41B} DEBUG COMPLETO DO LEAD:"),console.log("\u{1F41B} Lead completo:",t),console.log("\u{1F41B} Lead.fields:",t.fields),console.log("\u{1F41B} Chaves dos fields:",t.fields?Object.keys(t.fields):"sem fields"),console.log("\u{1F41B} Valores dos fields:",t.fields?Object.entries(t.fields):"sem entries"),console.log("\u{1F41B} TESTANDO CAMPOS PROBLEM\xC1TICOS:"),console.log("\u{1F41B} contactName tentativas:",[t.fields?.contactName,t.fields?.name,t.fields?.nome]),console.log("\u{1F41B} contactEmail tentativas:",[t.fields?.contactEmail,t.fields?.email]),console.log("\u{1F41B} RESULTADO DOS M\xC9TODOS:"),console.log("\u{1F41B} readFieldValue(contactName):",this.readFieldValue(t,"contactName")),console.log("\u{1F41B} readFieldValue(contactEmail):",this.readFieldValue(t,"contactEmail")),console.log("\u{1F41B} readFieldValue(companyName):",this.readFieldValue(t,"companyName"));let e={leadId:t.id,fieldsKeys:t.fields?Object.keys(t.fields):"no fields",contactNameResult:this.readFieldValue(t,"contactName"),contactEmailResult:this.readFieldValue(t,"contactEmail"),companyNameResult:this.readFieldValue(t,"companyName"),allFields:t.fields};alert(`DEBUG INFO (veja console para detalhes):
`+JSON.stringify(e,null,2))}applyFilters(){console.log("=== APLICANDO FILTROS KANBAN-STYLE ==="),console.log("filterQuery:",this.filterQuery),console.log("filterOnlyMine:",this.filterOnlyMine),console.log("dynamicFilters:",this.dynamicFilters),console.log("Total de registros dispon\xEDveis:",this.records.length),this.filteredRecords=this.records.filter(t=>{if(this.filterQuery&&this.filterQuery.trim()){let e=this.filterQuery.toLowerCase();if(![this.readFieldValue(t,"contactName"),this.readFieldValue(t,"contactEmail"),this.readFieldValue(t,"companyName"),this.readFieldValue(t,"contactPhone"),this.getColumnName(t.columnId)].some(c=>c.toLowerCase().includes(e)))return!1}if(this.filterOnlyMine&&t.responsibleUserId!==this.currentUser?.uid)return!1;for(let[e,o]of Object.entries(this.dynamicFilters))if(o&&typeof o=="string"&&o.trim()){let i=this.readFieldValue(t,e).toLowerCase(),c=o.toLowerCase();if(!i.includes(c))return!1}return!0}),console.log("=== RESULTADO DOS FILTROS ==="),console.log(`${this.records.length} registros total -> ${this.filteredRecords.length} registros filtrados`)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-reports"]],inputs:{boardId:"boardId",ownerId:"ownerId"},decls:3,vars:3,consts:[[4,"ngIf"],["class","p-4 md:p-8",4,"ngIf"],["class","min-h-screen bg-gray-50 flex items-center justify-center",4,"ngIf"],[3,"title"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[3,"filterQueryChange","filterOnlyMineChange","dynamicFiltersChange","showAdvancedFiltersChange","filtersApplied","boardId","ownerId","columns","currentUser","filterQuery","filterOnlyMine","dynamicFilters","showAdvancedFilters"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","mb-6"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","px-6"],["class","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm hover:text-gray-700 hover:border-gray-300 transition-colors",3,"border-blue-500","text-blue-600","border-transparent","text-gray-500","click",4,"ngFor","ngForOf"],["class","flex items-center justify-center py-12",4,"ngIf"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","hover:text-gray-700","hover:border-gray-300","transition-colors",3,"click"],[1,"flex","items-center","justify-center","py-12"],[1,"text-center"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-6","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-sm","border","border-gray-200"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"fas","fa-users","text-2xl","text-blue-500"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"fas","fa-plus-circle","text-2xl","text-green-500"],[1,"fas","fa-check-circle","text-2xl","text-purple-500"],[1,"fas","fa-clock","text-2xl","text-orange-500"],[1,"fas","fa-play-circle","text-2xl","text-blue-500"],[1,"fas","fa-exclamation-triangle","text-2xl","text-red-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"space-y-3"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"space-y-2"],["class","relative",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between"],[1,"w-4","h-4","rounded-full","mr-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","font-bold","text-gray-900"],[1,"relative"],[1,"flex","items-center","justify-between","p-3","rounded-lg","bg-gray-50"],["class","flex justify-center py-1",4,"ngIf"],[1,"flex","justify-center","py-1"],[1,"fas","fa-chevron-down","text-gray-400"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["class","px-6 py-8 text-center",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"w-3","h-3","rounded-full","mr-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-center"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"flex","items-center","justify-center"],[1,"w-16","bg-gray-200","rounded-full","h-2","mr-2"],[1,"h-2","rounded-full","transition-all","duration-300"],[1,"px-6","py-8","text-center"],[1,"fas","fa-clock","text-4xl","text-gray-300","mb-4"],[1,"text-gray-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-6"],["class","bg-white p-6 rounded-lg shadow-sm border border-gray-200",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-4","h-4","rounded-full"],[1,"space-y-4"],[1,"flex","justify-between","items-center"],[1,"text-sm","text-gray-600"],[1,"text-lg","font-bold","text-gray-900"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"flex","items-center","gap-3"],[1,"px-2","py-1","bg-red-600","text-white","text-xs","rounded","hover:bg-red-700",3,"click"],[1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","shadow-sm","text-sm","leading-4","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-columns","mr-2"],[1,"fas","fa-chevron-down","ml-2"],["class","absolute right-0 mt-2 w-72 bg-white border border-gray-200 rounded-lg shadow-lg z-10",4,"ngIf"],["class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",4,"ngFor","ngForOf"],[3,"bg-gray-50",4,"ngFor","ngForOf"],[1,"absolute","right-0","mt-2","w-72","bg-white","border","border-gray-200","rounded-lg","shadow-lg","z-10"],[1,"px-4","py-3","border-b","border-gray-200"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-600","mt-1"],[1,"max-h-80","overflow-y-auto"],[1,"px-4","py-2"],[1,"text-xs","font-medium","text-gray-500","uppercase","tracking-wide","mb-2"],["class","flex items-center cursor-pointer hover:bg-gray-50 px-2 py-1 rounded",4,"ngFor","ngForOf"],["class","px-4 py-2 border-t border-gray-100",4,"ngIf"],[1,"px-4","py-3","border-t","border-gray-200","bg-gray-50"],[1,"w-full","px-3","py-2","text-sm","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"flex","items-center","cursor-pointer","hover:bg-gray-50","px-2","py-1","rounded"],["type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded",3,"change","checked"],[1,"ml-3","text-sm","text-gray-700"],[1,"px-4","py-2","border-t","border-gray-100"],[1,"ml-auto","text-xs","text-gray-400"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","whitespace-nowrap"],["class","px-6 py-4 whitespace-nowrap",4,"ngFor","ngForOf"],["class","flex items-center",4,"ngIf"],["class","text-sm text-gray-900",4,"ngIf"],[1,"w-3","h-3","rounded-full","mr-2"],[1,"text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium"],[1,"fas","fa-search","text-4xl","text-gray-300","mb-4"],[1,"h-64","flex","items-end","space-x-2"],["class","flex-1 bg-blue-500 rounded-t flex flex-col justify-end items-center relative",3,"height",4,"ngFor","ngForOf"],[1,"flex-1","bg-blue-500","rounded-t","flex","flex-col","justify-end","items-center","relative"],[1,"text-white","text-xs","font-medium","mb-2"],[1,"absolute","-bottom-6","text-xs","text-gray-600","transform","rotate-45","origin-bottom-left"],[1,"flex","items-center","flex-1"],[1,"text-sm","font-medium","text-gray-700","flex-1"],[1,"flex","items-center","space-x-4"],[1,"text-right"],[1,"text-xs","text-gray-500"],[1,"p-4","md:p-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-6"],[1,"fas","fa-chart-bar","mr-2","text-blue-500"],[1,"flex","space-x-8","px-6"],["class","py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",3,"border-blue-500","text-blue-600","border-transparent","text-gray-500","hover:text-gray-700","click",4,"ngFor","ngForOf"],[1,"p-6"],[1,"py-4","px-1","border-b-2","font-medium","text-sm","transition-colors","duration-200",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","rounded-lg","shadow","p-6","text-white"],[1,"text-blue-100"],[1,"text-3xl","font-bold"],[1,"bg-blue-400","bg-opacity-30","p-3","rounded-full"],[1,"fas","fa-users","text-2xl"],[1,"bg-gradient-to-r","from-green-500","to-green-600","rounded-lg","shadow","p-6","text-white"],[1,"text-green-100"],[1,"bg-green-400","bg-opacity-30","p-3","rounded-full"],[1,"fas","fa-check-circle","text-2xl"],[1,"bg-gradient-to-r","from-yellow-500","to-yellow-600","rounded-lg","shadow","p-6","text-white"],[1,"text-yellow-100"],[1,"bg-yellow-400","bg-opacity-30","p-3","rounded-full"],[1,"fas","fa-clock","text-2xl"],[1,"bg-white"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-green-600","font-medium"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-red-600","font-medium"],[1,"space-y-6"],["class","bg-white rounded-lg border border-gray-200 p-6",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","border","border-gray-200","p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex","justify-between","items-center","mb-4"],[1,"space-y-8"],[1,"bg-white","rounded-lg","p-6"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","text-center",4,"ngFor","ngForOf"],[1,"w-16","h-16","mx-auto","rounded-full","flex","items-center","justify-center","text-white","font-bold","text-lg"],[1,"mt-2","text-sm","text-gray-600"],[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center"],[1,"max-w-md","w-full","mx-auto"],[1,"bg-white","rounded-lg","shadow-lg","p-8"],[1,"text-center","mb-6"],[1,"w-16","h-16","mx-auto","bg-blue-100","rounded-full","flex","items-center","justify-center","mb-4"],[1,"fas","fa-chart-bar","text-2xl","text-blue-500"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],["class","text-center py-8",4,"ngIf"],[1,"p-4","border","border-gray-200","rounded-lg","hover:border-blue-300","hover:bg-blue-50","cursor-pointer","transition-colors",3,"click"],[1,"font-medium","text-gray-900"],["class","text-sm text-gray-600",4,"ngIf"],[1,"fas","fa-chevron-right","text-gray-400"],[1,"text-center","py-8"],[1,"mt-4","bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","transition-colors",3,"click"]],template:function(e,o){e&1&&p(0,Ke,10,23,"app-main-layout",0)(1,xt,17,15,"div",1)(2,Ct,13,2,"div",2),e&2&&(m("ngIf",o.boardId&&o.isStandaloneView()),l(),m("ngIf",o.boardId&&!o.isStandaloneView()),l(),m("ngIf",!o.boardId))},dependencies:[D,R,P,V,ee,te,N,z],styles:['.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.chart-container[_ngcontent-%COMP%]{position:relative;height:300px}.chart-container[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{transition:all .3s ease}.chart-container[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{opacity:.8}.sla-indicator[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{transition:width .5s ease-in-out}.sla-indicator.high-compliance[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{background:linear-gradient(to right,#10b981,#059669)}.sla-indicator.medium-compliance[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{background:linear-gradient(to right,#f59e0b,#d97706)}.sla-indicator.low-compliance[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{background:linear-gradient(to right,#ef4444,#dc2626)}.metric-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#3b82f60d}.status-badge.status-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.status-badge.status-concluded[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.status-badge.status-overdue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.filters-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-left:4px solid #3B82F6}.tab-nav[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]{position:relative;transition:all .2s ease}.tab-nav[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:hover{color:#3b82f6}.tab-nav[_ngcontent-%COMP%]   .tab-button.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:2px;background:linear-gradient(to right,#3b82f6,#1d4ed8);border-radius:1px}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc);border-left:4px solid transparent;transition:all .2s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.summary-card.card-primary[_ngcontent-%COMP%]{border-left-color:#3b82f6}.summary-card.card-success[_ngcontent-%COMP%]{border-left-color:#10b981}.summary-card.card-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.summary-card.card-danger[_ngcontent-%COMP%]{border-left-color:#ef4444}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-right:.5rem}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-cards[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.tab-nav[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 640px){.summary-cards[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.page-break[_ngcontent-%COMP%]{page-break-before:always}.chart-container[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;color-adjust:exact}}']})};export{N as a,ie as b};
