import{a as K}from"./chunk-RHNPUN54.js";import{a as J}from"./chunk-4RPGT7VY.js";import{B as G,C as W,E as B,G as $,K as q,M as Y,j as F,m as I,n as R,r as A,u as j,v as z}from"./chunk-XFXMLSII.js";import{R as H,S as Z}from"./chunk-4U6ZKXZY.js";import{Ab as i,Bb as o,Cb as c,Jb as h,Lb as C,Lc as L,Nb as d,Ta as m,Wb as D,Xb as l,Yb as S,Zb as y,a as w,ac as P,b as M,bb as V,bc as T,cc as O,da as U,f as v,ja as p,ka as g,ta as f,ub as x,vb as _,xb as N,yb as k,zb as b}from"./chunk-O3JLSHCU.js";var X=(r,t)=>t.email;function ee(r,t){if(r&1){let e=h();i(0,"button",10),C("click",function(){p(e);let n=d();return g(n.showInviteFormToggle())}),c(1,"i",11),l(2," Convidar Usu\xE1rio "),o()}if(r&2){let e=d();b("disabled",e.inviteLoading())}}function te(r,t){if(r&1&&(i(0,"div",16),c(1,"i",31),l(2),o()),r&2){let e=d(2);m(2),y(" ",e.inviteSuccess()," ")}}function ne(r,t){if(r&1&&(i(0,"div",17),c(1,"i",32),l(2),o()),r&2){let e=d(2);m(2),y(" ",e.inviteError()," ")}}function ie(r,t){r&1&&(c(0,"i",33),l(1," Enviando... "))}function oe(r,t){r&1&&(c(0,"i",34),l(1," Enviar Convite "))}function re(r,t){if(r&1){let e=h();i(0,"div",5)(1,"div",12),c(2,"i",13),i(3,"strong",14),l(4,"Convidar Usu\xE1rio"),o()(),i(5,"p",15),l(6,"O usu\xE1rio receber\xE1 um email de convite para se juntar \xE0 empresa."),o(),x(7,te,3,1,"div",16),x(8,ne,3,1,"div",17),i(9,"form",18),C("submit",function(n){return p(e),d().inviteUser(),g(n.preventDefault())}),i(10,"div",19)(11,"div",20)(12,"label",21),l(13,"Email do Usu\xE1rio *"),o(),i(14,"input",22),O("ngModelChange",function(n){p(e);let s=d();return T(s.inviteEmail,n)||(s.inviteEmail=n),g(n)}),C("input",function(n){p(e);let s=d();return g(s.inviteEmail.set(n.target.value))}),o()(),i(15,"div")(16,"label",21),l(17,"Fun\xE7\xE3o"),o(),i(18,"select",23),O("ngModelChange",function(n){p(e);let s=d();return T(s.inviteRole,n)||(s.inviteRole=n),g(n)}),C("change",function(n){p(e);let s=d();return g(s.inviteRole.set(n.target.value))}),i(19,"option",24),l(20,"Usu\xE1rio"),o(),i(21,"option",25),l(22,"Gerente"),o(),i(23,"option",26),l(24,"Administrador"),o()()()(),i(25,"div",27)(26,"button",28),x(27,ie,2,0)(28,oe,2,0),o(),i(29,"button",29),C("click",function(){p(e);let n=d();return g(n.showInviteForm.set(!1))}),c(30,"i",30),l(31," Cancelar "),o()()()()}if(r&2){let e=d();m(7),_(e.inviteSuccess()?7:-1),m(),_(e.inviteError()?8:-1),m(6),P("ngModel",e.inviteEmail),b("value",e.inviteEmail()),m(4),P("ngModel",e.inviteRole),b("value",e.inviteRole()),m(8),b("disabled",e.inviteLoading()||!e.inviteEmail().trim()),m(),_(e.inviteLoading()?27:28)}}function ae(r,t){r&1&&(i(0,"div",6),c(1,"i",35),i(2,"p",36),l(3,"Carregando usu\xE1rios..."),o()())}function le(r,t){if(r&1){let e=h();i(0,"button",41),C("click",function(){p(e);let n=d(2);return g(n.showInviteFormToggle())}),c(1,"i",11),l(2," Convidar Primeiro Usu\xE1rio "),o()}}function se(r,t){if(r&1&&(i(0,"div",6),c(1,"i",37),i(2,"h5",38),l(3,"Nenhum usu\xE1rio encontrado"),o(),i(4,"p",39),l(5,"Convide usu\xE1rios para colaborar na sua empresa."),o(),x(6,le,3,0,"button",40),o()),r&2){let e=d();m(6),_(e.canManageUsers()?6:-1)}}function me(r,t){if(r&1&&(i(0,"div",51),l(1),o()),r&2){let e=d().$implicit;m(),y(" ",e.displayName.charAt(0).toUpperCase()," ")}}function de(r,t){r&1&&c(0,"i",52)}function ce(r,t){r&1&&(i(0,"span",55),l(1,"(Voc\xEA)"),o())}function ue(r,t){r&1&&(i(0,"span",56),l(1,"(Propriet\xE1rio)"),o())}function pe(r,t){if(r&1){let e=h();i(0,"select",64),C("change",function(n){p(e);let s=d().$implicit,u=d(2);return g(u.changeUserRole(s.email,n.target.value))}),i(1,"option",24),l(2,"Usu\xE1rio"),o(),i(3,"option",25),l(4,"Gerente"),o(),i(5,"option",26),l(6,"Administrador"),o()()}if(r&2){let e=d().$implicit,a=d(2);b("value",e.role)("disabled",a.isLoading())}}function ge(r,t){if(r&1&&(i(0,"span"),l(1),o()),r&2){let e=d().$implicit,a=d(2);D(a.getRoleBadgeClass(e.role)),m(),y(" ",a.getRoleLabel(e.role)," ")}}function xe(r,t){if(r&1){let e=h();i(0,"div",63)(1,"button",65),C("click",function(){p(e);let n=d().$implicit,s=d(2);return g(s.resendInvite(n.email))}),c(2,"i",66),l(3," Reenviar "),o(),i(4,"button",67),C("click",function(){p(e);let n=d().$implicit,s=d(2);return g(s.removeUser(n.email))}),c(5,"i",68),l(6," Remover "),o()()}if(r&2){let e=d(3);m(),b("disabled",e.isLoading()),m(3),b("disabled",e.isLoading())}}function _e(r,t){if(r&1&&(i(0,"tr",47)(1,"td",48)(2,"div",49)(3,"div",50),x(4,me,2,1,"div",51)(5,de,1,0,"i",52),o(),i(6,"div",53)(7,"div",54),l(8),o(),x(9,ce,2,0,"span",55),x(10,ue,2,0,"span",56),o()()(),i(11,"td",48)(12,"div",57),l(13),o()(),i(14,"td",48),x(15,pe,7,2,"select",58)(16,ge,2,3,"span",59),o(),i(17,"td",48)(18,"span",60),l(19," Ativo "),o()(),i(20,"td",61),l(21),o(),i(22,"td",62),x(23,xe,7,2,"div",63),o()()),r&2){let e,a,n,s,u=t.$implicit,E=d(2);m(4),_(u.displayName?4:5),m(4),y(" ",u.displayName||"Usu\xE1rio sem nome"," "),m(),_(u.email===((e=E.currentUser())==null?null:e.email)?9:-1),m(),_(u.email===((a=E.currentCompany())==null?null:a.ownerEmail)?10:-1),m(3),S(u.email),m(2),_(E.canManageUsers()&&u.email!==((n=E.currentCompany())==null?null:n.ownerEmail)?15:16),m(6),y(" ",(u.joinedAt==null?null:u.joinedAt.toLocaleDateString("pt-BR"))||"Data n\xE3o dispon\xEDvel"," "),m(2),_(E.canManageUsers()&&u.email!==((s=E.currentUser())==null?null:s.email)&&u.email!==((s=E.currentCompany())==null?null:s.ownerEmail)?23:-1)}}function fe(r,t){if(r&1&&(i(0,"div",7)(1,"table",42)(2,"thead",43)(3,"tr")(4,"th",44),l(5,"Usu\xE1rio"),o(),i(6,"th",44),l(7,"Email"),o(),i(8,"th",44),l(9,"Fun\xE7\xE3o"),o(),i(10,"th",44),l(11,"Status"),o(),i(12,"th",44),l(13,"Membro desde"),o(),i(14,"th",45),l(15,"A\xE7\xF5es"),o()()(),i(16,"tbody",46),N(17,_e,24,8,"tr",47,X),o()()()),r&2){let e=d();m(17),k(e.users())}}function Ce(r,t){if(r&1){let e=h();i(0,"div",8)(1,"div",69)(2,"h3",70),c(3,"i",71),l(4," Zona Perigosa "),o(),i(5,"p",72),l(6," A exclus\xE3o da empresa \xE9 permanente e n\xE3o pode ser desfeita. Todos os dados, quadros, leads e usu\xE1rios ser\xE3o perdidos. "),o()(),i(7,"div",4)(8,"button",73),C("click",function(){p(e);let n=d();return g(n.showDeleteModal())}),c(9,"i",68),l(10," Excluir Empresa Permanentemente "),o()()()}}function ve(r,t){if(r&1&&(i(0,"div",17),c(1,"i",32),l(2),o()),r&2){let e=d(2);m(2),y(" ",e.deleteError()," ")}}function be(r,t){r&1&&(c(0,"i",33),l(1," Excluindo... "))}function he(r,t){r&1&&(c(0,"i",68),l(1," Excluir Permanentemente "))}function ye(r,t){if(r&1){let e=h();i(0,"div",9)(1,"div",74)(2,"div",75)(3,"div",76)(4,"h3",77),c(5,"i",78),l(6," Confirmar Exclus\xE3o "),o(),i(7,"button",79),C("click",function(){p(e);let n=d();return g(n.hideDeleteModal())}),c(8,"i",80),o()(),i(9,"div",81)(10,"strong"),l(11,"ATEN\xC7\xC3O:"),o(),l(12," Esta a\xE7\xE3o n\xE3o pode ser desfeita! "),o(),i(13,"p",82),l(14,"Voc\xEA est\xE1 prestes a excluir permanentemente:"),o(),i(15,"ul",83)(16,"li"),l(17,"Empresa: "),i(18,"strong"),l(19),o()(),i(20,"li"),l(21,"Todos os quadros e leads"),o(),i(22,"li"),l(23,"Todos os usu\xE1rios associados"),o(),i(24,"li"),l(25,"Todas as configura\xE7\xF5es e dados"),o()(),i(26,"p",82),l(27," Para confirmar, digite "),i(28,"strong"),l(29),o(),l(30," abaixo: "),o(),i(31,"input",84),O("ngModelChange",function(n){p(e);let s=d();return T(s.deleteConfirmation,n)||(s.deleteConfirmation=n),g(n)}),C("input",function(n){p(e);let s=d();return g(s.deleteConfirmation.set(n.target.value))}),o(),x(32,ve,3,1,"div",17),i(33,"div",27)(34,"button",85),C("click",function(){p(e);let n=d();return g(n.hideDeleteModal())}),l(35," Cancelar "),o(),i(36,"button",86),C("click",function(){p(e);let n=d();return g(n.deleteCompany())}),x(37,be,2,0)(38,he,2,0),o()()()()()}if(r&2){let e,a,n,s=d();m(19),S((e=s.currentCompany())==null?null:e.name),m(10),S((a=s.currentCompany())==null?null:a.name),m(2),P("ngModel",s.deleteConfirmation),b("value",s.deleteConfirmation()),m(),_(s.deleteError()?32:-1),m(2),b("disabled",s.deleteLoading()),m(2),b("disabled",s.deleteLoading()||s.deleteConfirmation()!==((n=s.currentCompany())==null?null:n.name)),m(),_(s.deleteLoading()?37:38)}}var Q=class r{companyService=U(H);authService=U(Z);subdomainService=U(Y);users=f([]);currentCompany=f(null);currentUser=f(null);isLoading=f(!1);showInviteForm=f(!1);inviteEmail=f("");inviteRole=f("user");inviteLoading=f(!1);inviteError=f(null);inviteSuccess=f(null);showDeleteConfirmation=f(!1);deleteConfirmation=f("");deleteLoading=f(!1);deleteError=f(null);ngOnInit(){return v(this,null,function*(){yield this.loadUserData(),yield this.ensureGobuyerCompany(),yield this.forceAddCurrentUser(),yield this.loadCompanyUsers()})}ensureGobuyerCompany(){return v(this,null,function*(){try{yield this.companyService.seedGobuyerCompany(),yield this.companyService.associateGobuyerUsers();let t=this.subdomainService.getCurrentCompany();this.currentCompany.set(t)}catch(t){console.error("Erro ao garantir empresa Gobuyer:",t)}})}forceAddCurrentUser(){return v(this,null,function*(){let t=this.authService.getCurrentUser(),e=this.currentCompany();if(console.log("Force adding current user - User:",t?.email,"Company:",e?.name,"ID:",e?.id),!t||!e||!t.email||!e.id){console.log("Missing data for force add user");return}try{let n=(yield this.companyService.getCompanyUsers(e.id)).some(s=>s.email===t.email);if(console.log("User already exists in company:",n),!n){let s=t.email===e.ownerEmail?"admin":"user";console.log("Adding user with role:",s),yield this.companyService.addUserToCompany(e.id,t.email,s),console.log("User added successfully")}}catch(a){console.error("Error in forceAddCurrentUser:",a)}})}syncCurrentUserToCompany(){return v(this,null,function*(){let t=this.authService.getCurrentUser(),e=this.currentCompany();if(!(!t||!e||!t.email))try{if(!this.users().find(n=>n.email===t.email)){let n=t.email===e.ownerEmail?"admin":"user";yield this.companyService.addUserToCompany(e.id,t.email,n),yield this.loadCompanyUsers()}}catch(a){console.error("Erro ao sincronizar usu\xE1rio atual:",a)}})}loadUserData(){return v(this,null,function*(){let t=this.subdomainService.getCurrentCompany(),e=this.authService.getCurrentUser();this.currentCompany.set(t),this.currentUser.set(e)})}loadCompanyUsers(){return v(this,null,function*(){let t=this.currentCompany();if(!(!t||!t.id)){this.isLoading.set(!0);try{let e=yield this.companyService.getCompanyUsers(t.id);if(e.length===0){let n=this.authService.getCurrentUser();if(console.log("No users found, current user:",n),n&&n.email){let s=n.email===t.ownerEmail?"admin":"user",u={uid:n.uid,email:n.email,displayName:n.displayName||this.extractNameFromEmail(n.email),role:s,permissions:[],joinedAt:new Date,photoURL:n.photoURL,emailVerified:n.emailVerified};e=[u],this.companyService.addUserToCompany(t.id,n.email,u.role).catch(()=>{})}}let a=e.map(n=>{try{let s=this.authService.getCurrentUser();return s&&s.email===n.email?M(w({},n),{displayName:s.displayName||n.displayName||this.extractNameFromEmail(n.email),photoURL:s.photoURL,emailVerified:s.emailVerified,uid:s.uid}):M(w({},n),{displayName:n.displayName||this.extractNameFromEmail(n.email)})}catch(s){return console.warn("Erro ao enriquecer dados do usu\xE1rio:",n.email,s),M(w({},n),{displayName:n.displayName||this.extractNameFromEmail(n.email)})}});this.users.set(a)}catch(e){console.error("Erro ao carregar usu\xE1rios:",e)}finally{this.isLoading.set(!1)}}})}extractNameFromEmail(t){return t.split("@")[0].replace(/[._]/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")}inviteUser(){return v(this,null,function*(){let t=this.inviteEmail().trim(),e=this.inviteRole(),a=this.currentCompany();if(!t||!a)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){this.inviteError.set("Email inv\xE1lido");return}if(this.users().find(u=>u.email===t)){this.inviteError.set("Este usu\xE1rio j\xE1 faz parte da empresa");return}this.inviteLoading.set(!0),this.inviteError.set(null),this.inviteSuccess.set(null);try{yield this.companyService.addUserToCompany(a.id,t,e),this.inviteSuccess.set(`Convite enviado para ${t}`),this.inviteEmail.set(""),this.inviteRole.set("user"),yield this.loadCompanyUsers(),setTimeout(()=>{this.showInviteForm.set(!1),this.inviteSuccess.set(null)},2e3)}catch(u){console.error("Erro ao convidar usu\xE1rio:",u),this.inviteError.set("Erro ao enviar convite. Tente novamente.")}finally{this.inviteLoading.set(!1)}})}removeUser(t){return v(this,null,function*(){let e=this.currentCompany(),a=this.currentUser();if(!(!e||!a)){if(t===a.email){alert('Voc\xEA n\xE3o pode remover a si mesmo. Use a op\xE7\xE3o "Excluir Empresa" se deseja sair.');return}if(confirm(`Deseja remover o usu\xE1rio ${t} da empresa?`)){this.isLoading.set(!0);try{yield this.companyService.removeUserFromCompany(e.id,t),yield this.loadCompanyUsers()}catch(n){console.error("Erro ao remover usu\xE1rio:",n),alert("Erro ao remover usu\xE1rio. Tente novamente.")}finally{this.isLoading.set(!1)}}}})}changeUserRole(t,e){return v(this,null,function*(){let a=this.currentCompany();if(a){this.isLoading.set(!0);try{yield this.companyService.updateUserRole(a.id,t,e),yield this.loadCompanyUsers()}catch(n){console.error("Erro ao alterar fun\xE7\xE3o do usu\xE1rio:",n),alert("Erro ao alterar fun\xE7\xE3o do usu\xE1rio. Tente novamente.")}finally{this.isLoading.set(!1)}}})}resendInvite(t){return v(this,null,function*(){let e=this.currentCompany();if(e)try{let a=this.users().find(n=>n.email===t);a&&(yield this.companyService.addUserToCompany(e.id,t,a.role),alert(`Convite reenviado para ${t}`))}catch(a){console.error("Erro ao reenviar convite:",a),alert("Erro ao reenviar convite. Tente novamente.")}})}canManageUsers(){let t=this.currentUser(),e=this.currentCompany();return!t||!e?!1:e.ownerEmail===t.email?!0:this.users().length>0?this.users().find(n=>n.email===t.email)?.role==="admin":!0}canDeleteCompany(){let t=this.currentUser(),e=this.currentCompany();return!t||!e?!1:e.ownerEmail===t.email}deleteCompany(){return v(this,null,function*(){let t=this.currentCompany(),e=this.deleteConfirmation().trim();if(!t||e!==t.name){this.deleteError.set("Digite exatamente o nome da empresa para confirmar");return}this.deleteLoading.set(!0),this.deleteError.set(null);try{yield this.companyService.deleteCompany(t.id),yield this.authService.logout(),window.location.href="/login"}catch(a){console.error("Erro ao excluir empresa:",a),this.deleteError.set("Erro ao excluir empresa. Tente novamente.")}finally{this.deleteLoading.set(!1)}})}showInviteFormToggle(){this.showInviteForm.set(!this.showInviteForm()),this.inviteError.set(null),this.inviteSuccess.set(null),this.inviteEmail.set("")}showDeleteModal(){this.showDeleteConfirmation.set(!0),this.deleteConfirmation.set(""),this.deleteError.set(null)}hideDeleteModal(){this.showDeleteConfirmation.set(!1),this.deleteConfirmation.set(""),this.deleteError.set(null)}getRoleLabel(t){switch(t){case"admin":return"Administrador";case"manager":return"Gerente";case"user":return"Usu\xE1rio";default:return t}}getRoleBadgeClass(t){switch(t){case"admin":return"badge-danger";case"manager":return"badge-warning";case"user":return"badge-info";default:return"badge-secondary"}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-user-management"]],decls:12,vars:5,consts:[["title","Gerenciar Usu\xE1rios"],[1,"bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","transition-colors",3,"disabled"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"p-6"],[1,"mb-6","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-center","py-8"],[1,"overflow-x-auto"],[1,"mt-8","bg-white","rounded-lg","shadow-sm","border","border-red-200"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","transition-colors",3,"click","disabled"],[1,"fas","fa-plus","mr-1"],[1,"flex","items-center","mb-3"],[1,"fas","fa-info-circle","text-blue-500","mr-2"],[1,"text-blue-800"],[1,"text-blue-700","text-sm","mb-4"],[1,"mb-4","p-3","bg-green-50","border","border-green-200","rounded","text-green-800"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded","text-red-800"],[1,"space-y-4",3,"submit"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"md:col-span-2"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","placeholder","usuario@exemplo.com","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","input","ngModel","value"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","change","ngModel","value"],["value","user"],["value","manager"],["value","admin"],[1,"flex","space-x-3"],["type","submit",1,"bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors","disabled:opacity-50",3,"disabled"],["type","button",1,"bg-gray-500","hover:bg-gray-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors",3,"click"],[1,"fas","fa-times","mr-1"],[1,"fas","fa-check-circle","mr-2"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"fas","fa-spinner","fa-spin","mr-1"],[1,"fas","fa-paper-plane","mr-1"],[1,"fas","fa-spinner","fa-spin","text-2xl","text-gray-400","mb-4"],[1,"text-gray-600"],[1,"fas","fa-users","text-4xl","text-gray-300","mb-4"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],[1,"bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors"],[1,"bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors",3,"click"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"flex-shrink-0","h-10","w-10"],[1,"h-10","w-10","rounded-full","bg-blue-500","flex","items-center","justify-center","text-white","font-medium"],[1,"fas","fa-user-circle","text-2xl","text-gray-400"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-blue-600","font-medium"],[1,"text-xs","text-purple-600","font-medium"],[1,"text-sm","text-gray-900"],[1,"text-sm","border","border-gray-300","rounded","px-2","py-1","focus:ring-blue-500","focus:border-blue-500",3,"value","disabled"],[3,"class"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","space-x-2","justify-end"],[1,"text-sm","border","border-gray-300","rounded","px-2","py-1","focus:ring-blue-500","focus:border-blue-500",3,"change","value","disabled"],[1,"text-blue-600","hover:text-blue-800","text-sm",3,"click","disabled"],[1,"fas","fa-envelope","mr-1"],[1,"text-red-600","hover:text-red-800","text-sm",3,"click","disabled"],[1,"fas","fa-trash","mr-1"],[1,"p-6","bg-red-50","rounded-t-lg","border-b","border-red-200"],[1,"text-lg","font-semibold","text-red-800","flex","items-center"],[1,"fas","fa-exclamation-triangle","mr-2"],[1,"text-sm","text-red-700","mt-1"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors",3,"click"],[1,"relative","top-20","mx-auto","p-5","border","w-96","shadow-lg","rounded-md","bg-white"],[1,"mt-3"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center"],[1,"fas","fa-exclamation-triangle","text-red-500","mr-2"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded"],[1,"text-sm","text-gray-600","mb-4"],[1,"text-sm","text-gray-600","mb-4","list-disc","list-inside"],["type","text","placeholder","Nome da empresa",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-red-500","focus:border-red-500","mb-4",3,"ngModelChange","input","ngModel","value"],[1,"flex-1","bg-gray-500","hover:bg-gray-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors",3,"click","disabled"],[1,"flex-1","bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-md","text-sm","font-medium","transition-colors",3,"click","disabled"]],template:function(e,a){e&1&&(i(0,"app-main-layout")(1,"app-config-header",0),x(2,ee,3,1,"button",1),o(),i(3,"div",2)(4,"div",3)(5,"div",4),x(6,re,32,8,"div",5),x(7,ae,4,0,"div",6)(8,se,7,1,"div",6)(9,fe,19,0,"div",7),o()(),x(10,Ce,11,0,"div",8),o()(),x(11,ye,39,8,"div",9)),e&2&&(m(2),_(a.canManageUsers()?2:-1),m(4),_(a.showInviteForm()?6:-1),m(),_(a.isLoading()?7:a.users().length===0?8:9),m(3),_(a.canDeleteCompany()?10:-1),m(),_(a.showDeleteConfirmation()?11:-1))},dependencies:[L,q,z,W,B,F,G,I,R,$,j,A,K,J],styles:[".user-management-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.invite-form[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:20px}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#007bff;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.avatar-initials[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;font-weight:600;color:#495057}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.badge[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px;font-weight:500}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.badge-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.badge-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.danger-zone[_ngcontent-%COMP%]{border:1px solid #dc3545;border-radius:6px;padding:20px;background-color:#fff5f5}.danger-zone[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#dc3545!important}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#00000080}.modal[_ngcontent-%COMP%]{z-index:1050}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:1.75rem auto}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.btn-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none;display:flex;align-items:center;gap:10px}.gap-2[_ngcontent-%COMP%]{gap:8px}.d-flex[_ngcontent-%COMP%]{display:flex}.align-items-center[_ngcontent-%COMP%]{align-items:center}.justify-content-between[_ngcontent-%COMP%]{justify-content:space-between}.ms-2[_ngcontent-%COMP%]{margin-left:8px}.mt-2[_ngcontent-%COMP%]{margin-top:8px}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px}.mb-3[_ngcontent-%COMP%]{margin-bottom:16px}.mb-4[_ngcontent-%COMP%]{margin-bottom:24px}.py-4[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:24px}.text-center[_ngcontent-%COMP%]{text-align:center}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.text-primary[_ngcontent-%COMP%]{color:#007bff!important}.text-success[_ngcontent-%COMP%]{color:#28a745!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.fw-bold[_ngcontent-%COMP%]{font-weight:700}.small[_ngcontent-%COMP%]{font-size:.875em}@media (max-width: 768px){.user-management-container[_ngcontent-%COMP%]{padding:10px}.invite-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{gap:10px}.invite-form[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%], .invite-form[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%], .invite-form[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{width:100%}.table-responsive[_ngcontent-%COMP%]{font-size:14px}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;font-size:14px}}"]})};export{Q as UserManagementComponent};
