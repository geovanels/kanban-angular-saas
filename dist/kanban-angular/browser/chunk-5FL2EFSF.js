import{a as ge}from"./chunk-UHZZH6SA.js";import{A as re,B as oe,C as le,H as de,I as se,J as ce,c as Q,e as O,i as X,l as Z,m as ee,t as te,x as ne,y as ie,z as ae}from"./chunk-NQFRU3X2.js";import{F as me,G as pe,H as ue}from"./chunk-4NYDEC32.js";import{$b as A,Db as s,Eb as i,Fb as n,Gb as u,Hb as D,Ib as E,Jb as V,Nb as w,Nc as K,Ob as $,Oc as W,Pb as f,Qb as j,Rb as c,Sb as G,Tb as U,Ua as B,Vc as J,Wc as F,Xa as o,Yb as h,Zb as S,ac as a,bc as p,cc as x,f as I,fa as C,fb as T,jc as q,kb as g,la as v,ma as _,mc as L,pc as H,qc as z,tc as Y,yb as P,zb as M}from"./chunk-JXP376XN.js";var fe=["*"];function be(r,t){if(r&1&&V(0,"img",6),r&2){let e=c();$("src",e.companyLogo,B)("alt","Logo "+e.companyName)}}function he(r,t){if(r&1&&(D(0,"div",11),a(1),E()),r&2){let e=c();h("background-color",e.primaryColor),o(),x(" ",e.getCompanyInitials()," ")}}function ye(r,t){if(r&1&&(D(0,"p",9),a(1),E()),r&2){let e=c();o(),p(e.subtitle)}}var k=class r{title="Meus quadros Kanban";subtitle;subdomainService=C(me);router=C(O);get companyName(){return this.subdomainService.getCurrentCompany()?.name||"Task Board"}get companyLogo(){let t=this.subdomainService.getCurrentCompany();return t?.brandingConfig?.logo&&t.brandingConfig.logo.trim()!==""?t.brandingConfig.logo:t?.subdomain==="gobuyer"?"https://apps.gobuyer.com.br/sso/assets/images/logos/logo-gobuyer.png":""}hasCustomLogo(){let t=this.subdomainService.getCurrentCompany();return!!(t?.brandingConfig?.logo&&t.brandingConfig.logo.trim()!==""||t?.subdomain==="gobuyer")}get primaryColor(){return this.subdomainService.getCurrentCompany()?.brandingConfig?.primaryColor||"#3B82F6"}getCompanyInitials(){let t=this.companyName;if(!t||t==="Task Board")return"TB";let e=t.split(" ").filter(l=>l.length>0);return e.length===1?e[0].charAt(0).toUpperCase():e.length>=2?e[0].charAt(0).toUpperCase()+e[1].charAt(0).toUpperCase():"TB"}goBack(){let t=this.router.url;t.includes("/empresa/")||t.includes("/usuarios")?this.router.navigate(["/dashboard"]):window.history.back()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=T({type:r,selectors:[["app-company-breadcrumb"]],inputs:{title:"title",subtitle:"subtitle"},ngContentSelectors:fe,decls:14,vars:3,consts:[[1,"bg-gray-50","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-3"],[1,"text-gray-500","hover:text-gray-700","p-1","rounded","hover:bg-gray-100","transition-colors",3,"click"],[1,"fas","fa-arrow-left"],[1,"h-10","w-auto","rounded",3,"src","alt"],[1,"h-10","w-10","rounded-lg","flex","items-center","justify-center","text-white","font-bold",3,"background-color"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"flex-1","flex","justify-end"],[1,"h-10","w-10","rounded-lg","flex","items-center","justify-center","text-white","font-bold"]],template:function(e,l){e&1&&(G(),D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),j("click",function(){return l.goBack()}),V(5,"i",5),E(),P(6,be,1,2,"img",6)(7,he,2,3,"div",7),D(8,"div")(9,"h2",8),a(10),E(),P(11,ye,2,1,"p",9),E()(),D(12,"div",10),U(13),E()()()()),e&2&&(o(6),M(l.hasCustomLogo()?6:7),o(4),x(" ",l.title," "),o(),M(l.subtitle?11:-1))},dependencies:[F],styles:["[_nghost-%COMP%]{display:block}"]})};var Ce=()=>({key:"overview",label:"Vis\xE3o Geral",icon:"fas fa-chart-pie"}),Se=()=>({key:"sla",label:"Indicadores SLA",icon:"fas fa-clock"}),Ee=()=>({key:"phases",label:"M\xE9tricas por Fase",icon:"fas fa-columns"}),we=()=>({key:"leads",label:"Lista de Registros",icon:"fas fa-list"}),Ie=()=>({key:"charts",label:"Gr\xE1ficos",icon:"fas fa-chart-bar"}),De=(r,t,e,l,d)=>[r,t,e,l,d];function Le(r,t){if(r&1&&(i(0,"option",34),a(1),n()),r&2){let e=t.$implicit;s("value",e.id),o(),x(" ",e.name," ")}}function Te(r,t){if(r&1&&(i(0,"option",34),a(1),n()),r&2){let e=t.$implicit;s("value",e),o(),p(e)}}function Fe(r,t){if(r&1&&(i(0,"option",34),a(1),n()),r&2){let e=t.$implicit;s("value",e.id),o(),p(e.name)}}function Oe(r,t){if(r&1){let e=w();i(0,"button",35),f("click",function(){let d=v(e).$implicit,m=c(2);return _(m.setView(d.key))}),u(1,"i"),a(2),n()}if(r&2){let e=t.$implicit,l=c(2);S("border-blue-500",l.currentView===e.key)("text-blue-600",l.currentView===e.key)("border-transparent",l.currentView!==e.key)("text-gray-500",l.currentView!==e.key),o(),A(e.icon+" mr-2"),o(),x(" ",e.label," ")}}function ke(r,t){if(r&1&&(i(0,"div",36)(1,"div",37),u(2,"i",38),i(3,"p",39),a(4),n()()()),r&2){let e=c(2);o(4),p(e.isLoading?"Carregando dados...":"Gerando relat\xF3rio...")}}function Re(r,t){if(r&1&&(i(0,"div",58)(1,"div",42),u(2,"div",59),i(3,"span",60),a(4),n()(),i(5,"span",61),a(6),n()()),r&2){let e=t.$implicit;o(2),h("background-color",e.color),o(2),p(e.name),o(2),p(e.value)}}function Pe(r,t){r&1&&(i(0,"div",64),u(1,"i",65),n())}function Me(r,t){if(r&1&&(i(0,"div",8)(1,"div",62)(2,"span",60),a(3),n(),i(4,"span",61),a(5),n()(),g(6,Pe,2,0,"div",63),n()),r&2){let e=t.$implicit,l=t.index,d=c(4);o(3),p(e.phase),o(2),p(e.leads),o(),s("ngIf",l<d.chartData.conversionFunnel.length-1)}}function Ve(r,t){if(r&1&&(i(0,"div")(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",43),u(5,"i",44),n(),i(6,"div",45)(7,"p",46),a(8,"Total de Leads"),n(),i(9,"p",47),a(10),n()()()(),i(11,"div",41)(12,"div",42)(13,"div",43),u(14,"i",48),n(),i(15,"div",45)(16,"p",46),a(17,"Novos no Per\xEDodo"),n(),i(18,"p",47),a(19),n()()()(),i(20,"div",41)(21,"div",42)(22,"div",43),u(23,"i",49),n(),i(24,"div",45)(25,"p",46),a(26,"Convertidos"),n(),i(27,"p",47),a(28),n()()()(),i(29,"div",41)(30,"div",42)(31,"div",43),u(32,"i",50),n(),i(33,"div",45)(34,"p",46),a(35,"Tempo M\xE9dio"),n(),i(36,"p",47),a(37),n()()()(),i(38,"div",41)(39,"div",42)(40,"div",43),u(41,"i",51),n(),i(42,"div",45)(43,"p",46),a(44,"Ativos"),n(),i(45,"p",47),a(46),n()()()(),i(47,"div",41)(48,"div",42)(49,"div",43),u(50,"i",52),n(),i(51,"div",45)(52,"p",46),a(53,"Em Atraso"),n(),i(54,"p",47),a(55),n()()()()(),i(56,"div",53)(57,"div",41)(58,"h3",12),a(59,"Distribui\xE7\xE3o por Fase"),n(),i(60,"div",54),g(61,Re,7,4,"div",55),n()(),i(62,"div",41)(63,"h3",12),a(64,"Funil de Convers\xE3o"),n(),i(65,"div",56),g(66,Me,7,3,"div",57),n()()()()),r&2){let e=c(3);o(10),p(e.summaryStats.totalLeads),o(9),p(e.summaryStats.newLeadsThisPeriod),o(9),p(e.summaryStats.convertedLeads),o(9),p(e.formatDuration(e.summaryStats.avgConversionTime)),o(9),p(e.summaryStats.activeLeads),o(9),p(e.summaryStats.overdueLeads),o(6),s("ngForOf",e.chartData.phaseDistribution),o(5),s("ngForOf",e.chartData.conversionFunnel)}}function Ae(r,t){if(r&1&&(i(0,"tr")(1,"td",78)(2,"div",42),u(3,"div",79),i(4,"span",80),a(5),n()()(),i(6,"td",81),a(7),n(),i(8,"td",81),a(9),n(),i(10,"td",82)(11,"span",83),a(12),n()(),i(13,"td",82)(14,"span",84),a(15),n()(),i(16,"td",82)(17,"div",85)(18,"div",86),u(19,"div",87),n(),i(20,"span",80),a(21),n()()()()),r&2){let e=t.$implicit;o(3),h("background-color",e.phaseColor),o(2),p(e.phaseName),o(2),x(" ",e.slaDays," "),o(2),x(" ",e.totalLeads," "),o(3),x(" ",e.onTime," "),o(3),x(" ",e.overdue," "),o(4),h("width",e.compliance,"%"),S("bg-green-500",e.compliance>=80)("bg-yellow-500",e.compliance>=60&&e.compliance<80)("bg-red-500",e.compliance<60),o(2),x("",e.compliance,"%")}}function Ne(r,t){r&1&&(i(0,"div",88),u(1,"i",89),i(2,"p",90),a(3,"Nenhuma fase possui SLA configurado"),n()())}function Be(r,t){if(r&1&&(i(0,"div")(1,"div",66)(2,"div",67)(3,"h3",68),a(4,"Indicadores de SLA por Fase"),n(),i(5,"p",69),a(6,"An\xE1lise de cumprimento de prazos definidos para cada fase"),n()(),i(7,"div",70)(8,"table",71)(9,"thead",72)(10,"tr")(11,"th",73),a(12,"Fase"),n(),i(13,"th",74),a(14,"SLA (dias)"),n(),i(15,"th",74),a(16,"Total"),n(),i(17,"th",74),a(18,"No Prazo"),n(),i(19,"th",74),a(20,"Em Atraso"),n(),i(21,"th",74),a(22,"% Cumprimento"),n()()(),i(23,"tbody",75),g(24,Ae,22,16,"tr",76),n()()(),g(25,Ne,4,0,"div",77),n()()),r&2){let e=c(3);o(24),s("ngForOf",e.slaIndicators),o(),s("ngIf",e.slaIndicators.length===0)}}function $e(r,t){if(r&1&&(i(0,"div",41)(1,"div",93)(2,"h3",68),a(3),n(),u(4,"div",94),n(),i(5,"div",95)(6,"div",96)(7,"span",97),a(8,"Registros"),n(),i(9,"span",98),a(10),n()(),i(11,"div",96)(12,"span",97),a(13,"Tempo M\xE9dio"),n(),i(14,"span",98),a(15),n()(),i(16,"div",96)(17,"span",97),a(18,"Taxa de Convers\xE3o"),n(),i(19,"span",98),a(20),n()()()()),r&2){let e=t.$implicit,l=c(4);o(3),p(e.phaseName),o(),h("background-color",e.phaseColor),o(6),p(e.leadsCount),o(5),p(l.formatDuration(e.avgTimeInPhase)),o(5),x("",e.conversionRate,"%")}}function je(r,t){if(r&1&&(i(0,"div")(1,"div",91),g(2,$e,21,6,"div",92),n()()),r&2){let e=c(3);o(2),s("ngForOf",e.phaseMetrics)}}function Ge(r,t){if(r&1&&(i(0,"tr")(1,"td",78)(2,"div",80),a(3),n(),i(4,"div",100),a(5),n()(),i(6,"td",78)(7,"div",42),u(8,"div",101),i(9,"span",102),a(10),n()()(),i(11,"td",103),a(12),n(),i(13,"td",103),a(14),n(),i(15,"td",78)(16,"span",104),a(17),n()()()),r&2){let e=t.$implicit,l=t.index,d=c(4);S("bg-gray-50",l%2===1),o(3),x(" ",(e.fields==null?null:e.fields.contactName)||(e.fields==null?null:e.fields.companyName)||"Lead sem nome"," "),o(2),x(" ",(e.fields==null?null:e.fields.contactEmail)||"Email n\xE3o informado"," "),o(3),h("background-color",d.getColumnColor(e.columnId)),o(2),p(d.getColumnName(e.columnId)),o(2),x(" ",e.responsibleUserId?d.getResponsibleName(e.responsibleUserId):"N\xE3o atribu\xEDdo"," "),o(2),x(" ",d.formatDate(e.createdAt)," "),o(2),S("bg-green-100",d.isLeadConcluded(e))("text-green-800",d.isLeadConcluded(e))("bg-red-100",d.isLeadOverdue(e)&&!d.isLeadConcluded(e))("text-red-800",d.isLeadOverdue(e)&&!d.isLeadConcluded(e))("bg-blue-100",!d.isLeadConcluded(e)&&!d.isLeadOverdue(e))("text-blue-800",!d.isLeadConcluded(e)&&!d.isLeadOverdue(e)),o(),x(" ",d.isLeadConcluded(e)?"Conclu\xEDdo":d.isLeadOverdue(e)?"Em Atraso":"Ativo"," ")}}function Ue(r,t){r&1&&(i(0,"div",88),u(1,"i",105),i(2,"p",90),a(3,"Nenhum registro encontrado com os filtros aplicados"),n()())}function qe(r,t){if(r&1&&(i(0,"div")(1,"div",66)(2,"div",67)(3,"h3",68),a(4,"Lista Detalhada de Registros"),n(),i(5,"p",69),a(6),n()(),i(7,"div",70)(8,"table",71)(9,"thead",72)(10,"tr")(11,"th",73),a(12,"Lead"),n(),i(13,"th",73),a(14,"Fase Atual"),n(),i(15,"th",73),a(16,"Respons\xE1vel"),n(),i(17,"th",73),a(18,"Criado em"),n(),i(19,"th",73),a(20,"Status"),n()()(),i(21,"tbody",75),g(22,Ge,18,22,"tr",99),n()()(),g(23,Ue,4,0,"div",77),n()()),r&2){let e=c(3);o(6),x("",e.filteredLeads.length," registros encontrados"),o(16),s("ngForOf",e.filteredLeads),o(),s("ngIf",e.filteredLeads.length===0)}}function He(r,t){if(r&1&&(i(0,"div",108)(1,"span",109),a(2),n(),i(3,"span",110),a(4),n()()),r&2){let e=t.$implicit,l=c(4);h("height",l.getChartBarHeight(e.leads),"%"),o(2),p(e.leads),o(2),p(e.period)}}function ze(r,t){if(r&1&&(i(0,"div",58)(1,"div",111),u(2,"div",79),i(3,"span",112),a(4),n()(),i(5,"div",113)(6,"div",114)(7,"div",61),a(8),n(),i(9,"div",115),a(10,"leads"),n()(),i(11,"div",114)(12,"div",61),a(13),n(),i(14,"div",115),a(15,"convers\xE3o"),n()()()()),r&2){let e=t.$implicit;o(2),h("background-color",e.phaseColor),o(2),p(e.phaseName),o(4),p(e.leadsCount),o(5),x("",e.conversionRate,"%")}}function Ye(r,t){if(r&1&&(i(0,"div")(1,"div",53)(2,"div",41)(3,"h3",12),a(4,"Leads ao Longo do Tempo"),n(),i(5,"div",106),g(6,He,5,4,"div",107),n()(),i(7,"div",41)(8,"h3",12),a(9,"Performance por Fase"),n(),i(10,"div",95),g(11,ze,16,5,"div",55),n()()()()),r&2){let e=c(3);o(6),s("ngForOf",e.chartData.leadsOverTime),o(5),s("ngForOf",e.phaseMetrics)}}function Ke(r,t){if(r&1&&(i(0,"div"),g(1,Ve,67,8,"div",0)(2,Be,26,2,"div",0)(3,je,3,1,"div",0)(4,qe,24,3,"div",0)(5,Ye,12,2,"div",0),n()),r&2){let e=c(2);o(),s("ngIf",e.currentView==="overview"),o(),s("ngIf",e.currentView==="sla"),o(),s("ngIf",e.currentView==="phases"),o(),s("ngIf",e.currentView==="leads"),o(),s("ngIf",e.currentView==="charts")}}function We(r,t){if(r&1){let e=w();i(0,"app-main-layout")(1,"app-company-breadcrumb",3)(2,"div",4)(3,"select",5),f("change",function(d){v(e);let m=c();return _(m.selectBoard(d.target.value))}),i(4,"option",6),a(5,"Selecione um quadro..."),n(),g(6,Le,2,2,"option",7),n(),i(7,"div",8)(8,"select",9),f("change",function(d){v(e);let m=c();return _(m.exportReport(d.target.value))}),i(9,"option",6),a(10,"Exportar..."),n(),g(11,Te,2,2,"option",7),n()()()(),i(12,"div",10)(13,"div",11)(14,"h2",12),u(15,"i",13),a(16," Filtros do Relat\xF3rio "),n(),i(17,"div",14)(18,"label",15),a(19,"Filtros R\xE1pidos"),n(),i(20,"div",16)(21,"button",17),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("all"))}),a(22," Todos os Dados "),n(),i(23,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("week"))}),a(24," \xDAltima Semana "),n(),i(25,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("month"))}),a(26," \xDAltimo M\xEAs "),n(),i(27,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("3months"))}),a(28," \xDAltimos 3 Meses "),n(),i(29,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("6months"))}),a(30," \xDAltimos 6 Meses "),n()()(),i(31,"form",19)(32,"div")(33,"label",20),a(34,"Data Inicial"),n(),u(35,"input",21),n(),i(36,"div")(37,"label",20),a(38,"Data Final"),n(),u(39,"input",22),n(),i(40,"div")(41,"label",20),a(42,"Fases"),n(),i(43,"select",23),g(44,Fe,2,2,"option",7),n()(),i(45,"div")(46,"label",20),a(47,"Status"),n(),i(48,"select",24)(49,"option",25),a(50,"Todos"),n(),i(51,"option",26),a(52,"Ativos"),n(),i(53,"option",27),a(54,"Conclu\xEDdos"),n(),i(55,"option",28),a(56,"Em Atraso"),n()()()()(),i(57,"div",29)(58,"div",30)(59,"nav",31),g(60,Oe,3,11,"button",32),n()()(),g(61,ke,5,1,"div",33)(62,Ke,6,5,"div",0),n()()}if(r&2){let e=c();o(),s("title","Relat\xF3rios - "+((e.board==null?null:e.board.name)||"Board")),o(2),s("value",e.boardId),o(3),s("ngForOf",e.availableBoards),o(5),s("ngForOf",e.exportFormats),o(20),s("formGroup",e.filtersForm),o(13),s("ngForOf",e.columns),o(16),s("ngForOf",H(14,De,L(9,Ce),L(10,Se),L(11,Ee),L(12,we),L(13,Ie))),o(),s("ngIf",e.isLoading||e.isGeneratingReport),o(),s("ngIf",!e.isLoading&&!e.isGeneratingReport)}}function Je(r,t){if(r&1&&(i(0,"option",34),a(1),n()),r&2){let e=t.$implicit;s("value",e.id),o(),x(" ",e.name," ")}}function Qe(r,t){if(r&1&&(i(0,"option",34),a(1),n()),r&2){let e=t.$implicit;s("value",e),o(),p(e)}}function Xe(r,t){if(r&1&&(i(0,"option",34),a(1),n()),r&2){let e=t.$implicit;s("value",e.id),o(),p(e.name)}}function Ze(r,t){if(r&1){let e=w();i(0,"button",127),f("click",function(){let d=v(e).$implicit,m=c(2);return _(m.setView(d.key))}),u(1,"i"),a(2),n()}if(r&2){let e=t.$implicit,l=c(2);S("border-blue-500",l.currentView===e.key)("text-blue-600",l.currentView===e.key)("border-transparent",l.currentView!==e.key)("text-gray-500",l.currentView!==e.key)("hover:text-gray-700",l.currentView!==e.key),o(),A(q("fas ",e.icon," mr-2")),o(),x(" ",e.name," ")}}function et(r,t){if(r&1&&(i(0,"div")(1,"div",128)(2,"div",129)(3,"div",58)(4,"div")(5,"p",130),a(6,"Total de Leads"),n(),i(7,"p",131),a(8),n()(),i(9,"div",132),u(10,"i",133),n()()(),i(11,"div",134)(12,"div",58)(13,"div")(14,"p",135),a(15,"Leads Convertidos"),n(),i(16,"p",131),a(17),n()(),i(18,"div",136),u(19,"i",137),n()()(),i(20,"div",138)(21,"div",58)(22,"div")(23,"p",139),a(24,"Leads Atrasados"),n(),i(25,"p",131),a(26),n()(),i(27,"div",140),u(28,"i",141),n()()()()()),r&2){let e=c(2);o(8),p(e.summaryStats.totalLeads),o(9),p(e.summaryStats.convertedLeads),o(9),p(e.summaryStats.overdueLeads)}}function tt(r,t){if(r&1&&(i(0,"tr")(1,"td",78)(2,"div",42),u(3,"div",79),i(4,"span",80),a(5),n()()(),i(6,"td",81),a(7),n(),i(8,"td",82)(9,"span",143),a(10),n()(),i(11,"td",144),a(12),n(),i(13,"td",145),a(14),n()()),r&2){let e=t.$implicit;o(3),h("background-color",e.phaseColor),o(2),p(e.phaseName),o(2),x(" ",e.slaDays," "),o(2),S("bg-green-100",e.compliance>=80)("text-green-800",e.compliance>=80)("bg-yellow-100",e.compliance>=60&&e.compliance<80)("text-yellow-800",e.compliance>=60&&e.compliance<80)("bg-red-100",e.compliance<60)("text-red-800",e.compliance<60),o(),x(" ",e.compliance,"% "),o(2),x(" ",e.onTime," "),o(2),x(" ",e.overdue," ")}}function nt(r,t){if(r&1&&(i(0,"div")(1,"div",142)(2,"h3",12),a(3,"Indicadores de SLA por Fase"),n(),i(4,"div",70)(5,"table",71)(6,"thead",72)(7,"tr")(8,"th",73),a(9,"Fase"),n(),i(10,"th",74),a(11,"SLA (dias)"),n(),i(12,"th",74),a(13,"% Cumprimento"),n(),i(14,"th",74),a(15,"No Prazo"),n(),i(16,"th",74),a(17,"Atrasados"),n()()(),i(18,"tbody",75),g(19,tt,15,19,"tr",76),n()()()()()),r&2){let e=c(2);o(19),s("ngForOf",e.slaIndicators)}}function it(r,t){if(r&1&&(i(0,"div",148)(1,"div",93)(2,"div",42),u(3,"div",59),i(4,"h3",68),a(5),n()(),i(6,"span",47),a(7),n()(),i(8,"div",149)(9,"div",150)(10,"p",97),a(11,"Tempo M\xE9dio na Fase"),n(),i(12,"p",151),a(13),n()(),i(14,"div",150)(15,"p",97),a(16,"Taxa de Convers\xE3o"),n(),i(17,"p",151),a(18),n()()()()),r&2){let e=t.$implicit,l=c(3);o(3),h("background-color",e.phaseColor),o(2),p(e.phaseName),o(2),x("",e.leadsCount," leads"),o(6),p(l.formatDuration(e.avgTimeInPhase)),o(5),x("",e.conversionRate,"%")}}function at(r,t){if(r&1&&(i(0,"div")(1,"div",146),g(2,it,19,6,"div",147),n()()),r&2){let e=c(2);o(2),s("ngForOf",e.phaseMetrics)}}function rt(r,t){if(r&1&&(i(0,"div",100),a(1),n()),r&2){let e=c().$implicit;o(),p(e.fields==null?null:e.fields.contactEmail)}}function ot(r,t){r&1&&(i(0,"span"),a(1,"Conclu\xEDdo"),n())}function lt(r,t){r&1&&(i(0,"span"),a(1,"Atrasado"),n())}function dt(r,t){r&1&&(i(0,"span"),a(1,"Ativo"),n())}function st(r,t){if(r&1&&(i(0,"tr")(1,"td",78)(2,"div",80),a(3),n(),g(4,rt,2,1,"div",152),n(),i(5,"td",78)(6,"div",42),u(7,"div",101),i(8,"span",102),a(9),n()()(),i(10,"td",103),a(11),n(),i(12,"td",78)(13,"span",143),g(14,ot,2,0,"span",0)(15,lt,2,0,"span",0)(16,dt,2,0,"span",0),n()()()),r&2){let e=t.$implicit,l=c(3);o(3),p((e.fields==null?null:e.fields.contactName)||(e.fields==null?null:e.fields.contactEmail)||"Lead sem nome"),o(),s("ngIf",e.fields==null?null:e.fields.contactEmail),o(3),h("background-color",l.getColumnColor(e.columnId)),o(2),p(l.getColumnName(e.columnId)),o(2),x(" ",l.formatDate(e.createdAt)," "),o(2),S("bg-green-100",l.isLeadConcluded(e))("text-green-800",l.isLeadConcluded(e))("bg-red-100",l.isLeadOverdue(e)&&!l.isLeadConcluded(e))("text-red-800",l.isLeadOverdue(e)&&!l.isLeadConcluded(e))("bg-blue-100",!l.isLeadConcluded(e)&&!l.isLeadOverdue(e))("text-blue-800",!l.isLeadConcluded(e)&&!l.isLeadOverdue(e)),o(),s("ngIf",l.isLeadConcluded(e)),o(),s("ngIf",!l.isLeadConcluded(e)&&l.isLeadOverdue(e)),o(),s("ngIf",!l.isLeadConcluded(e)&&!l.isLeadOverdue(e))}}function ct(r,t){if(r&1&&(i(0,"div")(1,"div",142)(2,"h3",12),a(3),n(),i(4,"div",70)(5,"table",71)(6,"thead",72)(7,"tr")(8,"th",73),a(9,"Lead"),n(),i(10,"th",73),a(11,"Fase Atual"),n(),i(12,"th",73),a(13,"Criado em"),n(),i(14,"th",73),a(15,"Status"),n()()(),i(16,"tbody",75),g(17,st,17,21,"tr",76),z(18,"slice"),n()()()()()),r&2){let e=c(2);o(3),x("Lista de Leads (",e.filteredLeads.length,")"),o(14),s("ngForOf",Y(18,2,e.filteredLeads,0,50))}}function mt(r,t){if(r&1&&(i(0,"div",37)(1,"div",157),a(2),n(),i(3,"p",158),a(4),n()()),r&2){let e=t.$implicit;o(),h("background-color",e.color),o(),x(" ",e.value," "),o(2),p(e.name)}}function pt(r,t){if(r&1&&(i(0,"div",108)(1,"span",109),a(2),n(),i(3,"span",110),a(4),n()()),r&2){let e=t.$implicit,l=c(3);h("height",l.getChartBarHeight(e.leads),"%"),o(2),p(e.leads),o(2),p(e.period)}}function ut(r,t){if(r&1&&(i(0,"div")(1,"div",153)(2,"div",154)(3,"h3",12),a(4,"Distribui\xE7\xE3o por Fase"),n(),i(5,"div",155),g(6,mt,5,4,"div",156),n()(),i(7,"div",154)(8,"h3",12),a(9,"Leads ao Longo do Tempo"),n(),i(10,"div",106),g(11,pt,5,4,"div",107),n()()()()),r&2){let e=c(2);o(6),s("ngForOf",e.chartData.phaseDistribution),o(5),s("ngForOf",e.chartData.leadsOverTime)}}function gt(r,t){if(r&1){let e=w();i(0,"div",116)(1,"div",117)(2,"div",118)(3,"h2",47),u(4,"i",119),a(5),n(),i(6,"div",4)(7,"select",5),f("change",function(d){v(e);let m=c();return _(m.selectBoard(d.target.value))}),g(8,Je,2,2,"option",7),n(),i(9,"select",9),f("change",function(d){v(e);let m=c();return _(m.exportReport(d.target.value))}),i(10,"option",6),a(11,"Exportar..."),n(),g(12,Qe,2,2,"option",7),n()()(),i(13,"div",11)(14,"h2",12),u(15,"i",13),a(16," Filtros "),n(),i(17,"div",14)(18,"label",15),a(19,"Filtros R\xE1pidos"),n(),i(20,"div",16)(21,"button",17),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("all"))}),a(22," Todos os Dados "),n(),i(23,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("week"))}),a(24," \xDAltima Semana "),n(),i(25,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("month"))}),a(26," \xDAltimo M\xEAs "),n(),i(27,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("3months"))}),a(28," \xDAltimos 3 Meses "),n(),i(29,"button",18),f("click",function(){v(e);let d=c();return _(d.setDateRangeFilter("6months"))}),a(30," \xDAltimos 6 Meses "),n()()(),i(31,"form",19)(32,"div")(33,"label",15),a(34,"Data In\xEDcio"),n(),u(35,"input",120),n(),i(36,"div")(37,"label",15),a(38,"Data Fim"),n(),u(39,"input",121),n(),i(40,"div")(41,"label",15),a(42,"Fases"),n(),i(43,"select",122),g(44,Xe,2,2,"option",7),n()(),i(45,"div")(46,"label",15),a(47,"Status"),n(),i(48,"select",123)(49,"option",25),a(50,"Todos"),n(),i(51,"option",26),a(52,"Ativos"),n(),i(53,"option",27),a(54,"Conclu\xEDdos"),n(),i(55,"option",28),a(56,"Atrasados"),n()()()()(),i(57,"div",29)(58,"div",30)(59,"nav",124),g(60,Ze,3,14,"button",125),n()(),i(61,"div",126),g(62,et,29,3,"div",0)(63,nt,20,1,"div",0)(64,at,3,1,"div",0)(65,ct,19,6,"div",0)(66,ut,12,2,"div",0),n()()()()}if(r&2){let e=c();o(5),x(" Relat\xF3rios - ",e.board==null?null:e.board.name," "),o(2),s("value",e.boardId),o(),s("ngForOf",e.availableBoards),o(4),s("ngForOf",e.exportFormats),o(19),s("formGroup",e.filtersForm),o(13),s("ngForOf",e.columns),o(16),s("ngForOf",e.viewTabs),o(2),s("ngIf",e.currentView==="overview"),o(),s("ngIf",e.currentView==="sla"),o(),s("ngIf",e.currentView==="phases"),o(),s("ngIf",e.currentView==="leads"),o(),s("ngIf",e.currentView==="charts")}}function xt(r,t){if(r&1&&(i(0,"p",97),a(1),n()),r&2){let e=c().$implicit;o(),p(e.description)}}function vt(r,t){if(r&1){let e=w();i(0,"div",168),f("click",function(){let d=v(e).$implicit,m=c(2);return _(m.selectBoard(d.id))}),i(1,"div",58)(2,"div")(3,"h3",169),a(4),n(),g(5,xt,2,1,"p",170),n(),u(6,"i",171),n()()}if(r&2){let e=t.$implicit;o(4),p(e.name),o(),s("ngIf",e.description)}}function _t(r,t){if(r&1){let e=w();i(0,"div",172)(1,"p",90),a(2,"Nenhum quadro encontrado"),n(),i(3,"button",173),f("click",function(){v(e);let d=c(2);return _(d.goBack())}),a(4," Voltar ao Dashboard "),n()()}}function ft(r,t){if(r&1&&(i(0,"div",159)(1,"div",160)(2,"div",161)(3,"div",162)(4,"div",163),u(5,"i",164),n(),i(6,"h2",165),a(7,"Relat\xF3rios"),n(),i(8,"p",39),a(9,"Selecione um quadro para visualizar seus relat\xF3rios"),n()(),i(10,"div",54),g(11,vt,7,2,"div",166)(12,_t,5,0,"div",167),n()()()()),r&2){let e=c();o(11),s("ngForOf",e.availableBoards),o(),s("ngIf",e.availableBoards.length===0)}}var xe=class r{authService=C(pe);firestoreService=C(ue);router=C(O);route=C(Q);fb=C(de);boardId="";ownerId="";currentUser=null;board=null;availableBoards=[];leads=[];columns=[];users=[];filtersForm=this.fb.group({startDate:[""],endDate:[""],phases:[[]],responsible:[[]],status:["all"]});isLoading=!1;isGeneratingReport=!1;filteredLeads=[];slaIndicators=[];phaseMetrics=[];summaryStats={totalLeads:0,newLeadsThisPeriod:0,convertedLeads:0,avgConversionTime:0,activeLeads:0,overdueLeads:0};chartData={phaseDistribution:[],leadsOverTime:[],conversionFunnel:[]};currentView="overview";exportFormats=["PDF","Excel","CSV"];viewTabs=[{key:"overview",name:"Vis\xE3o Geral",icon:"fa-chart-pie"},{key:"sla",name:"SLA",icon:"fa-clock"},{key:"phases",name:"Fases",icon:"fa-columns"},{key:"leads",name:"Leads",icon:"fa-users"},{key:"charts",name:"Gr\xE1ficos",icon:"fa-chart-bar"}];ngOnInit(){return I(this,null,function*(){this.currentUser=this.authService.getCurrentUser(),this.ownerId||(this.ownerId=this.currentUser?.uid||""),this.boardId||this.route.queryParams.subscribe(t=>{t.boardId&&(this.boardId=t.boardId)}),yield this.loadAvailableBoards(),this.boardId&&this.ownerId&&(yield this.loadData(),this.setupFormSubscriptions(),this.generateReport())})}ngOnDestroy(){}getDefaultStartDate(){let t=new Date;return t.setMonth(t.getMonth()-6),t.toISOString().split("T")[0]}getDefaultEndDate(){return new Date().toISOString().split("T")[0]}setupFormSubscriptions(){this.filtersForm.valueChanges.subscribe(()=>{this.generateReport()})}loadAvailableBoards(){return I(this,null,function*(){if(this.ownerId)try{this.availableBoards=yield this.firestoreService.getBoards(this.ownerId)}catch(t){console.error("Erro ao carregar boards dispon\xEDveis:",t)}})}selectBoard(t){return I(this,null,function*(){this.boardId=t,yield this.loadData(),this.setupFormSubscriptions(),this.generateReport()})}setDateRangeFilter(t){let e=new Date,l=new Date;switch(t){case"week":l.setDate(l.getDate()-7);break;case"month":l.setMonth(l.getMonth()-1);break;case"3months":l.setMonth(l.getMonth()-3);break;case"6months":l.setMonth(l.getMonth()-6);break;case"all":this.filtersForm.patchValue({startDate:"",endDate:""});return}this.filtersForm.patchValue({startDate:l.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]})}loadData(){return I(this,null,function*(){this.isLoading=!0;try{let t=yield this.firestoreService.getBoards(this.ownerId);this.board=t.find(d=>d.id===this.boardId)||null;let[e,l]=yield Promise.all([this.firestoreService.getLeads(this.ownerId,this.boardId),this.firestoreService.getColumns(this.ownerId,this.boardId)]);this.leads=e,this.columns=l,this.users=[],console.log("Dados carregados:",{boardId:this.boardId,leadsCount:e.length,columnsCount:l.length,leads:e.slice(0,3)})}catch(t){console.error("Erro ao carregar dados do relat\xF3rio:",t)}finally{this.isLoading=!1}})}generateReport(){if(!this.isGeneratingReport){this.isGeneratingReport=!0;try{let t=this.filtersForm.value;this.applyFilters(t),this.calculateSummaryStats(),this.calculateSLAIndicators(),this.calculatePhaseMetrics(),this.generateChartData()}finally{this.isGeneratingReport=!1}}}applyFilters(t){console.log("Aplicando filtros:",t),console.log("Total de leads antes do filtro:",this.leads.length),this.filteredLeads=this.leads.filter(e=>{if(t.startDate&&t.endDate){let l=this.getLeadDate(e),d=new Date(t.startDate),m=new Date(t.endDate);if(m.setHours(23,59,59,999),console.log("Verificando data do lead:",{leadDate:l,startDate:d,endDate:m,isInRange:l>=d&&l<=m}),l<d||l>m)return!1}if(t.phases&&t.phases.length>0&&!t.phases.includes(e.columnId)||t.responsible&&t.responsible.length>0&&e.responsibleUserId&&!t.responsible.includes(e.responsibleUserId))return!1;if(t.status&&t.status!=="all"){let l=this.isLeadOverdue(e),d=this.isLeadConcluded(e);switch(t.status){case"active":return!d;case"concluded":return d;case"overdue":return l&&!d}}return!0}),console.log("Leads ap\xF3s filtro:",this.filteredLeads.length),console.log("Primeiros leads filtrados:",this.filteredLeads.slice(0,3))}getLeadDate(t){return t.createdAt?.toDate?t.createdAt.toDate():t.createdAt?.seconds?new Date(t.createdAt.seconds*1e3):t.createdAt?new Date(t.createdAt):new Date}isLeadOverdue(t){let e=this.columns.find(m=>m.id===t.columnId);if(!e?.slaDays)return!1;let l=t.movedToCurrentColumnAt?.toDate?t.movedToCurrentColumnAt.toDate():t.movedToCurrentColumnAt?.seconds?new Date(t.movedToCurrentColumnAt.seconds*1e3):new Date(t.movedToCurrentColumnAt||t.createdAt);return(Date.now()-l.getTime())/(1e3*60*60*24)>e.slaDays}isLeadConcluded(t){let e=this.columns.find(l=>l.id===t.columnId);return!!(e?.endStageType&&e.endStageType!=="none")}calculateSummaryStats(){let t=this.filtersForm.value,e=new Date(t.startDate),l=new Date(t.endDate);this.summaryStats={totalLeads:this.filteredLeads.length,newLeadsThisPeriod:this.filteredLeads.filter(d=>{let m=this.getLeadDate(d);return m>=e&&m<=l}).length,convertedLeads:this.filteredLeads.filter(d=>this.isLeadConcluded(d)).length,avgConversionTime:this.calculateAverageConversionTime(),activeLeads:this.filteredLeads.filter(d=>!this.isLeadConcluded(d)).length,overdueLeads:this.filteredLeads.filter(d=>this.isLeadOverdue(d)&&!this.isLeadConcluded(d)).length}}calculateAverageConversionTime(){let t=this.filteredLeads.filter(l=>this.isLeadConcluded(l));if(t.length===0)return 0;let e=t.reduce((l,d)=>{let m=this.getLeadDate(d),b=d.movedToCurrentColumnAt?.toDate?d.movedToCurrentColumnAt.toDate():new Date;return l+(b.getTime()-m.getTime())},0);return Math.round(e/t.length/(1e3*60*60*24))}calculateSLAIndicators(){this.slaIndicators=this.columns.filter(t=>t.slaDays&&t.slaDays>0).map(t=>{let e=this.filteredLeads.filter(m=>m.columnId===t.id),l=e.filter(m=>this.isLeadOverdue(m)),d=e.length-l.length;return{phaseId:t.id,phaseName:t.name,phaseColor:t.color,slaDays:t.slaDays,totalLeads:e.length,onTime:d,overdue:l.length,compliance:e.length>0?Math.round(d/e.length*100):100}})}calculatePhaseMetrics(){this.phaseMetrics=this.columns.map(t=>{let e=this.filteredLeads.filter(m=>m.columnId===t.id),l=this.calculateAverageTimeInPhase(e),d=this.calculatePhaseConversionRate(t);return{phaseId:t.id,phaseName:t.name,phaseColor:t.color,leadsCount:e.length,avgTimeInPhase:l,conversionRate:d}})}calculateAverageTimeInPhase(t){if(t.length===0)return 0;let e=t.reduce((l,d)=>{let m=d.phaseHistory||{},b=Object.values(m).find(y=>y.phaseId===d.columnId);if(b?.duration)return l+b.duration;if(b?.enteredAt){let y=b.enteredAt.toDate?b.enteredAt.toDate():new Date(b.enteredAt);return l+(Date.now()-y.getTime())}return l},0);return Math.round(e/t.length/(1e3*60*60*24))}calculatePhaseConversionRate(t){let e=this.columns.findIndex(y=>y.id===t.id);if(e===this.columns.length-1)return 0;let l=this.filteredLeads.filter(y=>y.columnId===t.id).length,d=this.columns.slice(e+1),m=this.filteredLeads.filter(y=>d.some(R=>R.id===y.columnId)).length,b=l+m;return b>0?Math.round(m/b*100):0}generateChartData(){this.chartData.phaseDistribution=this.phaseMetrics.map(t=>({name:t.phaseName,value:t.leadsCount,color:t.phaseColor})),this.chartData.leadsOverTime=this.generateLeadsOverTimeData(),this.chartData.conversionFunnel=this.phaseMetrics.map((t,e)=>({phase:t.phaseName,leads:t.leadsCount,order:e}))}generateLeadsOverTimeData(){let t=this.filtersForm.value,e=new Date(t.startDate),l=new Date(t.endDate),d=[],m=new Date(e);for(;m<=l;){let b=new Date(m);b.setDate(b.getDate()+6);let y=this.filteredLeads.filter(R=>{let N=this.getLeadDate(R);return N>=m&&N<=b}).length;d.push({period:`${m.getDate()}/${m.getMonth()+1}`,leads:y}),m.setDate(m.getDate()+7)}return d}setView(t){this.currentView=t}isStandaloneView(){return!!this.route.snapshot.queryParams.boardId}exportReport(t){return I(this,null,function*(){try{console.log(`Exportando relat\xF3rio em formato ${t}`),alert(`Exporta\xE7\xE3o em ${t} ser\xE1 implementada em breve!`)}catch(e){console.error("Erro ao exportar relat\xF3rio:",e),alert("Erro ao exportar relat\xF3rio. Tente novamente.")}})}formatDate(t){return t?(t.toDate?t.toDate():new Date(t)).toLocaleDateString("pt-BR"):"-"}formatDuration(t){return t===0?"-":t===1?"1 dia":`${t} dias`}getResponsibleName(t){let e=this.users.find(l=>l.uid===t);return e?.displayName||e?.email||"N\xE3o atribu\xEDdo"}getColumnName(t){return this.columns.find(l=>l.id===t)?.name||"Fase desconhecida"}getColumnColor(t){return this.columns.find(l=>l.id===t)?.color||"#6B7280"}goBack(){this.route.snapshot.queryParams.boardId?this.router.navigate(["/kanban",this.boardId],{queryParams:{ownerId:this.ownerId}}):this.router.navigate(["/dashboard"])}getChartBarHeight(t){if(this.chartData.leadsOverTime.length===0)return 0;let e=Math.max(...this.chartData.leadsOverTime.map(l=>l.leads));return e>0?t/e*100:0}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=T({type:r,selectors:[["app-reports"]],inputs:{boardId:"boardId",ownerId:"ownerId"},decls:3,vars:3,consts:[[4,"ngIf"],["class","p-4 md:p-8",4,"ngIf"],["class","min-h-screen bg-gray-50 flex items-center justify-center",4,"ngIf"],[3,"title"],[1,"flex","space-x-2"],[1,"bg-white","border","border-gray-300","text-gray-700","py-2","px-4","pr-8","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"relative"],[1,"bg-white","border","border-gray-300","text-gray-700","py-2","px-4","pr-8","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"fas","fa-filter","mr-2","text-blue-500"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","flex-wrap","gap-2"],["type","button",1,"px-3","py-1","text-xs","bg-gray-100","hover:bg-gray-200","text-gray-700","rounded-md","transition-colors",3,"click"],["type","button",1,"px-3","py-1","text-xs","bg-blue-100","hover:bg-blue-200","text-blue-700","rounded-md","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","date","formControlName","startDate",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["type","date","formControlName","endDate",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["formControlName","phases","multiple","",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["formControlName","status",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","all"],["value","active"],["value","concluded"],["value","overdue"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","mb-6"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","px-6"],["class","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm hover:text-gray-700 hover:border-gray-300 transition-colors",3,"border-blue-500","text-blue-600","border-transparent","text-gray-500","click",4,"ngFor","ngForOf"],["class","flex items-center justify-center py-12",4,"ngIf"],[3,"value"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","hover:text-gray-700","hover:border-gray-300","transition-colors",3,"click"],[1,"flex","items-center","justify-center","py-12"],[1,"text-center"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-6","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-sm","border","border-gray-200"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"fas","fa-users","text-2xl","text-blue-500"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"fas","fa-plus-circle","text-2xl","text-green-500"],[1,"fas","fa-check-circle","text-2xl","text-purple-500"],[1,"fas","fa-clock","text-2xl","text-orange-500"],[1,"fas","fa-play-circle","text-2xl","text-blue-500"],[1,"fas","fa-exclamation-triangle","text-2xl","text-red-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"space-y-3"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"space-y-2"],["class","relative",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between"],[1,"w-4","h-4","rounded-full","mr-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","items-center","justify-between","p-3","rounded-lg","bg-gray-50"],["class","flex justify-center py-1",4,"ngIf"],[1,"flex","justify-center","py-1"],[1,"fas","fa-chevron-down","text-gray-400"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["class","px-6 py-8 text-center",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"w-3","h-3","rounded-full","mr-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-center"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"flex","items-center","justify-center"],[1,"w-16","bg-gray-200","rounded-full","h-2","mr-2"],[1,"h-2","rounded-full","transition-all","duration-300"],[1,"px-6","py-8","text-center"],[1,"fas","fa-clock","text-4xl","text-gray-300","mb-4"],[1,"text-gray-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-6"],["class","bg-white p-6 rounded-lg shadow-sm border border-gray-200",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-4","h-4","rounded-full"],[1,"space-y-4"],[1,"flex","justify-between","items-center"],[1,"text-sm","text-gray-600"],[1,"text-lg","font-bold","text-gray-900"],[3,"bg-gray-50",4,"ngFor","ngForOf"],[1,"text-sm","text-gray-500"],[1,"w-3","h-3","rounded-full","mr-2"],[1,"text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium"],[1,"fas","fa-search","text-4xl","text-gray-300","mb-4"],[1,"h-64","flex","items-end","space-x-2"],["class","flex-1 bg-blue-500 rounded-t flex flex-col justify-end items-center relative",3,"height",4,"ngFor","ngForOf"],[1,"flex-1","bg-blue-500","rounded-t","flex","flex-col","justify-end","items-center","relative"],[1,"text-white","text-xs","font-medium","mb-2"],[1,"absolute","-bottom-6","text-xs","text-gray-600","transform","rotate-45","origin-bottom-left"],[1,"flex","items-center","flex-1"],[1,"text-sm","font-medium","text-gray-700","flex-1"],[1,"flex","items-center","space-x-4"],[1,"text-right"],[1,"text-xs","text-gray-500"],[1,"p-4","md:p-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-6"],[1,"fas","fa-chart-bar","mr-2","text-blue-500"],["type","date","formControlName","startDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","date","formControlName","endDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","phases","multiple","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","status",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"flex","space-x-8","px-6"],["class","py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",3,"border-blue-500","text-blue-600","border-transparent","text-gray-500","hover:text-gray-700","click",4,"ngFor","ngForOf"],[1,"p-6"],[1,"py-4","px-1","border-b-2","font-medium","text-sm","transition-colors","duration-200",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","rounded-lg","shadow","p-6","text-white"],[1,"text-blue-100"],[1,"text-3xl","font-bold"],[1,"bg-blue-400","bg-opacity-30","p-3","rounded-full"],[1,"fas","fa-users","text-2xl"],[1,"bg-gradient-to-r","from-green-500","to-green-600","rounded-lg","shadow","p-6","text-white"],[1,"text-green-100"],[1,"bg-green-400","bg-opacity-30","p-3","rounded-full"],[1,"fas","fa-check-circle","text-2xl"],[1,"bg-gradient-to-r","from-yellow-500","to-yellow-600","rounded-lg","shadow","p-6","text-white"],[1,"text-yellow-100"],[1,"bg-yellow-400","bg-opacity-30","p-3","rounded-full"],[1,"fas","fa-clock","text-2xl"],[1,"bg-white"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-green-600","font-medium"],[1,"px-6","py-4","whitespace-nowrap","text-center","text-sm","text-red-600","font-medium"],[1,"space-y-6"],["class","bg-white rounded-lg border border-gray-200 p-6",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","border","border-gray-200","p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-xl","font-semibold","text-gray-900"],["class","text-sm text-gray-500",4,"ngIf"],[1,"space-y-8"],[1,"bg-white","rounded-lg","p-6"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","text-center",4,"ngFor","ngForOf"],[1,"w-16","h-16","mx-auto","rounded-full","flex","items-center","justify-center","text-white","font-bold","text-lg"],[1,"mt-2","text-sm","text-gray-600"],[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center"],[1,"max-w-md","w-full","mx-auto"],[1,"bg-white","rounded-lg","shadow-lg","p-8"],[1,"text-center","mb-6"],[1,"w-16","h-16","mx-auto","bg-blue-100","rounded-full","flex","items-center","justify-center","mb-4"],[1,"fas","fa-chart-bar","text-2xl","text-blue-500"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],["class","text-center py-8",4,"ngIf"],[1,"p-4","border","border-gray-200","rounded-lg","hover:border-blue-300","hover:bg-blue-50","cursor-pointer","transition-colors",3,"click"],[1,"font-medium","text-gray-900"],["class","text-sm text-gray-600",4,"ngIf"],[1,"fas","fa-chevron-right","text-gray-400"],[1,"text-center","py-8"],[1,"mt-4","bg-blue-500","hover:bg-blue-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","transition-colors",3,"click"]],template:function(e,l){e&1&&g(0,We,63,20,"app-main-layout",0)(1,gt,67,12,"div",1)(2,ft,13,2,"div",2),e&2&&(s("ngIf",l.boardId&&l.isStandaloneView()),o(),s("ngIf",l.boardId&&!l.isStandaloneView()),o(),s("ngIf",!l.boardId))},dependencies:[F,K,W,se,te,re,le,X,ae,oe,Z,ee,ce,ne,ie,ge,k,J],styles:['.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.chart-container[_ngcontent-%COMP%]{position:relative;height:300px}.chart-container[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{transition:all .3s ease}.chart-container[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{opacity:.8}.sla-indicator[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{transition:width .5s ease-in-out}.sla-indicator.high-compliance[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{background:linear-gradient(to right,#10b981,#059669)}.sla-indicator.medium-compliance[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{background:linear-gradient(to right,#f59e0b,#d97706)}.sla-indicator.low-compliance[_ngcontent-%COMP%]   .compliance-bar[_ngcontent-%COMP%]{background:linear-gradient(to right,#ef4444,#dc2626)}.metric-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#3b82f60d}.status-badge.status-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.status-badge.status-concluded[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.status-badge.status-overdue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.filters-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-left:4px solid #3B82F6}.tab-nav[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]{position:relative;transition:all .2s ease}.tab-nav[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:hover{color:#3b82f6}.tab-nav[_ngcontent-%COMP%]   .tab-button.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:2px;background:linear-gradient(to right,#3b82f6,#1d4ed8);border-radius:1px}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc);border-left:4px solid transparent;transition:all .2s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.summary-card.card-primary[_ngcontent-%COMP%]{border-left-color:#3b82f6}.summary-card.card-success[_ngcontent-%COMP%]{border-left-color:#10b981}.summary-card.card-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.summary-card.card-danger[_ngcontent-%COMP%]{border-left-color:#ef4444}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-right:.5rem}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-cards[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.tab-nav[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 640px){.summary-cards[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.page-break[_ngcontent-%COMP%]{page-break-before:always}.chart-container[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;color-adjust:exact}}']})};export{k as a,xe as b};
