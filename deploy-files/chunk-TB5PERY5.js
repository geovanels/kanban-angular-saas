import{b as Tn}from"./chunk-BZPYHLGH.js";import{A as jt,D as U,a as Qn,b as Se,c as ie,d as Kn,e as re,g as Xn,i as Xe,k as Pe,l as xt,o as Zn,p as Yn,q as oe,r as Jn,t as ei,u as ti,v as ni,w as ii}from"./chunk-CXGKOLI5.js";import{A as zn,a as On,b as Ut,c as In,d as An,e as Dn,f as Sn,g as Ae,h as Pn,i as Mn,j as Nn,k as Un,l as jn,m as Ln,n as Ke,o as Vn,p as Bn,q as $n,r as Hn,s as De,t as Gn,u as qn,x as Wn}from"./chunk-3VCHQSRR.js";import{$ as F,$b as wn,Aa as Dt,Ab as g,Ac as Ie,Bb as P,Bc as te,Eb as fe,Ec as kn,Fb as he,Fc as ne,G as un,Gb as ze,H as ft,Hb as Qe,Ib as me,Ic as A,Jb as d,Kb as vn,L as pn,Lb as xn,Mb as le,Nb as ce,O as dn,Ob as ue,Pb as pe,Qb as Fn,Ra as gn,Rb as T,Sb as En,Ta as p,Tb as v,U as At,Ub as J,V as fn,Va as St,Vb as W,Wa as We,X as ht,Ya as Pt,Za as L,_ as mt,_a as K,a as q,b as be,ba as gt,bb as C,c as an,ca as Te,cb as w,d as ct,db as ve,dc as Ct,ea as hn,eb as Mt,ec as $,f as ut,fb as y,fc as ee,gb as h,gc as xe,hb as _n,hc as b,i as pt,ja as He,ka as Ge,kb as Nt,l as ln,m as cn,na as _t,oa as mn,oc as vt,qb as N,qc as Rn,v as dt,vb as yn,wa as qe,wb as bn,x as Ce,xa as yt,xb as Cn,ya as bt,yb as c,z as $e,za as E,zb as m,zc as Oe}from"./chunk-CM3JQ4U2.js";var ui="firebasestorage.googleapis.com",pi="storageBucket",nr=120*1e3,ir=600*1e3;var R=class t extends Sn{constructor(e,r,n=0){super(Lt(e),`Firebase Storage: ${r} (${Lt(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},O=(function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t})(O||{});function Lt(t){return"storage/"+t}function qt(){let t="An unknown error occurred, please check the error payload for server response.";return new R(O.UNKNOWN,t)}function rr(t){return new R(O.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function or(t){return new R(O.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sr(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new R(O.UNAUTHENTICATED,t)}function ar(){return new R(O.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lr(t){return new R(O.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cr(){return new R(O.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ur(){return new R(O.CANCELED,"User canceled the upload/download.")}function pr(t){return new R(O.INVALID_URL,"Invalid URL '"+t+"'.")}function dr(t){return new R(O.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fr(){return new R(O.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pi+"' property when initializing the app?")}function hr(){return new R(O.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mr(){return new R(O.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gr(t){return new R(O.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vt(t){return new R(O.INVALID_ARGUMENT,t)}function di(){return new R(O.APP_DELETED,"The Firebase app was deleted.")}function _r(t){return new R(O.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ye(t,e){return new R(O.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ze(t){throw new R(O.INTERNAL_ERROR,"Internal error: "+t)}var X=class t{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=t.makeFromUrl(e,r)}catch{return new t(e,"")}if(n.path==="")return n;throw dr(e)}static makeFromUrl(e,r){let n=null,i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}let f="v[A-Za-z0-9_]+",x=r.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",k=new RegExp(`^https?://${x}/${f}/b/${i}/o${_}`,"i"),G={bucket:1,path:3},de=r===ui?"(?:storage.googleapis.com|storage.cloud.google.com)":r,V="([^?#]*)",ke=new RegExp(`^https?://${de}/${i}/${V}`,"i"),Y=[{regex:a,indices:l,postModify:o},{regex:k,indices:G,postModify:u},{regex:ke,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<Y.length;B++){let lt=Y[B],Ot=lt.regex.exec(e);if(Ot){let tr=Ot[lt.indices.bucket],It=Ot[lt.indices.path];It||(It=""),n=new t(tr,It),lt.postModify(n);break}}if(n==null)throw pr(e);return n}},Bt=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function yr(t,e,r){let n=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function f(...V){u||(u=!0,e.apply(null,V))}function x(V){i=setTimeout(()=>{i=null,t(k,l())},V)}function _(){o&&clearTimeout(o)}function k(V,...ke){if(u){_();return}if(V){_(),f.call(null,V,...ke);return}if(l()||s){_(),f.call(null,V,...ke);return}n<64&&(n*=2);let Y;a===1?(a=2,Y=0):Y=(n+Math.random())*1e3,x(Y)}let G=!1;function de(V){G||(G=!0,_(),!u&&(i!==null?(V||(a=2),clearTimeout(i),x(0)):V||(a=1)))}return x(0),o=setTimeout(()=>{s=!0,de(!0)},r),de}function br(t){t(!1)}function Cr(t){return t!==void 0}function vr(t){return typeof t=="object"&&!Array.isArray(t)}function Wt(t){return typeof t=="string"||t instanceof String}function ri(t){return zt()&&t instanceof Blob}function zt(){return typeof Blob<"u"}function oi(t,e,r,n){if(n<e)throw Vt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Vt(`Invalid value for '${t}'. Expected ${r} or less.`)}function Rt(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function fi(t){let e=encodeURIComponent,r="?";for(let n in t)if(t.hasOwnProperty(n)){let i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Ne=(function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t})(Ne||{});function xr(t,e){let r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||i||o}var $t=class{constructor(e,r,n,i,o,s,a,l,u,f,x,_=!0,k=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=x,this.retry=_,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,de)=>{this.resolve_=G,this.reject_=de,this.start_()})}start_(){let e=(n,i)=>{if(i){n(!1,new Me(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Ne.NO_ERROR,l=o.getStatus();if(!a||xr(l,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===Ne.ABORT;n(!1,new Me(!1,null,f));return}let u=this.successCodes_.indexOf(l)!==-1;n(!0,new Me(u,o))})},r=(n,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());Cr(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=qt();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?di():ur();s(l)}else{let l=cr();s(l)}};this.canceled_?r(!1,new Me(!1,null,!0)):this.backoffId_=yr(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&br(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Me=class{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}};function Fr(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Er(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wr(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Rr(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kr(t,e,r,n,i,o,s=!0,a=!1){let l=fi(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return wr(f,e),Fr(f,r),Er(f,o),Rr(f,n),new $t(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}function Tr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Or(...t){let e=Tr();if(e!==void 0){let r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(zt())return new Blob(t);throw new R(O.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ir(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}function Ar(t){if(typeof atob>"u")throw gr("base-64");return atob(t)}var se={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Je=class{constructor(e,r){this.data=e,this.contentType=r||null}};function Dr(t,e){switch(t){case se.RAW:return new Je(hi(e));case se.BASE64:case se.BASE64URL:return new Je(mi(t,e));case se.DATA_URL:return new Je(Pr(e),Mr(e))}throw qt()}function hi(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{let o=n,s=t.charCodeAt(++r);n=65536|(o&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Sr(t){let e;try{e=decodeURIComponent(t)}catch{throw Ye(se.DATA_URL,"Malformed data URL.")}return hi(e)}function mi(t,e){switch(t){case se.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ye(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case se.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ye(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Ar(e)}catch(i){throw i.message.includes("polyfill")?i:Ye(t,"Invalid character found")}let n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}var Et=class{constructor(e){this.base64=!1,this.contentType=null;let r=e.match(/^data:([^,]+)?,/);if(r===null)throw Ye(se.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=r[1]||null;n!=null&&(this.base64=Nr(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function Pr(t){let e=new Et(t);return e.base64?mi(se.BASE64,e.rest):Sr(e.rest)}function Mr(t){return new Et(t).contentType}function Nr(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var wt=class t{constructor(e,r){let n=0,i="";ri(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(ri(this.data_)){let n=this.data_,i=Ir(n,e,r);return i===null?null:new t(i)}else{let n=new Uint8Array(this.data_.buffer,e,r-e);return new t(n,!0)}}static getBlob(...e){if(zt()){let r=e.map(n=>n instanceof t?n.data_:n);return new t(Or.apply(null,r))}else{let r=e.map(s=>Wt(s)?Dr(se.RAW,s).data:s.data_),n=0;r.forEach(s=>{n+=s.byteLength});let i=new Uint8Array(n),o=0;return r.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function gi(t){let e;try{e=JSON.parse(t)}catch{return null}return vr(e)?e:null}function Ur(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jr(t,e){let r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function _i(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Lr(t,e){return e}var M=class{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Lr}},Ft=null;function Vr(t){return!Wt(t)||t.length<2?t:_i(t)}function yi(){if(Ft)return Ft;let t=[];t.push(new M("bucket")),t.push(new M("generation")),t.push(new M("metageneration")),t.push(new M("name","fullPath",!0));function e(o,s){return Vr(s)}let r=new M("name");r.xform=e,t.push(r);function n(o,s){return s!==void 0?Number(s):s}let i=new M("size");return i.xform=n,t.push(i),t.push(new M("timeCreated")),t.push(new M("updated")),t.push(new M("md5Hash",null,!0)),t.push(new M("cacheControl",null,!0)),t.push(new M("contentDisposition",null,!0)),t.push(new M("contentEncoding",null,!0)),t.push(new M("contentLanguage",null,!0)),t.push(new M("contentType",null,!0)),t.push(new M("metadata","customMetadata",!0)),Ft=t,Ft}function Br(t,e){function r(){let n=t.bucket,i=t.fullPath,o=new X(n,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function $r(t,e,r){let n={};n.type="file";let i=r.length;for(let o=0;o<i;o++){let s=r[o];n[s.local]=s.xform(n,e[s.server])}return Br(n,t),n}function bi(t,e,r){let n=gi(e);return n===null?null:$r(t,n,r)}function Hr(t,e,r,n){let i=gi(e);if(i===null||!Wt(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let f=t.bucket,x=t.fullPath,_="/b/"+s(f)+"/o/"+s(x),k=Rt(_,r,n),G=fi({alt:"media",token:u});return k+G})[0]}function Gr(t,e){let r={},n=e.length;for(let i=0;i<n;i++){let o=e[i];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}var et=class{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Ci(t){if(!t)throw qt()}function qr(t,e){function r(n,i){let o=bi(t,i,e);return Ci(o!==null),o}return r}function Wr(t,e){function r(n,i){let o=bi(t,i,e);return Ci(o!==null),Hr(o,i,t.host,t._protocol)}return r}function vi(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=ar():i=sr():r.getStatus()===402?i=or(t.bucket):r.getStatus()===403?i=lr(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function xi(t){let e=vi(t);function r(n,i){let o=e(n,i);return n.getStatus()===404&&(o=rr(t.path)),o.serverResponse=i.serverResponse,o}return r}function zr(t,e,r){let n=e.fullServerUrl(),i=Rt(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new et(i,o,Wr(t,r),s);return a.errorHandler=xi(e),a}function Qr(t,e){let r=e.fullServerUrl(),n=Rt(r,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}let a=new et(n,i,s,o);return a.successCodes=[200,204],a.errorHandler=xi(e),a}function Kr(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Xr(t,e,r){let n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Kr(null,e)),n}function Zr(t,e,r,n,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let Y="";for(let B=0;B<2;B++)Y=Y+Math.random().toString().slice(2);return Y}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let u=Xr(e,n,i),f=Gr(u,r),x="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,_=`\r
--`+l+"--",k=wt.getBlob(x,n,_);if(k===null)throw hr();let G={name:u.fullPath},de=Rt(o,t.host,t._protocol),V="POST",ke=t.maxUploadRetryTime,ye=new et(de,V,qr(t,r),ke);return ye.urlParams=G,ye.headers=s,ye.body=k.uploadData(),ye.errorHandler=vi(e),ye}var js=256*1024;var si=null,Ht=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ne.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ne.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ne.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,o){if(this.sent_)throw Ze("cannot .send() more than once");if(Ut(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),o!==void 0)for(let s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ze("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ze("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ze("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ze("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Gt=class extends Ht{initXhr(){this.xhr_.responseType="text"}};function Qt(){return si?si():new Gt}var Ue=class t{constructor(e,r){this._service=e,r instanceof X?this._location=r:this._location=X.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new t(e,r)}get root(){let e=new X(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _i(this._location.path)}get storage(){return this._service}get parent(){let e=Ur(this._location.path);if(e===null)return null;let r=new X(this._location.bucket,e);return new t(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw _r(e)}};function Yr(t,e,r){t._throwIfRoot("uploadBytes");let n=Zr(t.storage,t._location,yi(),new wt(e,!0),r);return t.storage.makeRequestWithTokens(n,Qt).then(i=>({metadata:i,ref:t}))}function Jr(t){t._throwIfRoot("getDownloadURL");let e=zr(t.storage,t._location,yi());return t.storage.makeRequestWithTokens(e,Qt).then(r=>{if(r===null)throw mr();return r})}function eo(t){t._throwIfRoot("deleteObject");let e=Qr(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qt)}function to(t,e){let r=jr(t._location.path,e),n=new X(t._location.bucket,r);return new Ue(t.storage,n)}function no(t){return/^[A-Za-z]+:\/\//.test(t)}function io(t,e){return new Ue(t,e)}function Fi(t,e){if(t instanceof tt){let r=t;if(r._bucket==null)throw fr();let n=new Ue(r,r._bucket);return e!=null?Fi(n,e):n}else return e!==void 0?to(t,e):t}function ro(t,e){if(e&&no(e)){if(t instanceof tt)return io(t,e);throw Vt("To use ref(service, url), the first argument must be a Storage instance.")}else return Fi(t,e)}function ai(t,e){let r=e?.[pi];return r==null?null:X.makeFromBucketSpec(r,t)}function oo(t,e,r,n={}){t.host=`${e}:${r}`;let i=Ut(e);i&&(In(`https://${t.host}/b`),Dn("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=n;o&&(t._overrideAuthToken=typeof o=="string"?o:An(o,t.app.options.projectId))}var tt=class{constructor(e,r,n,i,o,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=ui,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nr,this._maxUploadRetryTime=ir,this._requests=new Set,i!=null?this._bucket=X.makeFromBucketSpec(i,this._host):this._bucket=ai(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=X.makeFromBucketSpec(this._url,e):this._bucket=ai(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oi("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oi("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return ut(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let r=yield e.getToken();if(r!==null)return r.accessToken}return null})}_getAppCheckToken(){return ut(this,null,function*(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ue(this,e)}_makeRequest(e,r,n,i,o=!0){if(this._deleted)return new Bt(di());{let s=kr(e,this._appId,n,i,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,r){return ut(this,null,function*(){let[n,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()})}},li="@firebase/storage",ci="0.13.14";var Ei="storage";function wi(t,e,r){return t=Ae(t),Yr(t,e,r)}function Ri(t){return t=Ae(t),Jr(t)}function ki(t){return t=Ae(t),eo(t)}function Ti(t,e){return t=Ae(t),ro(t,e)}function Oi(t=Ln(),e){t=Ae(t);let n=Nn(t,Ei).getImmediate({identifier:e}),i=On("storage");return i&&Ii(n,...i),n}function Ii(t,e,r,n={}){oo(t,e,r,n)}function so(t,{instanceIdentifier:e}){let r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new tt(r,n,i,e,jn)}function ao(){Mn(new Pn(Ei,so,"PUBLIC").setMultipleInstances(!0)),Ke(li,ci,""),Ke(li,ci,"esm2017")}ao();var nt=class{constructor(e){return e}},Ai="storage",Kt=class{constructor(){return $n(Ai)}};var Xt=new gt("angularfire2.storage-instances");function lo(t,e){let r=Bn(Ai,t,e);return r&&new nt(r)}function co(t){return(e,r)=>{let n=e.runOutsideAngular(()=>t(r));return new nt(n)}}var uo={provide:Kt,deps:[[new qe,Xt]]},po={provide:nt,useFactory:lo,deps:[[new qe,Xt],Gn]};function sa(t,...e){return Ke("angularfire",Vn.full,"gcs"),hn([po,uo,{provide:Xt,useFactory:co(t),multi:!0,deps:[Nt,_t,Hn,qn,[new qe,zn],[new qe,Wn],...e]}])}var aa=De(ki,!0,2);var la=De(Ri,!0);var ca=De(Oi,!0);var ua=De(Ti,!0,2);var pa=De(wi,!0);var fo=["container"];function ho(t,e){}function mo(t,e){}var go=["*"];function _o(t,e){if(t&1&&P(0,"formly-field",0),t&2){let r=e.$implicit;c("field",r)}}var Di=["fieldComponent"];function yo(t,e){let r=t._updateTreeValidity.bind(t);t._updateTreeValidity=()=>{},e(),t._updateTreeValidity=r}function bo(t,e,r){if(e.id)return e.id;let n=e.type;return!n&&e.template&&(n="template"),n instanceof yt&&(n=n.prototype.constructor.name),[t,n,e.key,r].join("_")}function I(t){return!ge(t.key)&&t.key!==""&&(!Array.isArray(t.key)||t.key.length>0)}function Fe(t){if(!I(t))return[];if(t._keyPath?.key!==t.key){let e=[];if(typeof t.key=="string"){let r=t.key.indexOf("[")===-1?t.key:t.key.replace(/\[(\w+)\]/g,".$1");e=r.indexOf(".")!==-1?r.split("."):[r]}else Array.isArray(t.key)?e=t.key.slice(0):e=[`${t.key}`];S(t,"_keyPath",{key:t.key,path:e})}return t._keyPath.path.slice(0)}var rn=["required","pattern","minLength","maxLength","min","max"];function rt(t,e){let r=Fe(t);if(r.length===0)return;let n=t;for(;n.parent;)n=n.parent,r=[...Fe(n),...r];if(e===void 0&&t.resetOnHide){let i=r.pop(),o=r.reduce((s,a)=>s[a]||{},n.model);delete o[i];return}Co(n.model,r,e)}function Co(t,e,r){for(let n=0;n<e.length-1;n++){let i=e[n];(!t[i]||!Z(t[i]))&&(t[i]=/^\d+$/.test(e[n+1])?[]:{}),t=t[i]}t[e[e.length-1]]=_e(r)}function Ee(t){let e=t.parent?t.parent.model:t.model;for(let r of Fe(t)){if(!e)return e;e=e[r]}return e}function je(t,...e){return e.forEach(r=>{for(let n in r)ge(t[n])||vo(t[n])?t[n]=_e(r[n]):xo(t[n],r[n])&&je(t[n],r[n])}),t}function ge(t){return t==null}function kt(t){return t===void 0}function vo(t){return t===""}function Zt(t){return typeof t=="function"}function xo(t,e){return Z(t)&&Z(e)&&Object.getPrototypeOf(t)===Object.getPrototypeOf(e)&&!(Array.isArray(t)||Array.isArray(e))}function Z(t){return t!=null&&typeof t=="object"}function Fo(t){return!!t&&typeof t.then=="function"}function _e(t){if(!Z(t)||Ce(t)||t instanceof St||t.changingThisBreaksApplicationSecurity||["RegExp","FileList","File","Blob"].indexOf(t.constructor?.name)!==-1)return t;if(t instanceof Set)return new Set(t);if(t instanceof Map)return new Map(t);if(t instanceof Uint8Array)return new Uint8Array(t);if(t instanceof Uint16Array)return new Uint16Array(t);if(t instanceof Uint32Array)return new Uint32Array(t);if(t._isAMomentObject&&Zt(t.clone))return t.clone();if(t instanceof Xn)return null;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t))return t.slice(0).map(n=>_e(n));let e=Object.getPrototypeOf(t),r=Object.create(e);return r=Object.setPrototypeOf(r,e),Object.keys(t).reduce((n,i)=>{let o=Object.getOwnPropertyDescriptor(t,i);return o.get?Object.defineProperty(n,i,o):n[i]=_e(t[i]),n},r)}function S(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0}),t[e]=r}function Mi(t,e,r){let n=[],i=()=>{n.forEach(s=>s()),n=[]},o=D(t,e,({firstChange:s,currentValue:a})=>{!s&&r(),i(),Z(a)&&a.constructor.name==="Object"&&Object.keys(a).forEach(l=>{n.push(Mi(t,[...e,l],r))})});return()=>{o.unsubscribe(),i()}}function D(t,e,r){t._observers||S(t,"_observers",{});let n=t;for(let a=0;a<e.length-1;a++)(!n[e[a]]||!Z(n[e[a]]))&&(n[e[a]]=/^\d+$/.test(e[a+1])?[]:{}),n=n[e[a]];let i=e[e.length-1],o=e.join(".");t._observers[o]||(t._observers[o]={value:n[i],onChange:[]});let s=t._observers[o];if(n[i]!==s.value&&(s.value=n[i]),r&&s.onChange.indexOf(r)===-1&&(s.onChange.push(r),r({currentValue:s.value,firstChange:!0}),s.onChange.length>=1&&Z(n))){let{enumerable:a}=Object.getOwnPropertyDescriptor(n,i)||{enumerable:!0};Object.defineProperty(n,i,{enumerable:a,configurable:!0,get:()=>s.value,set:l=>{if(l!==s.value){let u=s.value;s.value=l,s.onChange.forEach(f=>f({previousValue:u,currentValue:l,firstChange:!1}))}}})}return{setValue(a,l=!0){if(a===s.value)return;let u=s.value;s.value=a,s.onChange.forEach(f=>{f!==r&&l&&f({previousValue:u,currentValue:a,firstChange:!1})})},unsubscribe(){s.onChange=s.onChange.filter(a=>a!==r),s.onChange.length===0&&delete t._observers[o]}}}function Ni(t,e){if(e=Array.isArray(e)?e.join("."):e,!!t.fieldGroup)for(let r=0,n=t.fieldGroup.length;r<n;r++){let i=t.fieldGroup[r],o=Array.isArray(i.key)?i.key.join("."):i.key;if(o===e)return i;if(i.fieldGroup&&(ge(o)||e.indexOf(`${o}.`)===0)){let s=Ni(i,ge(o)?e:e.slice(o.length+1));if(s)return s}}}function Yt(t){t._componentRefs?.forEach(e=>{e instanceof We?e.injector.get(Rn).markForCheck():e.markForCheck()})}function Ui(t){let e=n=>n.hide||n.expressions?.hide||n.hideExpression,r=!t.resetOnHide||!e(t);if(!e(t)&&t.resetOnHide){let n=t.parent;for(;n&&!e(n);)n=n.parent;r=!n||!e(n)}return!r}function on(){return+vt.major>18||+vt.major>=18&&+vt.minor>=1}function Eo(t,e){try{return Function(...e,`return ${t};`)}catch(r){console.error(r)}}function wo(t,e,r){return typeof t=="function"?t.apply(e,r):!!t}function Ro(t,e=!1){let r=t.formControl,n=r._fields?r._fields.indexOf(t):-1;n!==-1&&r._fields.splice(n,1);let i=r.parent;if(!i)return;let o={emitEvent:e};if(i instanceof jt){let s=i.controls.findIndex(a=>a===r);s!==-1&&i.removeAt(s,o)}else if(i instanceof Xe){let s=Fe(t),a=s[s.length-1];i.get([a])===r&&i.removeControl(a,o)}r.setParent(null)}function ko(t){return t.formControl?t.formControl:t.shareFormControl===!1?null:t.form?.get(Fe(t))}function ji(t,e,r=!1){if(e=e||t.formControl,e._fields||S(e,"_fields",[]),e._fields.indexOf(t)===-1&&e._fields.push(t),!t.formControl&&e){S(t,"formControl",e),e.setValidators(null),e.setAsyncValidators(null),t.props.disabled=!!t.props.disabled;let a=D(t,["props","disabled"],({firstChange:l,currentValue:u})=>{l||(u?t.formControl.disable():t.formControl.enable())});e instanceof Pe&&e.registerOnDisabledChange(a.setValue)}if(!t.form||!I(t))return;let n=t.form,i=Fe(t),o=Ee(t);!(ge(e.value)&&ge(o))&&e.value!==o&&e instanceof Pe&&e.patchValue(o);for(let a=0;a<i.length-1;a++){let l=i[a];n.get([l])||n.setControl(l,new Xe({}),{emitEvent:r}),n=n.get([l])}let s=i[i.length-1];!t._hide&&n.get([s])!==e&&n.setControl(s,e,{emitEvent:r})}function ot(t,e=!1){let r=t.status,n=t.value;t.updateValueAndValidity({emitEvent:!1,onlySelf:e}),r!==t.status&&t.statusChanges.emit(t.status),n!==t.value&&t.valueChanges.emit(t.value)}var Jt=class{onPopulate(e){if(e._expressions)return;S(e,"_expressions",{}),D(e,["hide"],({currentValue:n,firstChange:i})=>{S(e,"_hide",!!n),(!i||i&&n===!0)&&(e.props.hidden=n,e.options._hiddenFieldsForCheck.push({field:e}))}),e.hideExpression&&D(e,["hideExpression"],({currentValue:n})=>{e._expressions.hide=this.parseExpressions(e,"hide",typeof n=="boolean"?()=>n:n)});let r=(n,i)=>{typeof i=="string"||Zt(i)?e._expressions[n]=this.parseExpressions(e,n,i):i instanceof pt&&(e._expressions[n]={value$:i.pipe(ht(o=>{this.evalExpr(e,n,o),e.options._detectChanges(e)}))})};e.expressions=e.expressions||{};for(let n of Object.keys(e.expressions))D(e,["expressions",n],({currentValue:i})=>{r(n,Zt(i)?(...o)=>i(e,o[3]):i)});e.expressionProperties=e.expressionProperties||{};for(let n of Object.keys(e.expressionProperties))D(e,["expressionProperties",n],({currentValue:i})=>r(n,i))}postPopulate(e){if(!e.parent&&!e.options.checkExpressions){let r=!1;e.options.checkExpressions=(n,i)=>{if(r)return;r=!0;let o=this.checkExpressions(n,i),s=e.options;s._hiddenFieldsForCheck.sort(a=>a.field.hide?-1:1).forEach(a=>this.changeHideState(a.field,a.field.hide??a.default,!i)),s._hiddenFieldsForCheck=[],o&&this.checkExpressions(e),r=!1}}}parseExpressions(e,r,n){let i;if(e.parent&&["hide","props.disabled"].includes(r)){let s=a=>r==="hide"?a.hide:a.props.disabled;i=()=>{let a=e.parent;for(;a.parent&&!s(a);)a=a.parent;return s(a)}}n=n||(()=>!1),typeof n=="string"&&(n=Eo(n,["model","formState","field"]));let o;return{callback:s=>{try{let a=wo(i?(...l)=>i(e)||n(...l):n,{field:e},[e.model,e.options.formState,e,s]);return s||o!==a&&(!Z(a)||Ce(a)||JSON.stringify(a)!==JSON.stringify(o))?(o=a,this.evalExpr(e,r,a),!0):!1}catch(a){throw a.message=`[Formly Error] [Expression "${r}"] ${a.message}`,a}}}}checkExpressions(e,r=!1){if(!e)return!1;let n=!1;if(e._expressions)for(let i of Object.keys(e._expressions))e._expressions[i].callback?.(r)&&(n=!0);return e.fieldGroup?.forEach(i=>this.checkExpressions(i,r)&&(n=!0)),n}changeDisabledState(e,r){e.fieldGroup&&e.fieldGroup.filter(n=>!n._expressions.hasOwnProperty("props.disabled")).forEach(n=>this.changeDisabledState(n,r)),I(e)&&e.props.disabled!==r&&(e.props.disabled=r)}changeHideState(e,r,n){if(e.fieldGroup&&e.fieldGroup.filter(i=>i&&!i._expressions.hide).forEach(i=>this.changeHideState(i,r,n)),e.formControl&&I(e)){S(e,"_hide",!!(r||e.hide));let i=e.formControl;i._fields?.length>1&&ot(i),r===!0&&(!i._fields||i._fields.every(o=>!!o._hide))?(Ro(e,!0),n&&e.resetOnHide&&(rt(e,void 0),e.formControl.reset({value:void 0,disabled:e.formControl.disabled}),e.options.fieldChanges.next({value:void 0,field:e,type:"valueChanges"}),e.fieldGroup&&e.formControl instanceof jt&&(e.fieldGroup.length=0))):r===!1&&(e.resetOnHide&&!kt(e.defaultValue)&&kt(Ee(e))&&rt(e,e.defaultValue),ji(e,void 0,!0),e.resetOnHide&&e.fieldArray&&e.fieldGroup?.length!==e.model?.length&&e.options.build(e))}e.options.fieldChanges&&e.options.fieldChanges.next({field:e,type:"hidden",value:r})}evalExpr(e,r,n){if(r.indexOf("model.")===0){let i=r.replace(/^model\./,""),o=e.fieldGroup?e:e.parent,s=e?.key===i?e.formControl:e.form.get(i);!s&&e.get(i)&&(s=e.get(i).formControl),rt({key:i,parent:o,model:e.model},n),s&&!(ge(s.value)&&ge(n))&&s.value!==n&&s.patchValue(n)}else{try{let i=e,o=this._evalExpressionPath(e,r),s=o.length-1;for(let a=0;a<s;a++)i=i[o[a]];i[o[s]]=n}catch(i){throw i.message=`[Formly Error] [Expression "${r}"] ${i.message}`,i}["templateOptions.disabled","props.disabled"].includes(r)&&I(e)&&this.changeDisabledState(e,n)}this.emitExpressionChanges(e,r,n)}emitExpressionChanges(e,r,n){e.options.fieldChanges&&e.options.fieldChanges.next({field:e,type:"expressionChanges",property:r,value:n})}_evalExpressionPath(e,r){if(e._expressions[r]&&e._expressions[r].paths)return e._expressions[r].paths;let n=[];return r.indexOf("[")===-1?n=r.split("."):r.split(/[[\]]{1,2}/).filter(i=>i).forEach(i=>{let o=i.match(/['|"](.*?)['|"]/);o?n.push(o[1]):n.push(...i.split(".").filter(s=>s))}),e._expressions[r]&&(e._expressions[r].paths=n),n}},en=class{constructor(e){this.config=e,this.formId=0}prePopulate(e){let r=e.parent;this.initRootOptions(e),this.initFieldProps(e),r&&(Object.defineProperty(e,"options",{get:()=>r.options,configurable:!0}),Object.defineProperty(e,"model",{get:()=>I(e)&&e.fieldGroup?Ee(e):r.model,configurable:!0})),Object.defineProperty(e,"get",{value:n=>Ni(e,n),configurable:!0}),this.getFieldComponentInstance(e).prePopulate?.(e)}onPopulate(e){this.initFieldOptions(e),this.getFieldComponentInstance(e).onPopulate?.(e),e.fieldGroup&&e.fieldGroup.forEach((r,n)=>{r&&(Object.defineProperty(r,"parent",{get:()=>e,configurable:!0}),Object.defineProperty(r,"index",{get:()=>n,configurable:!0})),this.formId++})}postPopulate(e){this.getFieldComponentInstance(e).postPopulate?.(e)}initFieldProps(e){e.props??=e.templateOptions,Object.defineProperty(e,"templateOptions",{get:()=>e.props,set:r=>e.props=r,configurable:!0})}initRootOptions(e){if(e.parent)return;let r=e.options;e.options.formState=e.options.formState||{},r.showError||(r.showError=this.config.extras.showError),r.fieldChanges||S(r,"fieldChanges",new ln),r._hiddenFieldsForCheck||(r._hiddenFieldsForCheck=[]),r._detectChanges=n=>{n._componentRefs&&Yt(n),n.fieldGroup?.forEach(i=>i&&r._detectChanges(i))},r.detectChanges=n=>{n.options.checkExpressions?.(n),r._detectChanges(n)},r.resetModel=n=>{n=_e(n??r._initialModel),e.model&&(Object.keys(e.model).forEach(i=>delete e.model[i]),Object.assign(e.model,n||{})),on()||D(r,["parentForm","submitted"]).setValue(!1,!1),r.build(e),e.form.reset(e.model)},r.updateInitialValue=n=>r._initialModel=_e(n??e.model),e.options.updateInitialValue()}initFieldOptions(e){je(e,{id:bo(`formly_${this.formId}`,e,e.index),hooks:{},modelOptions:{},validation:{messages:{}},props:!e.type||!I(e)?{}:{label:"",placeholder:"",disabled:!1}}),this.config.extras.resetFieldOnHide&&e.resetOnHide!==!1&&(e.resetOnHide=!0),e.type!=="formly-template"&&(e.template||e.expressions?.template||e.expressionProperties?.template)&&(e.type="formly-template"),!e.type&&e.fieldGroup&&(e.type="formly-group"),e.type&&this.config.getMergedField(e),I(e)&&!kt(e.defaultValue)&&kt(Ee(e))&&!Ui(e)&&rt(e,e.defaultValue),e.wrappers=e.wrappers||[]}getFieldComponentInstance(e){let r=()=>{let n=this.config.resolveFieldTypeRef(e),i=e._componentRefs?.slice(-1)[0];return i instanceof We&&i?.componentType===n?.componentType&&(n=i),n?.instance};return e._proxyInstance||S(e,"_proxyInstance",new Proxy({},{get:(n,i)=>r()?.[i],set:(n,i,o)=>r()[i]=o})),e._proxyInstance}},tn=class{prePopulate(e){this.root||(this.root=e),e.parent&&Object.defineProperty(e,"form",{get:()=>e.parent.formControl,configurable:!0})}onPopulate(e){e.hasOwnProperty("fieldGroup")&&!I(e)?S(e,"formControl",e.form):this.addFormControl(e)}postPopulate(e){if(this.root!==e)return;if(this.root=null,this.setValidators(e)&&e.parent){let n=e.parent;for(;n;)(I(n)||!n.parent)&&ot(n.formControl,!0),n=n.parent}}addFormControl(e){let r=ko(e);if(!e.fieldArray){if(r){if(r instanceof Pe){let n=I(e)?Ee(e):e.defaultValue;r.defaultValue=n}}else{let n={updateOn:e.modelOptions.updateOn};if(e.fieldGroup)r=new Xe({},n);else{let i=I(e)?Ee(e):e.defaultValue;r=new xt({value:i,disabled:!!e.props.disabled},be(q({},n),{initialValueIsDefault:!0}))}}ji(e,r)}}setValidators(e,r=!1){r===!1&&I(e)&&e.props?.disabled&&(r=!0);let n=!1;if(e.fieldGroup?.forEach(i=>i&&this.setValidators(i,r)&&(n=!0)),I(e)||!e.parent||!I(e)&&!e.fieldGroup){let{formControl:i}=e;if(i&&(I(e)&&i instanceof Pe&&(r&&i.enabled&&(i.disable({emitEvent:!1,onlySelf:!0}),n=!0),!r&&i.disabled&&(i.enable({emitEvent:!1,onlySelf:!0}),n=!0)),i.validator===null&&this.hasValidators(e,"_validators")&&(i.setValidators(()=>{let o=ie.compose(this.mergeValidators(e,"_validators"));return o?o(i):null}),n=!0),i.asyncValidator===null&&this.hasValidators(e,"_asyncValidators")&&(i.setAsyncValidators(()=>{let o=ie.composeAsync(this.mergeValidators(e,"_asyncValidators"));return o?o(i):dt(null)}),n=!0),n)){ot(i,!0);let o=i.parent;for(let s=1;s<Fe(e).length;s++)o&&(ot(o,!0),o=o.parent)}}return n}hasValidators(e,r){let n=e.formControl;return n?._fields?.length>1&&n._fields.some(i=>i[r].length>0)||e[r].length>0?!0:e.fieldGroup?.some(i=>i?.fieldGroup&&!I(i)&&this.hasValidators(i,r))}mergeValidators(e,r){let n=[],i=e.formControl;return i?._fields?.length>1?i._fields.filter(o=>!o._hide).forEach(o=>n.push(...o[r])):e[r]&&n.push(...e[r]),e.fieldGroup&&e.fieldGroup.filter(o=>o?.fieldGroup&&!I(o)).forEach(o=>n.push(...this.mergeValidators(o,r))),n}},nn=class{constructor(e){this.config=e}onPopulate(e){this.initFieldValidation(e,"validators"),this.initFieldValidation(e,"asyncValidators")}initFieldValidation(e,r){let n=[];if(r==="validators"&&!(e.hasOwnProperty("fieldGroup")&&!I(e))&&n.push(this.getPredefinedFieldValidation(e)),e[r])for(let i of Object.keys(e[r]))i==="validation"?n.push(...e[r].validation.map(o=>this.wrapNgValidatorFn(e,o))):n.push(this.wrapNgValidatorFn(e,e[r][i],i));S(e,"_"+r,n)}getPredefinedFieldValidation(e){let r=[];return rn.forEach(n=>D(e,["props",n],({currentValue:i,firstChange:o})=>{r=r.filter(s=>s!==n),n==="required"&&i!=null&&typeof i!="boolean"&&console.warn(`Formly: Invalid prop 'required' of type '${typeof i}', expected 'boolean' (Field:${e.key}).`),i!=null&&i!==!1&&r.push(n),!o&&e.formControl&&ot(e.formControl)})),n=>r.length===0?null:ie.compose(r.map(i=>()=>{let o=e.props[i];switch(i){case"required":return ie.required(n);case"pattern":return ie.pattern(o)(n);case"minLength":let s=ie.minLength(o)(n),a=this.config.getValidatorMessage("minlength")||e.validation?.messages?.minlength?"minlength":"minLength";return s?{[a]:s.minlength}:null;case"maxLength":let l=ie.maxLength(o)(n),u=this.config.getValidatorMessage("maxlength")||e.validation?.messages?.maxlength?"maxlength":"maxLength";return l?{[u]:l.maxlength}:null;case"min":return ie.min(o)(n);case"max":return ie.max(o)(n);default:return null}}))(n)}wrapNgValidatorFn(e,r,n){let i;if(typeof r=="string"&&(i=_e(this.config.getValidator(r))),typeof r=="object"&&r.name&&(i=_e(this.config.getValidator(r.name)),r.options&&(i.options=r.options)),typeof r=="object"&&r.expression){let o=r,{expression:s}=o,a=ct(o,["expression"]);i={name:n,validation:s,options:Object.keys(a).length>0?a:null}}return typeof r=="function"&&(i={name:n,validation:r}),s=>{let a=i.validation(s,e,i.options);return Fo(a)?a.then(l=>this.handleResult(e,n?!!l:l,i)):Ce(a)?a.pipe($e(l=>this.handleResult(e,n?!!l:l,i))):this.handleResult(e,n?!!a:a,i)}}handleResult(e,r,{name:n,options:i}){typeof r=="boolean"&&(r=r?null:{[n]:i||!0});let o=e.formControl;return o?._childrenErrors?.[n]?.(),Z(r)&&Object.keys(r).forEach(s=>{let a=r[s].errorPath?r[s].errorPath:i?.errorPath,l=a?e.formControl.get(a):null;if(l){let u=r[s],{errorPath:f}=u,x=ct(u,["errorPath"]);l.setErrors(be(q({},l.errors||{}),{[s]:x})),!o._childrenErrors&&S(o,"_childrenErrors",{}),o._childrenErrors[s]=()=>{let G=l.errors||{},{[s]:_}=G,k=ct(G,[an(s)]);l.setErrors(Object.keys(k).length===0?null:k)}}}),r}},at=(()=>{let e=class e{constructor(){this.field={}}set _formlyControls(n){let i=this.field;i._localFields=n.map(o=>o.control._fields||[]).flat().filter(o=>o.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options?.formState||{}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ve({type:e,viewQuery:function(i,o){if(i&1&&le(Kn,5),i&2){let s;ce(s=ue())&&(o._formlyControls=s)}},inputs:{field:"field"},standalone:!1});let t=e;return t})(),To=(()=>{let e=class e extends at{get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}constructor(n){super(),this.sanitizer=n,this.innerHtml={}}};e.\u0275fac=function(i){return new(i||e)(L(Tn))},e.\u0275cmp=C({type:e,selectors:[["formly-template"]],standalone:!1,features:[y],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(i,o){i&1&&P(0,"div",0),i&2&&c("innerHtml",o.template,gn)},encapsulation:2,changeDetection:0});let t=e;return t})(),Le=(()=>{let e=class e{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError(n){return n.formControl?.invalid&&(n.formControl?.touched||n.options.parentForm?.submitted||!!n.field.validation?.show)}},this.extensions={},this.presets={},this.extensionsByPriority={},this.componentRefs={}}addConfig(n){if(Array.isArray(n)){n.forEach(i=>this.addConfig(i));return}n.types&&n.types.forEach(i=>this.setType(i)),n.validators&&n.validators.forEach(i=>this.setValidator(i)),n.wrappers&&n.wrappers.forEach(i=>this.setWrapper(i)),n.validationMessages&&n.validationMessages.forEach(i=>this.addValidatorMessage(i.name,i.message)),n.extensions&&this.setSortedExtensions(n.extensions),n.extras&&(this.extras=q(q({},this.extras),n.extras)),n.presets&&(this.presets=q(q({},this.presets),n.presets.reduce((i,o)=>be(q({},i),{[o.name]:o.config}),{})))}setType(n){Array.isArray(n)?n.forEach(i=>this.setType(i)):(this.types[n.name]||(this.types[n.name]={name:n.name}),["component","extends","defaultOptions","wrappers"].forEach(i=>{n.hasOwnProperty(i)&&(this.types[n.name][i]=n[i])}))}getType(n,i=!1){if(n instanceof yt)return{component:n,name:n.prototype.constructor.name};if(!this.types[n]){if(i)throw new Error(`[Formly Error] The type "${n}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(n),this.types[n]}getMergedField(n={}){let i=this.getType(n.type);if(!i)return;i.defaultOptions&&je(n,i.defaultOptions);let o=i.extends&&this.getType(i.extends).defaultOptions;o&&je(n,o),n?.optionsTypes&&n.optionsTypes.forEach(a=>{let l=this.getType(a).defaultOptions;l&&je(n,l)});let s=this.resolveFieldTypeRef(n);s?.instance?.defaultOptions&&je(n,s.instance.defaultOptions),!n.wrappers&&i.wrappers&&(n.wrappers=[...i.wrappers])}resolveFieldTypeRef(n={}){let i=this.getType(n.type);if(!i||!i.component)return null;if(!this.componentRefs[i.name]){let{_viewContainerRef:o,_injector:s}=n.options;if(!o||!s)return null;let a=o.createComponent(i.component,{injector:s});this.componentRefs[i.name]=a;try{a.destroy()}catch(l){console.error(`An error occurred while destroying the Formly component type "${n.type}"`,l)}}return this.componentRefs[i.name]}clearRefs(){this.componentRefs={}}setWrapper(n){this.wrappers[n.name]=n,n.types&&n.types.forEach(i=>{this.setTypeWrapper(i,n.name)})}getWrapper(n){if(n instanceof yt)return{component:n,name:n.prototype.constructor.name};if(!this.wrappers[n])throw new Error(`[Formly Error] The wrapper "${n}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[n]}setTypeWrapper(n,i){this.types[n]||(this.types[n]={}),this.types[n].wrappers||(this.types[n].wrappers=[]),this.types[n].wrappers.indexOf(i)===-1&&this.types[n].wrappers.push(i)}setValidator(n){this.validators[n.name]=n}getValidator(n){if(!this.validators[n])throw new Error(`[Formly Error] The validator "${n}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[n]}addValidatorMessage(n,i){this.messages[n]=i}getValidatorMessage(n){return this.messages[n]}setSortedExtensions(n){n.forEach(i=>{let o=i.priority??1;this.extensionsByPriority[o]=be(q({},this.extensionsByPriority[o]),{[i.name]:i.extension})}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((i,o)=>i-o).reduce((i,o)=>q(q({},i),this.extensionsByPriority[o]),{})}mergeExtendedType(n){if(!this.types[n].extends)return;let i=this.getType(this.types[n].extends);this.types[n].component||(this.types[n].component=i.component),this.types[n].wrappers||(this.types[n].wrappers=i.wrappers)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac});let t=e;return t})(),Io=(()=>{let e=class e{get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){return this.config.extras.renderFormlyFieldElement?this._elementRef:this.componentRefs?.[0]instanceof We?this.componentRefs[0].location:null}constructor(n,i,o,s,a){this.config=n,this.renderer=i,this._elementRef=o,this.hostContainerRef=s,this.form=a,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(n){this.triggerHook("onChanges",n)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(n=>n.unsubscribe()),this.hooksObservers.forEach(n=>n()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(n,i,o=[]){if(this.containerRef===n&&(this.resetRefs(this.field),this.containerRef.clear(),o=this.field?.wrappers),o?.length>0){let[s,...a]=o,{component:l}=this.config.getWrapper(s),u=n.createComponent(l);this.attachComponentRef(u,i),D(u.instance,["fieldComponent"],({currentValue:f,previousValue:x,firstChange:_})=>{if(f){if(x&&x._lContainer===f._lContainer)return;let k=x?x.detach():null;k&&!k.destroyed?f.insert(k):this.renderField(f,i,a),!_&&u.changeDetectorRef.detectChanges()}})}else if(i?.type){let s=this.form?.templates?.find(l=>l.name===i.type),a;if(s)a=n.createEmbeddedView(s.ref,{$implicit:i});else{let{component:l}=this.config.getType(i.type,!0);a=n.createComponent(l)}this.attachComponentRef(a,i)}}triggerHook(n,i){if((n==="onInit"||n==="onChanges"&&i.field&&!i.field.firstChange)&&(this.valueChangesUnsubscribe(),this.valueChangesUnsubscribe=this.fieldChanges(this.field)),this.field?.hooks?.[n]&&(!i||i.field)){let o=this.field.hooks[n](this.field);if(Ce(o)&&["onInit","afterContentInit","afterViewInit"].indexOf(n)!==-1){let s=o.subscribe();this.hooksObservers.push(()=>s.unsubscribe())}}n==="onChanges"&&i.field&&(this.resetRefs(i.field.previousValue),this.render())}attachComponentRef(n,i){this.componentRefs.push(n),i._componentRefs.push(n),n instanceof We&&Object.assign(n.instance,{field:i})}render(){if(this.field){if(!this.field.options){this.detectFieldBuild=!0;return}if(this.detectFieldBuild=!1,this.hostObservers.forEach(n=>n.unsubscribe()),this.hostObservers=[D(this.field,["hide"],({firstChange:n,currentValue:i})=>{let o=this.containerRef;this.config.extras.lazyRender===!1?(n&&this.renderField(o,this.field),(!n||n&&i)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",i?"none":"")):i?(o.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(o,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!n&&this.field.options.detectChanges(this.field)}),D(this.field,["className"],({firstChange:n,currentValue:i})=>{(!n||n&&i)&&(!this.config.extras.lazyRender||this.field.hide!==!0)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",i)})],!on())["touched","pristine","status"].forEach(n=>this.hostObservers.push(D(this.field,["formControl",n],({firstChange:i})=>!i&&Yt(this.field))));else if(this.field.formControl){let n=this.field.formControl.events.subscribe(()=>Yt(this.field));this.hostObservers.push(n)}}}resetRefs(n){n&&(n._localFields?n._localFields=[]:S(this.field,"_localFields",[]),n._componentRefs?n._componentRefs=n._componentRefs.filter(i=>this.componentRefs.indexOf(i)===-1):S(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(n){if(!n)return()=>{};let i=Mi(n,["props"],()=>n.options.detectChanges(n)),o=[()=>{i()}];for(let a of Object.keys(n._expressions||{})){let l=D(n,["_expressions",a],({currentValue:u,previousValue:f})=>{f?.subscription&&(f.subscription.unsubscribe(),f.subscription=null),Ce(u.value$)&&(u.subscription=u.value$.subscribe())});o.push(()=>{n._expressions[a]?.subscription&&n._expressions[a].subscription.unsubscribe(),l.unsubscribe()})}for(let a of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){let l=D(n,a,({firstChange:u})=>!u&&n.options.detectChanges(n));o.push(()=>l.unsubscribe())}if(n.formControl&&!n.fieldGroup){let a=n.formControl,l=a.valueChanges.pipe($e(_=>(n.parsers?.map(k=>_=k(_,n)),Object.is(_,n.formControl.value)||n.formControl.setValue(_),_)),dn((_,k)=>!(_!==k||Array.isArray(_)||Z(_))));a.value!==Ee(n)&&(l=l.pipe(At(a.value)));let{updateOn:u,debounce:f}=n.modelOptions;(!u||u==="change")&&f?.default>0&&(l=l.pipe(pn(f.default)));let x=l.subscribe(_=>{a._fields?.length>1&&a instanceof Pe&&a.patchValue(_,{emitEvent:!1,onlySelf:!0}),I(n)&&rt(n,_),n.options.fieldChanges.next({value:_,field:n,type:"valueChanges"})});o.push(()=>x.unsubscribe())}let s=[];return D(n,["_localFields"],({currentValue:a})=>{s.forEach(l=>l()),s=(a||[]).map(l=>this.fieldChanges(l))}),()=>{o.forEach(a=>a()),s.forEach(a=>a())}}};e.\u0275fac=function(i){return new(i||e)(L(Le),L(Pt),L(Dt),L(K),L(Oo,8))},e.\u0275cmp=C({type:e,selectors:[["formly-field"]],viewQuery:function(i,o){if(i&1&&le(fo,7,K),i&2){let s;ce(s=ue())&&(o.viewContainerRef=s.first)}},inputs:{field:"field"},features:[bt],decls:2,vars:0,consts:[["container",""]],template:function(i,o){i&1&&_n(0,ho,0,0,"ng-template",null,0,b)},styles:["[_nghost-%COMP%]:empty{display:none}"]});let t=e;return t})(),Ao=(()=>{let e=class e extends Io{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["container",""]],template:function(i,o){i&1&&h(0,mo,0,0,"ng-template",null,0,b)},styles:["[_nghost-%COMP%]:empty{display:none}"]});let t=e;return t})(),Do=(()=>{let e=class e extends at{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-group"]],hostVars:2,hostBindings:function(i,o){i&2&&En(o.field.fieldGroupClassName||"")},standalone:!1,features:[y],ngContentSelectors:go,decls:3,vars:0,consts:[[3,"field"]],template:function(i,o){i&1&&(vn(),bn(0,_o,1,1,"formly-field",0,yn),xn(2)),i&2&&Cn(o.field.fieldGroup)},dependencies:[Ao],encapsulation:2,changeDetection:0});let t=e;return t})(),it=new gt("FORMLY_CONFIG");function Si(t){return{types:[{name:"formly-group",component:Do},{name:"formly-template",component:To}],extensions:[{name:"core",extension:new en(t),priority:-250},{name:"field-validation",extension:new nn(t),priority:-200},{name:"field-form",extension:new tn,priority:-150},{name:"field-expression",extension:new Jt,priority:-100}]}}var Pi=(()=>{let e=class e{constructor(n,i,o,s,a=[]){this.config=n,this.injector=i,this.viewContainerRef=o,this.parentForm=s,a&&a.forEach(l=>n.addConfig(l))}buildForm(n,i=[],o,s){this.build({fieldGroup:i,model:o,form:n,options:s})}build(n){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");n.parent||this._setOptions(n),yo(n.form,()=>{if(this._build(n),!n.parent||n.fieldArray){let i=n.options;n.parent&&Ui(n)&&i._hiddenFieldsForCheck?.push({field:n,default:!1}),i.checkExpressions?.(n,!0),i._detectChanges?.(n)}})}_build(n){if(!n)return;let i=Object.values(this.config.extensions);i.forEach(o=>o.prePopulate?.(n)),i.forEach(o=>o.onPopulate?.(n)),n.fieldGroup?.forEach(o=>this._build(o)),i.forEach(o=>o.postPopulate?.(n))}_setOptions(n){n.form=n.form||new Xe({}),n.model=n.model||{},n.options=n.options||{};let i=n.options;i._viewContainerRef||S(i,"_viewContainerRef",this.viewContainerRef),i._injector||S(i,"_injector",this.injector),i.build||(i.build=(o=n)=>(this.build(o),o)),!i.parentForm&&this.parentForm&&(S(i,"parentForm",this.parentForm),on()||D(i,["parentForm","submitted"],({firstChange:o})=>{o||i.detectChanges(n)}))}};e.\u0275fac=function(i){return new(i||e)(Te(Le),Te(_t),Te(K,8),Te(Jn,8),Te(it,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var So=(()=>{let e=class e{get props(){return this.field.props||{}}get fieldAttrElements(){return this.field?._elementRefs||[]}constructor(n,i,o){this.renderer=n,this.elementRef=i,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change","wheel"],callback:(s,a)=>{switch(s){case"focus":return this.onFocus(a);case"blur":return this.onBlur(a);case"change":return this.onChange(a);default:return this.props[s](this.field,a)}}},this.document=o}ngOnChanges(n){n.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(i=>i()),this.uiEvents.events.forEach(i=>{(this.props?.[i]||["focus","blur","change"].indexOf(i)!==-1)&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,i,o=>this.uiEvents.callback(i,o)))}),this.props?.attributes&&D(this.field,["props","attributes"],({currentValue:i,previousValue:o})=>{o&&Object.keys(o).forEach(s=>this.removeAttribute(s)),i&&Object.keys(i).forEach(s=>{i[s]!=null&&this.setAttribute(s,i[s])})}),this.detachElementRef(n.field.previousValue),this.attachElementRef(n.field.currentValue),this.fieldAttrElements.length===1&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=D(this.field,["focus"],({currentValue:i})=>{this.toggleFocus(i)}))),n.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){let n=this.elementRef.nativeElement;this.uiAttributes=[...rn,"tabindex","placeholder","readonly","disabled","step"].filter(i=>!n.hasAttribute||!n.hasAttribute(i))}for(let n=0;n<this.uiAttributes.length;n++){let i=this.uiAttributes[n],o=this.props[i];this.uiAttributesCache[i]!==o&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(i.toLowerCase()))&&(this.uiAttributesCache[i]=o,o||o===0?this.setAttribute(i,o===!0?i:`${o}`):this.removeAttribute(i))}}ngOnDestroy(){this.uiEvents.listeners.forEach(n=>n()),this.detachElementRef(this.field),this.focusObserver?.unsubscribe()}toggleFocus(n){let i=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!i||!i.nativeElement.focus)return;let o=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:s})=>this.document.activeElement===s||s.contains(this.document.activeElement));n&&!o?Promise.resolve().then(()=>i.nativeElement.focus()):!n&&o&&Promise.resolve().then(()=>i.nativeElement.blur())}onFocus(n){this.focusObserver?.setValue(!0),this.props.focus?.(this.field,n)}onBlur(n){this.focusObserver?.setValue(!1),this.props.blur?.(this.field,n)}onHostChange(n){n instanceof Event||this.onChange(n)}onChange(n){this.props.change?.(this.field,n),this.field.formControl?.markAsDirty()}attachElementRef(n){n&&(n._elementRefs?.indexOf(this.elementRef)===-1?n._elementRefs.push(this.elementRef):S(n,"_elementRefs",[this.elementRef]))}detachElementRef(n){let i=n?._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;i!==-1&&n._elementRefs.splice(i,1)}setAttribute(n,i){this.renderer.setAttribute(this.elementRef.nativeElement,n,i)}removeAttribute(n){this.renderer.removeAttribute(this.elementRef.nativeElement,n)}};e.\u0275fac=function(i){return new(i||e)(L(Pt),L(Dt),L(mn))},e.\u0275dir=ve({type:e,selectors:[["","formlyAttributes",""]],hostBindings:function(i,o){i&1&&me("change",function(a){return o.onHostChange(a)})},inputs:{field:[0,"formlyAttributes","field"],id:"id"},features:[bt]});let t=e;return t})(),z=(()=>{let e=class e extends So{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275dir=ve({type:e,selectors:[["","formlyAttributes",""]],hostBindings:function(i,o){i&1&&me("change",function(a){return o.onHostChange(a)})},standalone:!1,features:[y]});let t=e;return t})(),Po=(()=>{let e=class e{constructor(n){this.config=n}ngOnChanges(){let n=rn.map(i=>`templateOptions.${i}`);this.errorMessage$=un(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe(ft(({field:i,type:o,property:s})=>i===this.field&&o==="expressionChanges"&&(s.indexOf("validation")!==-1||n.indexOf(s)!==-1))):dt(null)).pipe(At(null),fn(()=>Ce(this.errorMessage)?this.errorMessage:dt(this.errorMessage)))}get errorMessage(){let n=this.field.formControl;for(let i in n.errors)if(n.errors.hasOwnProperty(i)){let o=this.config.getValidatorMessage(i);if(Z(n.errors[i])){if(n.errors[i].errorPath)return;n.errors[i].message&&(o=n.errors[i].message)}return this.field.validation?.messages?.[i]&&(o=this.field.validation.messages[i]),this.field.validators?.[i]?.message&&(o=this.field.validators[i].message),this.field.asyncValidators?.[i]?.message&&(o=this.field.asyncValidators[i].message),typeof o=="function"?o(n.errors[i],this.field):o}}};e.\u0275fac=function(i){return new(i||e)(L(Le))},e.\u0275cmp=C({type:e,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[bt],decls:2,vars:3,template:function(i,o){i&1&&(v(0),$(1,"async")),i&2&&J(ee(1,1,o.errorMessage$))},dependencies:[ne],encapsulation:2,changeDetection:0});let t=e;return t})(),Li=(()=>{let e=class e extends Po{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-validation-message"]],standalone:!1,features:[y],decls:2,vars:3,template:function(i,o){i&1&&(v(0),$(1,"async")),i&2&&J(ee(1,1,o.errorMessage$))},dependencies:[ne],encapsulation:2,changeDetection:0});let t=e;return t})();var Tt=(()=>{let e=class e extends at{set _formlyControls(n){}set _staticContent(n){this.fieldComponent=n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275dir=ve({type:e,viewQuery:function(i,o){if(i&1&&(le(Di,5,K),le(Di,7,K)),i&2){let s;ce(s=ue())&&(o.fieldComponent=s.first),ce(s=ue())&&(o._staticContent=s.first)}},standalone:!1,features:[y]});let t=e;return t})(),j=(()=>{let e=class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:it,multi:!0,useFactory:Si,deps:[Le]},{provide:it,useValue:n,multi:!0},Le,Pi]}}static forChild(n={}){return{ngModule:e,providers:[{provide:it,multi:!0,useFactory:Si,deps:[Le]},{provide:it,useValue:n,multi:!0},Pi]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A]});let t=e;return t})();function Mo(t,e){t&1&&(m(0,"span",8),v(1,"*"),g())}function No(t,e){if(t&1&&(m(0,"label",6),v(1),h(2,Mo,2,0,"span",7),g()),t&2){let r=d(2);N("for",r.id),p(),W(" ",r.props.label," "),p(),c("ngIf",r.props.required&&r.props.hideRequiredMarker!==!0)}}function Uo(t,e){if(t&1&&h(0,No,3,3,"label",5),t&2){let r=d();c("ngIf",r.props.label&&r.props.hideLabel!==!0)}}function jo(t,e){if(t&1&&(fe(0),ze(1,9),he()),t&2){d();let r=pe(1);p(),c("ngTemplateOutlet",r)}}function Lo(t,e){}function Vo(t,e){if(t&1&&(fe(0),ze(1,9),he()),t&2){d();let r=pe(1);p(),c("ngTemplateOutlet",r)}}function Bo(t,e){if(t&1&&(m(0,"div",10),P(1,"formly-validation-message",11),g()),t&2){let r=d();Fn("display","block"),p(),c("id",wn("",r.id,"-formly-validation-error"))("field",r.field)}}function $o(t,e){if(t&1&&(m(0,"small",12),v(1),g()),t&2){let r=d();p(),J(r.props.description)}}var Ho=["fieldTypeTemplate"],Go=(()=>{let e=class e extends Tt{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-wrapper-form-field"]],standalone:!1,features:[y],decls:9,vars:8,consts:[["labelTemplate",""],["fieldComponent",""],[4,"ngIf"],["class","invalid-feedback",3,"display",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],["class","form-label",4,"ngIf"],[1,"form-label"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[3,"ngTemplateOutlet"],[1,"invalid-feedback"],["role","alert",3,"id","field"],[1,"form-text","text-muted"]],template:function(i,o){i&1&&(h(0,Uo,1,1,"ng-template",null,0,b),m(2,"div"),h(3,jo,2,1,"ng-container",2)(4,Lo,0,0,"ng-template",null,1,b)(6,Vo,2,1,"ng-container",2)(7,Bo,2,5,"div",3)(8,$o,2,1,"small",4),g()),i&2&&(p(2),T("form-floating",o.props.labelPosition==="floating")("has-error",o.showError),p(),c("ngIf",o.props.labelPosition!=="floating"),p(3),c("ngIf",o.props.labelPosition==="floating"),p(),c("ngIf",o.showError),p(),c("ngIf",o.props.description))},dependencies:[te,kn,Li],styles:["[_nghost-%COMP%]{display:block;margin-bottom:1rem}"]});let t=e;return t})();function Vi(){return{wrappers:[{name:"form-field",component:Go}]}}var H=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,j.forChild(Vi())]});let t=e;return t})(),Q=(()=>{let e=class e extends at{set content(n){n&&this.hostContainerRef&&this.hostContainerRef.createEmbeddedView(n)}constructor(n){super(),this.hostContainerRef=n}};e.\u0275fac=function(i){return new(i||e)(L(K,8))},e.\u0275dir=ve({type:e,viewQuery:function(i,o){if(i&1&&le(Ho,7),i&2){let s;ce(s=ue())&&(o.content=s.first)}},standalone:!1,features:[y]});let t=e;return t})();function qo(t,e){if(t&1&&P(0,"input",3),t&2){let r=d(2);T("is-invalid",r.showError),c("type",r.type)("formControl",r.formControl)("formlyAttributes",r.field),N("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError)}}function Wo(t,e){if(t&1&&P(0,"input",4),t&2){let r=d(2);T("is-invalid",r.showError),c("formControl",r.formControl)("formlyAttributes",r.field),N("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError)}}function zo(t,e){if(t&1&&h(0,qo,1,7,"input",2)(1,Wo,1,6,"ng-template",null,1,b),t&2){let r=pe(2),n=d();c("ngIf",n.type!=="number")("ngIfElse",r)}}var Qo=(()=>{let e=class e extends Q{get type(){return this.props.type||"text"}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field-input"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["numberTmp",""],["class","form-control",3,"type","formControl","formlyAttributes","is-invalid",4,"ngIf","ngIfElse"],[1,"form-control",3,"type","formControl","formlyAttributes"],["type","number",1,"form-control",3,"formControl","formlyAttributes"]],template:function(i,o){i&1&&h(0,zo,3,2,"ng-template",null,0,b)},dependencies:[te,Se,Zn,re,oe,z],encapsulation:2,changeDetection:0});let t=e;return t})();function Bi(){return{types:[{name:"input",component:Qo,wrappers:["form-field"]},{name:"string",extends:"input"},{name:"number",extends:"input",defaultOptions:{props:{type:"number"}}},{name:"integer",extends:"input",defaultOptions:{props:{type:"number"}}}]}}var $i=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,H,j.forChild(Bi())]});let t=e;return t})();function Ko(t,e){if(t&1&&P(0,"textarea",1),t&2){let r=d();T("is-invalid",r.showError),c("formControl",r.formControl)("cols",r.props.cols)("rows",r.props.rows)("formlyAttributes",r.field),N("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError)}}var Xo=(()=>{let e=class e extends Q{constructor(){super(...arguments),this.defaultOptions={props:{cols:1,rows:1}}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field-textarea"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],[1,"form-control",3,"formControl","cols","rows","formlyAttributes"]],template:function(i,o){i&1&&h(0,Ko,1,8,"ng-template",null,0,b)},dependencies:[Se,re,oe,z],encapsulation:2,changeDetection:0});let t=e;return t})();function Hi(){return{types:[{name:"textarea",component:Xo,wrappers:["form-field"]}]}}var Gi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,H,j.forChild(Hi())]});let t=e;return t})();var Zo=(()=>{let e=class e{transform(n,i){return n instanceof pt?this.dispose():n=this.observableOf(n,i),n.pipe($e(o=>this.transformOptions(o,i)))}ngOnDestroy(){this.dispose()}transformOptions(n,i){let o=this.transformSelectProps(i),s=[],a={};return n?.forEach(l=>{let u=this.transformOption(l,o);if(u.group){let f=a[u.label];f===void 0?a[u.label]=s.push(u)-1:u.group.forEach(x=>s[f].group.push(x))}else s.push(u)}),s}transformOption(n,i){let o=i.groupProp(n);return Array.isArray(o)?{label:i.labelProp(n),group:o.map(s=>this.transformOption(s,i))}:(n={label:i.labelProp(n),value:i.valueProp(n),disabled:!!i.disabledProp(n)},o?{label:o,group:[n]}:n)}transformSelectProps(n){let i=n?.props||n?.templateOptions||{},o=s=>typeof s=="function"?s:a=>a[s];return{groupProp:o(i.groupProp||"group"),labelProp:o(i.labelProp||"label"),valueProp:o(i.valueProp||"value"),disabledProp:o(i.disabledProp||"disabled")}}dispose(){this._options&&(this._options.complete(),this._options=null),this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}observableOf(n,i){return this.dispose(),i&&i.options&&i.options.fieldChanges&&(this._subscription=i.options.fieldChanges.pipe(ft(({property:o,type:s,field:a})=>s==="expressionChanges"&&(o.indexOf("templateOptions.options")===0||o.indexOf("props.options")===0)&&a===i&&Array.isArray(a.props.options)&&!!this._options),ht(()=>this._options.next(i.props.options))).subscribe()),this._options=new cn(n),this._options.asObservable()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Mt({name:"formlySelectOptions",type:e,pure:!0});let t=e;return t})(),Ve=(()=>{let e=class e extends Zo{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275pipe=Mt({name:"formlySelectOptions",type:e,pure:!0,standalone:!1});let t=e;return t})(),Be=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({});let t=e;return t})();function Yo(t,e){if(t&1&&(m(0,"div",2),P(1,"input",3),m(2,"label",4),v(3),g()()),t&2){let r=e.$implicit,n=e.index,i=d(2);T("form-check-inline",i.props.formCheck==="inline"),p(),T("is-invalid",i.showError),c("id",i.id+"_"+n)("name",i.field.name||i.id)("value",r.value)("formControl",r.disabled?i.disabledControl:i.formControl)("formlyAttributes",i.field),N("value",r.value)("aria-describedby",i.id+"-formly-validation-error")("aria-invalid",i.showError),p(),c("for",i.id+"_"+n),p(),W(" ",r.label," ")}}function Jo(t,e){if(t&1&&(h(0,Yo,4,14,"div",1),$(1,"formlySelectOptions"),$(2,"async")),t&2){let r=d();c("ngForOf",ee(2,4,xe(1,1,r.props.options,r.field)))}}var es=(()=>{let e=class e extends Q{constructor(){super(...arguments),this.defaultOptions={props:{formCheck:"default"}}}get disabledControl(){return new xt({value:this.formControl.value,disabled:!0})}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field-radio"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["class","form-check",3,"form-check-inline",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio",1,"form-check-input",3,"id","name","value","formControl","formlyAttributes"],[1,"form-check-label",3,"for"]],template:function(i,o){i&1&&h(0,Jo,3,6,"ng-template",null,0,b)},dependencies:[Ie,Se,Yn,re,oe,z,ne,Ve],encapsulation:2,changeDetection:0});let t=e;return t})();function qi(){return{types:[{name:"radio",component:es,wrappers:["form-field"]}]}}var Wi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,H,Be,j.forChild(qi())]});let t=e;return t})();var ts=(t,e)=>({"form-check-inline":t,"form-switch":e});function ns(t,e){t&1&&(m(0,"span",6),v(1,"*"),g())}function is(t,e){if(t&1&&(m(0,"label",4),v(1),h(2,ns,2,0,"span",5),g()),t&2){let r=d(2);c("for",r.id),p(),W(" ",r.props.label," "),p(),c("ngIf",r.props.required&&r.props.hideRequiredMarker!==!0)}}function rs(t,e){if(t&1&&(m(0,"div",1),P(1,"input",2),h(2,is,3,3,"label",3),g()),t&2){let r=d();c("ngClass",Ct(11,ts,r.props.formCheck==="inline"||r.props.formCheck==="inline-switch",r.props.formCheck==="switch"||r.props.formCheck==="inline-switch")),p(),T("is-invalid",r.showError)("position-static",r.props.formCheck==="nolabel"),c("indeterminate",r.props.indeterminate&&r.formControl.value==null)("formControl",r.formControl)("formlyAttributes",r.field),N("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError),p(),c("ngIf",r.props.formCheck!=="nolabel")}}var os=(()=>{let e=class e extends Q{constructor(){super(...arguments),this.defaultOptions={props:{indeterminate:!0,hideLabel:!0,formCheck:"default"}}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field-checkbox"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],[1,"form-check",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"indeterminate","formControl","formlyAttributes"],["class","form-check-label",3,"for",4,"ngIf"],[1,"form-check-label",3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"]],template:function(i,o){i&1&&h(0,rs,3,14,"ng-template",null,0,b)},dependencies:[Oe,te,Qn,re,oe,z],encapsulation:2,changeDetection:0});let t=e;return t})();function zi(){return{types:[{name:"checkbox",component:os,wrappers:["form-field"]},{name:"boolean",extends:"checkbox"}]}}var Qi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,H,j.forChild(zi())]});let t=e;return t})();var ss=(t,e)=>({"form-check-inline":t,"form-switch":e});function as(t,e){if(t&1){let r=Qe();m(0,"div",2)(1,"input",3),me("change",function(i){let o=He(r).$implicit,s=d(2);return Ge(s.onChange(o.value,i.target.checked))}),g(),m(2,"label",4),v(3),g()()}if(t&2){let r=e.$implicit,n=e.index,i=d(2);c("ngClass",Ct(12,ss,i.props.formCheck==="inline"||i.props.formCheck==="inline-switch",i.props.formCheck==="switch"||i.props.formCheck==="inline-switch")),p(),T("is-invalid",i.showError),c("id",i.id+"_"+n)("value",r.value)("checked",i.isChecked(r))("formlyAttributes",i.field)("disabled",i.formControl.disabled||r.disabled),N("aria-describedby",i.id+"-formly-validation-error")("aria-invalid",i.showError),p(),c("for",i.id+"_"+n),p(),W(" ",r.label," ")}}function ls(t,e){if(t&1&&(h(0,as,4,15,"div",1),$(1,"formlySelectOptions"),$(2,"async")),t&2){let r=d();c("ngForOf",ee(2,4,xe(1,1,r.props.options,r.field)))}}var cs=(()=>{let e=class e extends Q{constructor(){super(...arguments),this.defaultOptions={props:{formCheck:"default"}}}onChange(n,i){this.formControl.markAsDirty(),this.props.type==="array"?this.formControl.patchValue(i?[...this.formControl.value||[],n]:[...this.formControl.value||[]].filter(o=>o!==n)):this.formControl.patchValue(be(q({},this.formControl.value),{[n]:i})),this.formControl.markAsTouched()}isChecked(n){let i=this.formControl.value;return i&&(this.props.type==="array"?i.indexOf(n.value)!==-1:i[n.value])}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field-multicheckbox"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["class","form-check",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-check",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"change","id","value","checked","formlyAttributes","disabled"],[1,"form-check-label",3,"for"]],template:function(i,o){i&1&&h(0,ls,3,6,"ng-template",null,0,b)},dependencies:[Oe,Ie,z,ne,Ve],encapsulation:2,changeDetection:0});let t=e;return t})();function Ki(){return{types:[{name:"multicheckbox",component:cs,wrappers:["form-field"]}]}}var Xi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,H,Be,j.forChild(Ki())]});let t=e;return t})();function us(t,e){if(t&1&&(m(0,"option",8),v(1),g()),t&2){let r=d().$implicit;c("ngValue",r.value)("disabled",r.disabled),p(),W(" ",r.label," ")}}function ps(t,e){if(t&1&&(m(0,"option",8),v(1),g()),t&2){let r=e.$implicit;c("ngValue",r.value)("disabled",r.disabled),p(),W(" ",r.label," ")}}function ds(t,e){if(t&1&&(m(0,"optgroup",9),h(1,ps,2,3,"option",10),g()),t&2){let r=d().$implicit;c("label",r.label),p(),c("ngForOf",r.group)}}function fs(t,e){if(t&1&&(fe(0),h(1,us,2,3,"option",7)(2,ds,2,2,"ng-template",null,2,b),he()),t&2){let r=e.$implicit,n=pe(3);p(),c("ngIf",!r.group)("ngIfElse",n)}}function hs(t,e){if(t&1&&(fe(0),h(1,fs,4,2,"ng-container",6),he()),t&2){let r=e.ngIf;p(),c("ngForOf",r)}}function ms(t,e){if(t&1&&(m(0,"select",4),h(1,hs,2,1,"ng-container",5),$(2,"formlySelectOptions"),$(3,"async"),g()),t&2){let r=d(2);T("is-invalid",r.showError),c("formControl",r.formControl)("compareWith",r.props.compareWith)("formlyAttributes",r.field),N("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError),p(),c("ngIf",ee(3,11,xe(2,8,r.props.options,r.field)))}}function gs(t,e){if(t&1&&(m(0,"option",13),v(1),g()),t&2){let r=d(3);c("ngValue",void 0),p(),J(r.props.placeholder)}}function _s(t,e){if(t&1&&(m(0,"option",8),v(1),g()),t&2){let r=d().$implicit;c("ngValue",r.value)("disabled",r.disabled),p(),W(" ",r.label," ")}}function ys(t,e){if(t&1&&(m(0,"option",8),v(1),g()),t&2){let r=e.$implicit;c("ngValue",r.value)("disabled",r.disabled),p(),W(" ",r.label," ")}}function bs(t,e){if(t&1&&(m(0,"optgroup",9),h(1,ys,2,3,"option",10),g()),t&2){let r=d().$implicit;c("label",r.label),p(),c("ngForOf",r.group)}}function Cs(t,e){if(t&1&&(fe(0),h(1,_s,2,3,"option",7)(2,bs,2,2,"ng-template",null,2,b),he()),t&2){let r=e.$implicit,n=pe(3);p(),c("ngIf",!r.group)("ngIfElse",n)}}function vs(t,e){if(t&1&&(fe(0),h(1,Cs,4,2,"ng-container",6),he()),t&2){let r=e.ngIf;p(),c("ngForOf",r)}}function xs(t,e){if(t&1&&(m(0,"select",11),h(1,gs,2,2,"option",12)(2,vs,2,1,"ng-container",5),$(3,"formlySelectOptions"),$(4,"async"),g()),t&2){let r=d(2);T("is-invalid",r.showError),c("formControl",r.formControl)("compareWith",r.props.compareWith)("formlyAttributes",r.field),N("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError),p(),c("ngIf",r.props.placeholder),p(),c("ngIf",ee(4,12,xe(3,9,r.props.options,r.field)))}}function Fs(t,e){if(t&1&&h(0,ms,4,13,"select",3)(1,xs,5,14,"ng-template",null,1,b),t&2){let r=pe(2),n=d();c("ngIf",n.props.multiple)("ngIfElse",r)}}var Es=(()=>{let e=class e extends Q{constructor(){super(...arguments),this.defaultOptions={props:{compareWith(n,i){return n===i}}}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=E(e)))(o||e)}})(),e.\u0275cmp=C({type:e,selectors:[["formly-field-select"]],standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["singleSelect",""],["optgroup",""],["class","form-select","multiple","",3,"formControl","compareWith","is-invalid","formlyAttributes",4,"ngIf","ngIfElse"],["multiple","",1,"form-select",3,"formControl","compareWith","formlyAttributes"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngValue","disabled",4,"ngIf","ngIfElse"],[3,"ngValue","disabled"],[3,"label"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"form-select",3,"formControl","compareWith","formlyAttributes"],[3,"ngValue",4,"ngIf"],[3,"ngValue"]],template:function(i,o){i&1&&h(0,Fs,3,2,"ng-template",null,0,b)},dependencies:[Ie,te,ti,ii,ei,ni,re,oe,z,ne,Ve],encapsulation:2,changeDetection:0});let t=e;return t})();function Zi(){return{types:[{name:"select",component:Es,wrappers:["form-field"]},{name:"enum",extends:"select"}]}}var Yi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,H,Be,j.forChild(Zi())]});let t=e;return t})();var ws=["fieldTypeTemplate"];function Rs(t,e){if(t&1&&P(0,"i",7),t&2){let r=d(3);c("ngClass",r.props.addonLeft.class)}}function ks(t,e){if(t&1&&(m(0,"span"),v(1),g()),t&2){let r=d(3);p(),J(r.props.addonLeft.text)}}function Ts(t,e){if(t&1){let r=Qe();m(0,"div",4),me("click",function(i){He(r);let o=d(2);return Ge(o.addonLeftClick(i))}),h(1,Rs,1,1,"i",5)(2,ks,2,1,"span",6),g()}if(t&2){let r=d(2);T("input-group-btn",r.props.addonLeft.onClick),p(),c("ngIf",r.props.addonLeft.class),p(),c("ngIf",r.props.addonLeft.text)}}function Os(t,e){if(t&1&&P(0,"i",7),t&2){let r=d(3);c("ngClass",r.props.addonRight.class)}}function Is(t,e){if(t&1&&(m(0,"span"),v(1),g()),t&2){let r=d(3);p(),J(r.props.addonRight.text)}}function As(t,e){if(t&1){let r=Qe();m(0,"div",4),me("click",function(i){He(r);let o=d(2);return Ge(o.addonRightClick(i))}),h(1,Os,1,1,"i",5)(2,Is,2,1,"span",6),g()}if(t&2){let r=d(2);T("input-group-btn",r.props.addonRight.onClick),p(),c("ngIf",r.props.addonRight.class),p(),c("ngIf",r.props.addonRight.text)}}function Ds(t,e){if(t&1&&(m(0,"div",2),h(1,Ts,3,4,"div",3),ze(2,null,1),h(4,As,3,4,"div",3),g()),t&2){let r=d();T("has-validation",r.showError),p(),c("ngIf",r.props.addonLeft),p(3),c("ngIf",r.props.addonRight)}}var Ss=(()=>{let e=class e extends Tt{set content(n){n&&this.hostContainerRef&&this.hostContainerRef.createEmbeddedView(n)}constructor(n){super(),this.hostContainerRef=n}addonRightClick(n){this.props.addonRight.onClick?.(this.field,n)}addonLeftClick(n){this.props.addonLeft.onClick?.(this.field,n)}};e.\u0275fac=function(i){return new(i||e)(L(K))},e.\u0275cmp=C({type:e,selectors:[["formly-wrapper-addons"]],viewQuery:function(i,o){if(i&1&&le(ws,7),i&2){let s;ce(s=ue())&&(o.content=s.first)}},standalone:!1,features:[y],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["fieldComponent",""],[1,"input-group"],["class","input-group-text",3,"input-group-btn","click",4,"ngIf"],[1,"input-group-text",3,"click"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"ngClass"]],template:function(i,o){i&1&&h(0,Ds,5,4,"ng-template",null,0,b)},dependencies:[Oe,te],styles:[`formly-wrapper-form-field .input-group-btn{cursor:pointer}
`],encapsulation:2});let t=e;return t})();function Ps(t){!t.props||t.wrappers&&t.wrappers.indexOf("addons")!==-1||(t.props.addonLeft||t.props.addonRight)&&(t.wrappers=[...t.wrappers||[],"addons"])}function Ji(){return{wrappers:[{name:"addons",component:Ss}],extensions:[{name:"addons",extension:{postPopulate:Ps}}]}}var er=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[A,U,j.forChild(Ji())]});let t=e;return t})();var Nl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=F({imports:[H,$i,Gi,Wi,Qi,Xi,Yi,er]});let t=e;return t})();export{nt as a,sa as b,aa as c,la as d,ca as e,ua as f,pa as g,j as h,Nl as i};
